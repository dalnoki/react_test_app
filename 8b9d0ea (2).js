/*! For license information please see LICENSES */

!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="975562ad-0ead-5de9-84fe-65cd183e77bc")}catch(e){}}();
(window.webpackJsonp=window.webpackJsonp||[]).push([[155,10,11,27,178,184,196],{1003:function(t,e,n){"use strict";var r=n(12),o=n(900),l={components:{BtnSave:n(943).a},props:{icon:{type:String,default:"icon icon-save"},color:{type:String,default:"success"},saving:{type:Boolean,default:!1},label:{type:String,default:"Speichern"},disabled:{type:Boolean,default:!1}}},c=n(42),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e(r.a,{staticClass:"pb-5 px-5"},[t._t("default"),t._v(" "),e(o.a),t._v(" "),e("btn-save",{attrs:{color:t.color,saving:t.saving,disabled:t.disabled,label:t.label,icon:t.icon,"data-cy":"modalFooterSaveButton"},on:{click:function(e){return t.$emit("click")}}})],2)}),[],!1,null,null,null);e.a=component.exports},1007:function(t,e,n){"use strict";var r=n(373),o=n(345),l=n(367),c=n(12),d=n(885),h=n(316),f=n(365),m=n(369),v=n(252),y=n(81),x=n(211),w=n(1331),k=(n(45),{props:{color:{type:[String],default:null},label:{type:String,default:""},image:{type:[String,Boolean],default:!1},userId:{type:[Number,String],default:""},dense:{type:Boolean,default:!1}},data:function(){return{isVisible:!1,user:!1,isLoading:!1,system:!1,img:!1}},computed:{hasAddress:function(){return!!(this.user.street||this.user.street_nr||this.user.zip||this.user.city)},themeColor:function(){return null==this.color?this.$vuetify.theme.dark?"grey darken-3":"grey darken-1":this.color}},watch:{isVisible:function(t){var e=this;t&&!1===this.user&&(this.isLoading=!0,this.$axios("users/"+this.userId).then((function(t){e.user=t.data,e.isLoading=!1}),(function(){e.user=null,e.isLoading=!1})))}},created:function(){-1==this.userId?(this.system=!0,this.img=n(1022)):this.img=this.image}}),_=n(42),component=Object(_.a)(k,(function(){var t=this,e=t._self._c;return e(w.a,{attrs:{"close-on-content-click":!1,"open-on-hover":"","offset-y":"","open-delay":"100","close-delay":"750",disabled:t.system},scopedSlots:t._u([{key:"activator",fn:function(n){var l=n.on,c=n.attrs;return[e(o.a,t._g(t._b({attrs:{loading:t.isLoading,color:t.themeColor,fab:"",small:!t.dense,"x-small":t.dense}},"v-btn",c,!1),l),[t.img?e(r.a,{attrs:{size:"38"}},[t.system?e(f.a,{attrs:{src:t.img}}):e(f.a,{attrs:{src:"".concat(t.img,"/thumb/300x300")}})],1):e("span",{staticClass:"white--text"},[t._v("\n        "+t._s(t.$organisation.avatarify(t.label))+"\n      ")])],1)]}}]),model:{value:t.isVisible,callback:function(e){t.isVisible=e},expression:"isVisible"}},[t._v(" "),e(l.a,{attrs:{loading:t.isLoading,width:"300"}},[t.user?e("div",[t.img?e(f.a,{attrs:{src:"".concat(t.img,"/thumb/300x300"),height:"200px",dark:""}},[e(c.d,{staticClass:"pb-1",staticStyle:{"background-color":"rgba(0,0,0,0.5)"}},[t._v("\n          "+t._s(t.user.firstname)+" "+t._s(t.user.lastname)+"\n        ")]),t._v(" "),t.user.company||t.user.company_position?e(c.b,{staticClass:"mt-0 pt-0 pb-1",staticStyle:{"background-color":"rgba(0,0,0,0.5)"}},[t._v("\n          "+t._s(t.user.company)),t.user.company_position?e("small",[e("br"),t._v(t._s(t.user.company_position))]):t._e()]):t._e()],1):e("div",[e(c.d,[t._v(t._s(t.user.firstname)+" "+t._s(t.user.lastname))]),t._v(" "),t.user.company||t.user.company_position?e(c.b,[t._v("\n          "+t._s(t.user.company)),t.user.company_position?e("small",[e("br"),t._v(t._s(t.user.company_position))]):t._e()]):t._e()],1),t._v(" "),e(m.a,{staticClass:"mt-0 pt-0"},[t.user.mobile?e(v.a,[e(x.a,[e(h.a,[t._v("\n              icon icon-phone\n            ")])],1),t._v(" "),e(y.b,[e(y.d,[e("small",{staticClass:"text-caption grey--text"},[t._v("Mobile")]),e("br"),t._v(" "),e("a",{attrs:{href:"tel:+".concat(t.user.mobile)}},[t._v(t._s(t.user.mobile))])])],1)],1):t._e(),t._v(" "),t.user.tel?e(v.a,[e(x.a,[e(h.a,[t._v("\n              icon icon-phone\n            ")])],1),t._v(" "),e(y.b,[e(y.d,[e("small",{staticClass:"text-caption grey--text"},[t._v("Telefon")]),e("br"),t._v(" "),e("a",{attrs:{href:"tel:+".concat(t.user.tel)}},[t._v(t._s(t.user.tel))])])],1)],1):t._e(),t._v(" "),t.user.email?e(d.a):t._e(),t._v(" "),t.user.email?e(v.a,[e(x.a,[e(h.a,[t._v("\n              icon icon-email\n            ")])],1),t._v(" "),e(y.b,[e(y.d,[e("a",{attrs:{href:"mailto:".concat(t.user.email)}},[t._v(t._s(t.user.email))])])],1)],1):t._e(),t._v(" "),t.hasAddress?e(d.a):t._e(),t._v(" "),t.hasAddress?e(v.a,[e(x.a,[e(h.a,[t._v("\n              icon icon-poi\n            ")])],1),t._v(" "),e(y.b,[t.user.street||t.user.street_nr?e(y.d,[t._v("\n              "+t._s(t.user.street)+" "+t._s(t.user.street_nr)+"\n            ")]):t._e(),t._v(" "),t.user.zip||t.user.city?e(y.c,[t._v("\n              "+t._s(t.user.zip)+" "+t._s(t.user.city)+"\n            ")]):t._e()],1)],1):t._e(),t._v(" "),e(d.a),t._v(" "),e(v.a,[e(x.a,[e(h.a,[t._v("\n              icon icon-clock\n            ")])],1),t._v(" "),e(y.b,[e(y.d,[e("small",{staticClass:"text-caption grey--text"},[t._v("Letztes Login")]),e("br"),t._v("\n              "+t._s(t.$moment(1e3*t.user.login_timestamp).fromNow())+"\n            ")])],1)],1)],1),t._v(" "),e(d.a),t._v(" "),e(c.a,[e(o.a,{attrs:{nuxt:"",to:{name:"content-users-id",params:{id:t.user.id}},text:"",block:"",small:""}},[e(h.a,{attrs:{left:""}},[t._v("\n            icon icon-user\n          ")]),t._v("\n          Bearbeiten\n        ")],1)],1)],1):t._e(),t._v(" "),null!==t.user||t.isLoading?t._e():e(c.c,[e(c.d,[t._v("\n        "+t._s(t.label)+"\n      ")]),t._v(" "),e(c.b,[t._v("\n        Du hast keine Berechtigung, um mehr Informationen anzuzeigen.\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},1009:function(t,e,n){"use strict";n(10)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},1011:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(5),n(13);var r=n(2),o=(n(219),n(220),n(954),n(101)),l=n(16);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=o.a.extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return d(d({},o.a.options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(l.a)("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"==typeof this.value[0]&&Object(l.a)(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(t,e){var n=this.getValue(t,e),r=this.getValue(t,e+1);t.isActive=this.toggleMethod(n),t.nextIsActive=this.toggleMethod(r)}}})},1012:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(5),n(13);var r=n(2),o=n(115),l=n(180),c=n(0),d=n(7);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=Object(d.a)(Object(o.a)("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(l.b)("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(t){this.content=t},unregisterContent:function(){this.content=null},registerHeader:function(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var t=this;this.$nextTick((function(){return t.$emit("change")}))}},render:function(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(c.t)(this))}})},1013:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(5),n(13);var r=n(2),o=n(85),l=n(54),c=n(49),d=n(180),h=n(131),f=n(0),m=n(7);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x=Object(m.a)(c.a,Object(d.a)("expansionPanel","v-expansion-panel-header","v-expansion-panel"));e.a=x.extend().extend({name:"v-expansion-panel-header",directives:{ripple:h.a},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(t){this.$emit("click",t)},genIcon:function(){var t=Object(f.t)(this,"actions",{open:this.isActive})||[this.$createElement(l.a,this.expandIcon)];return this.$createElement(o.d,[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render:function(t){var e=this;return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:y(y({},this.$listeners),{},{click:this.onClick,mousedown:function(){return e.hasMousedown=!0},mouseup:function(){return e.hasMousedown=!1}})}),[Object(f.t)(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},1014:function(t,e,n){"use strict";var r=n(85),o=n(182),l=n(49),c=n(180),d=n(0),h=n(7),f=Object(h.a)(o.a,l.a,Object(c.a)("expansionPanel","v-expansion-panel-content","v-expansion-panel"));e.a=f.extend().extend({name:"v-expansion-panel-content",data:function(){return{isActive:!1}},computed:{parentIsActive:function(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler:function(t,e){var n=this;t&&(this.isBooted=!0),null==e?this.isActive=t:this.$nextTick((function(){return n.isActive=t}))}}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(t){var e=this;return t(r.a,this.showLazyContent((function(){return[t("div",e.setBackgroundColor(e.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:e.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(d.t)(e,"default",{open:e.isActive}))])]})))}})},1015:function(t,e,n){var content=n(1016);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("375c4402",content,!0,{sourceMap:!1})},1016:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}.v-tooltip,[v-cloak]{display:none}.v-tooltip--attached{display:inline}.v-tooltip__content{background:rgba(97,97,97,.9);border-radius:15px;color:#fff;display:inline-block;font-size:14px;line-height:22px;opacity:0;padding:5px 16px;pointer-events:none;position:absolute;text-transform:none;width:auto}.v-tooltip__content.menuable__content__active{opacity:.9}.v-tooltip__content--fixed{position:fixed}.v-tooltip__content[class*=-active]{transition-timing-function:cubic-bezier(0,0,.2,1)}.v-tooltip__content[class*=enter-active]{transition-duration:.15s}.v-tooltip__content[class*=leave-active]{transition-duration:75ms}',""]),v.locals={},t.exports=v},1018:function(t,e,n){"use strict";var r=n(953),o=n(345),l=n(367),c=n(12),d=n(909),h=n(885),f=n(316),m=n(365),v=n(369),y=n(252),x=n(371),w=n(81),k=n(1331),_=n(905),O=(n(45),n(936)),S={components:{EntityPinButton:n(982).a},props:{id:{type:[String,Number],required:!0},type:{type:String,required:!0},openDelay:{type:Number,default:250}},data:function(){return{menu:!1,entity:!1,isLoading:!1}},computed:{imageSource:function(){return this.entity.entityImageProxyAllowed?"".concat(this.entity.entityImage,"/thumb/300x300"):this.entity.entityImage}},watch:{menu:function(t){var e=this;t&&!1===this.entity&&(this.isLoading=!0,this.$axios("entity/"+this.type+"/"+this.id).then((function(t){e.entity=t.data,e.isLoading=!1}),(function(){e.entity=null,e.isLoading=!1})))}},methods:{toRoute:function(){return Object(O.a)(this.entity)}}},M=n(42),component=Object(M.a)(S,(function(){var t=this,e=t._self._c;return e(k.a,{attrs:{"open-on-hover":"","close-on-content-click":"","close-delay":"150","open-delay":t.openDelay,"offset-y":"","min-height":"auto","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[t._t("activator",null,null,{on:n,attrs:r})]}}],null,!0),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),t.entity?e(l.a,{attrs:{width:"325"}},[t.entity.entityImage?e(m.a,{attrs:{src:t.imageSource,"min-height":"150px","max-height":"200px",dark:""}},[e(c.d,{staticClass:"text-subtitle-2",staticStyle:{"background-color":"rgba(0,0,0,0.5)"}},[e(r.a,{attrs:{inline:"",color:t.entity.entityStatus?"success":"red",dot:"",left:""}},[e("span",{staticClass:"pl-1"},[t._v("\n            "+t._s(t.entity.entityTitle)+"\n          ")])])],1),t._v(" "),t.entity.subtitle&&t.entity.subtitle.length>0?e(c.b,{staticClass:"mt-0 pt-0 pb-3",staticStyle:{"background-color":"rgba(0,0,0,0.5)"}},[t._v("\n        "+t._s(t.entity.subtitle)+"\n      ")]):t.entity.entityTeaser&&t.entity.entityTeaser.length>0?e(c.b,{staticClass:"mt-0 pt-0 pb-3",staticStyle:{"background-color":"rgba(0,0,0,0.5)"}},[t._v("\n        "+t._s(t.entity.entityTeaser)+"\n      ")]):t._e()],1):e("div",[e(c.d,{staticClass:"text-subtitle-2"},[e(r.a,{attrs:{inline:"",color:t.entity.entityStatus?"success":"red",dot:"",left:""}},[e("span",{staticClass:"pl-1"},[t._v("\n            "+t._s(t.entity.entityTitle)+"\n          ")])])],1),t._v(" "),t.entity.subtitle&&t.entity.subtitle.length>0?e(c.b,[t._v("\n        "+t._s(t.entity.subtitle)+"\n      ")]):t.entity.entityTeaser&&t.entity.entityTeaser.length>0?e(c.b,[t._v("\n        "+t._s(t.entity.entityTeaser)+"\n      ")]):t._e()],1),t._v(" "),t.entity.entityTimeStart||t.entity.entityTimeEnd?e(c.c,{staticClass:"pb-0 text-center text-caption"},[t.entity.entityTimeStart?e("span",{staticClass:"mr-1"},[e(f.a,{attrs:{left:"",small:""}},[t._v("icon icon-start")]),t._v("\n        "+t._s(t.$moment(1e3*t.entity.entityTimeStart).format("dd, D.M.YY H:mm"))+"\n      ")],1):t._e(),t._v(" "),t.entity.entityTimeEnd?e("span",{staticClass:"ml-1"},[e(f.a,{attrs:{left:"",small:""}},[t._v("icon icon-end")]),t._v("\n        "+t._s(t.$moment(1e3*t.entity.entityTimeEnd).format("dd, D.MM.YYYY H:mm"))+"\n      ")],1):t._e()]):t._e(),t._v(" "),e(v.a,{attrs:{dense:""}},[e(y.a,[e(x.a,[e(f.a,[t._v("\n            icon icon-schema\n          ")])],1),t._v(" "),e(w.b,[e(w.d,[e("small",{staticClass:"text-caption grey--text"},[t._v("Entität")]),e("br"),t._v("\n            "+t._s(t.entity.entityTypeLabel)+"\n          ")])],1)],1),t._v(" "),e(h.a),t._v(" "),e(y.a,{attrs:{"two-line":""}},[e(x.a,[e(f.a,[t._v("\n            icon icon-edit\n          ")])],1),t._v(" "),e(w.b,[e(w.d,[e("small",{staticClass:"text-caption grey--text"},[t._v("Zuletzt aktualisiert")]),e("br"),t._v("\n            "+t._s(t.$moment(1e3*t.entity.entityUpdatedAt).fromNow())+"\n          ")])],1)],1),t._v(" "),e(h.a),t._v(" "),e(y.a,[e(x.a,[e(f.a,[t._v("\n            icon icon-clock\n          ")])],1),t._v(" "),e(w.b,[e(w.d,[e("small",{staticClass:"text-caption grey--text"},[t._v("Erstellt")]),e("br"),t._v("\n            "+t._s(t.$moment(1e3*t.entity.entityCreatedAt).fromNow())+"\n          ")])],1)],1)],1),t._v(" "),e(c.c,[e(_.a,[e(d.a,{attrs:{cols:"6"}},[e("entity-pin-button",{attrs:{id:t.entity.entityId,type:t.entity.entityType,fab:!1,block:"",small:""}})],1),t._v(" "),e(d.a,{attrs:{cols:"6"}},[e(o.a,{attrs:{block:"",small:"",target:"_blank",nuxt:"",link:"",to:t.toRoute()}},[e(f.a,{attrs:{left:"",small:""}},[t._v("\n              icon icon-link\n            ")]),t._v("\n            Anzeigen\n          ")],1)],1)],1)],1)],1):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},1019:function(t,e,n){t.exports=n.p+"img/warning.2128868.png"},1020:function(t,e,n){var content=n(1021);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("131a4cbb",content,!0,{sourceMap:!1})},1021:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-pagination .v-pagination__item{background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-pagination .v-pagination__item--active{color:#fff}.theme--light.v-pagination .v-pagination__navigation{background:#fff}.theme--dark.v-pagination .v-pagination__item{background:#1e1e1e;color:#fff}.theme--dark.v-pagination .v-pagination__item--active{color:#fff}.theme--dark.v-pagination .v-pagination__navigation{background:#1e1e1e}.v-pagination{align-items:center;display:inline-flex;justify-content:center;list-style-type:none;margin:0;max-width:100%;width:100%}.v-pagination.v-pagination{padding-left:0}.v-pagination>li{align-items:center;display:flex}.v-pagination--circle .v-pagination__item,.v-pagination--circle .v-pagination__more,.v-pagination--circle .v-pagination__navigation{border-radius:50%}.v-pagination--disabled{opacity:.6;pointer-events:none}.v-pagination__item{background:transparent;border-radius:15px;box-shadow:0 3px 1px -2px rgba(78,78,78,.2),0 2px 2px 0 rgba(53,53,53,.14),0 1px 5px 0 rgba(0,0,0,.12);font-size:1rem;height:34px;margin:.3rem;min-width:34px;padding:0 5px;-webkit-text-decoration:none;text-decoration:none;transition:.3s cubic-bezier(0,0,.2,1);width:auto}.v-pagination__item--active{box-shadow:0 2px 4px -1px rgba(78,78,78,.2),0 4px 5px 0 rgba(53,53,53,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-pagination__navigation{align-items:center;border-radius:15px;box-shadow:0 3px 1px -2px rgba(78,78,78,.2),0 2px 2px 0 rgba(53,53,53,.14),0 1px 5px 0 rgba(0,0,0,.12);display:inline-flex;height:32px;justify-content:center;margin:.3rem 10px;-webkit-text-decoration:none;text-decoration:none;width:32px}.v-pagination__navigation .v-icon{transition:.2s cubic-bezier(.4,0,.6,1);vertical-align:middle}.v-pagination__navigation--disabled{opacity:.6;pointer-events:none}.v-pagination__more{align-items:flex-end;display:inline-flex;height:32px;justify-content:center;margin:.3rem;width:32px}',""]),v.locals={},t.exports=v},1022:function(t,e,n){t.exports=n.p+"img/flyoavatar.778cbe3.png"},1025:function(t,e,n){"use strict";n(17),n(20),n(21),n(15),n(13);var r=n(2),o=(n(14),n(124),n(167),n(60),n(89),n(5),n(93),n(143),n(963),n(1010)),l=n(218),c=n(94),d=n(0);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=f(f({},o.b),{},{offsetY:!0,offsetOverflow:!0,transition:!1});e.a=o.a.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:o.a.options.props.menuProps.type,default:function(){return m}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return f(f({},o.a.options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(d.s)(e,t.itemText),text=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),text)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=o.a.options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),f(f({},m),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(i){return t.valueComparator(t.getValue(i),t.getValue(t.internalValue))}))},listData:function(){var data=o.a.options.computed.listData.call(this);return data.props=f(f({},data.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),data}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=null)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(t,e){var n=this;if(t!==e){if(!this.autoSelectFirst){var r=e[this.$refs.menu.listIndex];r?this.setMenuIndex(t.findIndex((function(i){return i===r}))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.autoSelectFirst&&t.length&&(n.setMenuIndex(0),n.$emit("update:list-index",n.$refs.menu.listIndex)))}))}},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===d.z.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===d.z.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==d.z.backspace&&t!==d.z.delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var r=t!==this.selectedItems.length-1?t:t-1;this.selectedItems[r]?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=r}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=null,o.a.options.methods.clearableCallback.call(this)},genInput:function(){var input=l.a.options.methods.genInput.call(this);return input.data=Object(c.a)(input.data,{attrs:{"aria-activedescendant":Object(d.q)(this.$refs.menu,"activeTile.id"),autocomplete:Object(d.q)(input.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),input},genInputSlot:function(){var slot=o.a.options.methods.genInputSlot.call(this);return slot.data.attrs.role="combobox",slot},genSelections:function(){return this.hasSlot||this.multiple?o.a.options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.multiple||""!==n||this.deleteCurrentItem(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;!t.ctrlKey&&[d.z.home,d.z.end].includes(e)||o.a.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){o.a.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){o.a.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){o.a.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){var e,n;if(-1!==this.selectedIndex){var r=this.selectedItems[this.selectedIndex],o=this.getText(r);null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",o),null===(n=t.clipboardData)||void 0===n||n.setData("text/vnd.vuetify.autocomplete.item+plain",o),t.preventDefault()}}}})},1027:function(t,e,n){"use strict";var r=n(345),o=n(367),l=n(12),c=n(909),d=n(884),h=n(885),f=n(316),m=n(365),v=n(905),y=n(273),x=n(902),w=(n(65),{data:function(){return{keepConflict:!0}},computed:{hasConflict:function(){return this.keepConflict&&this.$store.getters["hub/hasBreadcrumbExceptUser"](this.$auth.user.id)}}}),k=n(42),component=Object(k.a)(w,(function(){var t=this,e=t._self._c;return e(d.a,{attrs:{value:t.hasConflict,width:"750",persistent:""}},[e(o.a,{attrs:{color:"warning",dark:""}},[e(l.c,{staticClass:"pt-5"},[e(v.a,[e(c.a,{attrs:{cols:"9"}},[e("h2",[t._v("\n            Diese Seite ist gesperrt\n          ")]),t._v(" "),e("p",{staticClass:"text-caption white--text"},[t._v("\n            Gesperrt durch "),e("b",[t._v(t._s(t.hasConflict.name))]),t._v(". Letzte Aktivität "),e("b",[t._v(t._s(t.$moment(1e3*t.hasConflict.last_activity).fromNow()))]),t._v(".\n          ")]),t._v(" "),e("p",[t._v("Diese Seite wird aktuell von "+t._s(t.hasConflict.name)+" bearbeitet. Um Datenkollisionen zu vermeiden, ist die Seite gesperrt bis "+t._s(t.hasConflict.name)+" die Seite verlässt. Fahre über einen der unten stehenden Links an einem anderen Ort fort oder warte bis "+t._s(t.hasConflict.name)+" diese Seite verlässt.")]),t._v(" "),t.hasConflict.is_active?t._e():e(o.a,{attrs:{flat:""}},[e(l.b,[e("b",[t._v(t._s(t.hasConflict.name))]),t._v(" scheint inaktiv zu sein. Du kannst diesen Dialog vorübergehend ausblenden, riskierst aber möglicherweise Datenverlust.")]),t._v(" "),e(l.c,[e(r.a,{attrs:{block:"",text:"",small:""},on:{click:function(e){t.keepConflict=!1}}},[e(f.a,{attrs:{left:""}},[t._v("\n                  icon icon-close\n                ")]),t._v(" Dialog ausblenden\n              ")],1)],1)],1)],1),t._v(" "),e(c.a,{attrs:{cols:"3"}},[e(m.a,{staticClass:"mx-auto",attrs:{"max-width":"150",src:n(1019)}})],1)],1),t._v(" "),e(h.a,{staticClass:"mb-5 mt-6"}),t._v(" "),e(y.b,[e(x.a,[e(r.a,{attrs:{"x-small":"",to:"/"}},[e(f.a,{attrs:{left:""}},[t._v("\n              icon icon-home\n            ")]),t._v("\n            Dashboard\n          ")],1)],1),t._v(" "),t._l(t.$store.state.hub.previousBreadcrumbs,(function(n,o){return e(x.a,{key:o},[e(r.a,{attrs:{"x-small":"",rounded:"",text:"",disabled:!n.to},on:{click:function(e){return t.$router.push(n.to)}}},[e(f.a,{attrs:{small:""}},[t._v("\n              icon icon-arrow-right\n            ")]),t._v("\n            "+t._s(n.text)+"\n          ")],1)],1)}))],2)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},1032:function(t,e,n){"use strict";n.r(e);var r=n(345),o=n(367),l=n(12),c=n(1311),d=n(884),h=n(316),f=n(1249),m=n(1138),v=n(1329),y=n(218),x=n(1186),w=(n(45),{name:"VDatetimePicker",components:{ModalUseCloseFooter:n(968).a},props:{value:{type:[Date,String],default:null},clearable:{type:Boolean,default:!0},dense:{type:Boolean,default:!1},disabled:{type:Boolean},loading:{type:Boolean},label:{type:String,default:""},dialogWidth:{type:Number,default:380},hint:{type:String,default:""},textFieldProps:{type:Object},timePickerProps:{type:Object},datePickerProps:{type:Object},hideDetails:{type:Boolean,default:!1},rules:{type:Array,default:function(){return[]}},errorMessages:{type:[Array,String],default:function(){return[]}}},data:function(){return{display:!1,activeTab:0,date:null,time:"00:00:00"}},computed:{isDisabled:function(){return!this.date||!this.time},formattedDatetime:function(){return this.value?this.$moment(this.value).format("DD.MM.YYYY HH:mm"):""},dateSelected:function(){return!this.date},currentMoment:function(){if(this.date&&this.time){var t=this.date+" "+this.time;return 5===this.time.length&&(t+=":00"),this.$moment(t,"YYYY-MM-DD HH:mm:ss")}return null}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){if(this.value){var t=this.$moment(this.value),e=t.format("YYYY-MM-DD"),time=t.format("HH:mm:ss");this.date=e,this.time=time}},okHandler:function(){this.resetPicker(),this.$emit("input",this.currentMoment.toISOString())},clearInput:function(){this.date=null,this.time="00:00:00",this.$emit("input",null)},closeHandler:function(){this.resetPicker()},resetPicker:function(){this.display=!1,this.activeTab=0,this.$refs.timer&&(this.$refs.timer.selectingHour=!0)},showTimePicker:function(){this.activeTab=1}}}),k=n(42),component=Object(k.a)(w,(function(){var t=this,e=t._self._c;return e(d.a,{attrs:{width:t.dialogWidth,persistent:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on;return[e(y.a,t._g(t._b({attrs:{readonly:"",outlined:"",disabled:t.disabled,loading:t.loading,label:t.label,value:t.formattedDatetime,clearable:t.clearable,"hide-details":t.hideDetails,"persistent-hint":t.hint&&t.hint.length>0,hint:t.hint,rules:t.rules,"error-messages":t.errorMessages,dense:t.dense},on:{click:function(e){t.display=!0},"click:clear":t.clearInput},scopedSlots:t._u([{key:"append",fn:function(){return[e(r.a,{class:{"inner-icon-margin-dense":t.dense,"inner-icon-margin":!t.dense},attrs:{small:t.dense,icon:""},on:{click:function(e){t.display=!0}}},[e(h.a,{attrs:{small:t.dense}},[t._v("\n            icon icon-event\n          ")])],1)]},proxy:!0}],null,!0)},"v-text-field",t.textFieldProps,!1),o))]}}]),model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[t._v(" "),e(o.a,[e(l.c,{staticClass:"px-0 py-0"},[e(v.a,{attrs:{"fixed-tabs":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e(f.a,{key:"calendar"},[t._t("dateIcon",(function(){return[e(h.a,[t._v("icon icon-event")])]}))],2),t._v(" "),e(f.a,{key:"timer",attrs:{disabled:t.dateSelected}},[t._t("timeIcon",(function(){return[e(h.a,[t._v("icon icon-clock")])]}))],2),t._v(" "),e(m.a,{key:"calendar",staticClass:"pb-5"},[e(c.a,t._b({staticClass:"rounded-t-0 rounded-b-0",attrs:{"full-width":"","show-adjacent-months":"",flat:"","first-day-of-week":"1",locale:"de-ch"},on:{input:t.showTimePicker},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-date-picker",t.datePickerProps,!1))],1),t._v(" "),e(m.a,{key:"timer"},[e(x.a,t._b({ref:"timer",staticClass:"rounded-t-0 rounded-b-0",attrs:{"full-width":"",format:"24hr"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},"v-time-picker",t.timePickerProps,!1))],1)],1)],1),t._v(" "),e("modal-use-close-footer",{attrs:{disabled:!t.currentMoment||0==t.currentMoment.length},on:{use:function(e){return t.okHandler()},close:function(e){t.display=!1}}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},1033:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(5),n(13);var r=n(2),o=(n(45),n(966),n(884));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=o.a.extend({name:"v-bottom-sheet",props:{inset:Boolean,maxWidth:[String,Number],transition:{type:String,default:"bottom-sheet-transition"}},computed:{classes:function(){return c(c({},o.a.options.computed.classes.call(this)),{},{"v-bottom-sheet":!0,"v-bottom-sheet--inset":this.inset})}}})},1036:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return h}));n(60),n(5),n(93),n(13);var r={STATUS_APPROVED:1,STATUS_REJECTED:2,STATUS_NOT_DECIDED:0,ACTION_INSERT:"insert",ACTION_UPDATE:"update",ACTION_DELETE:"delete",ATTRIBUTE_TYPE_STRING:"string",ATTRIBUTE_TYPE_INTEGER:"integer",ATTRIBUTE_TYPE_FILE:"file"},o={DISPLAY_TYPE_CARDS:0,DISPLAY_TYPE_LIST:1,DISPLAY_TYPE_CALENDAR:2,TYPE_STREAM:1,TYPE_DATA_CONDITION:2},l={hours:["00:00","00:15","00:30","00:45","01:00","01:15","01:30","01:45","02:00","02:15","02:30","02:45","03:00","04:00","05:00","06:00","07:00","08:00","08:15","08:30","08:45","09:00","09:15","09:30","09:45","10:00","10:15","10:30","10:45","11:00","11:15","11:30","11:45","12:00","12:15","12:30","12:45","13:00","13:15","13:30","13:45","14:00","14:15","14:30","14:45","15:00","15:15","15:30","15:45","16:00","16:15","16:30","16:45","17:00","17:15","17:30","17:45","18:00","18:15","18:30","18:45","19:00","19:15","19:30","19:45","20:00","20:15","20:30","20:45","21:00","21:15","21:30","21:45","22:00","22:15","22:30","22:45","23:00","23:15","23:30","23:45"]},c={TYPE_API:1,TYPE_API_SDK:2,TYPE_EMBED:3,TYPE_WEBFLOW:4,TYPE_HOOK:5,TYPE_MAILCHIMP:6,TYPE_MAILJET_CONTACTS:7,TYPE_MAP:8,TYPE_SIGNAGEOS:9,TYPE_INDESIGN:10,TYPE_NITRO:11,TYPE_MAILJET_SECTIONS:12,TYPE_SHOPIFY:13,TYPE_VENUE:14,TYPE_NITRO_CMS:15,TYPE_MAILJET_TEMPLATE:16,TYPE_OPENAI:17,TYPE_ALGOLIA:18};function d(t){return[c.TYPE_NITRO,c.TYPE_NITRO_CMS,c.TYPE_VENUE,c.TYPE_API_SDK,c.TYPE_MAP,c.TYPE_SIGNAGEOS,c.TYPE_INDESIGN,c.TYPE_MAILJET_TEMPLATE,c.TYPE_ALGOLIA].includes(t)}function h(t){if(!Boolean(t.is_active))return 0;var e=0;return d(t.type)?Boolean(t.is_configured)&&!Boolean(t.is_tested)?1:0:(t.items.forEach((function(t){Boolean(t.is_configured)&&!Boolean(t.is_tested)&&e++})),e)}},1038:function(t,e,n){"use strict";n.d(e,"a",(function(){return Je})),n.d(e,"b",(function(){return Ze})),n.d(e,"c",(function(){return _n}));var r=n(958),o=n(959),l=n(962);const c=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},d=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let h=null;const f=function(t,e,n){let r=h||(h=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},m=function(t,e,n,r){return n&&(y(t,e,n,r,-1)||y(t,e,n,r,1))},v=/^(img|br|input|textarea|hr)$/i;function y(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:x(t))){let n=t.parentNode;if(!n||1!=n.nodeType||w(t)||v.test(t.nodeName)||"false"==t.contentEditable)return!1;e=c(t)+(o<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(o<0?-1:0)]).contentEditable)return!1;e=o<0?x(t):0}}}function x(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function w(t){let desc;for(let e=t;e&&!(desc=e.pmViewDesc);e=e.parentNode);return desc&&desc.node&&desc.node.isBlock&&(desc.dom==t||desc.contentDOM==t)}const k=function(t){return t.focusNode&&m(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function _(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const nav="undefined"!=typeof navigator?navigator:null,O="undefined"!=typeof document?document:null,S=nav&&nav.userAgent||"",M=/Edge\/(\d+)/.exec(S),C=/MSIE \d/.exec(S),T=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(S),E=!!(C||T||M),P=C?document.documentMode:T?+T[1]:M?+M[1]:0,D=!E&&/gecko\/(\d+)/i.test(S);D&&(/Firefox\/(\d+)/.exec(S)||[0,0])[1];const j=!E&&/Chrome\/(\d+)/.exec(S),A=!!j,I=j?+j[1]:0,N=!E&&!!nav&&/Apple Computer/.test(nav.vendor),$=N&&(/Mobile\/\w+/.test(S)||!!nav&&nav.maxTouchPoints>2),R=$||!!nav&&/Mac/.test(nav.platform),B=!!nav&&/Win/.test(nav.platform),L=/Android \d/.test(S),z=!!O&&"webkitFontSmoothing"in O.documentElement.style,H=z?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function F(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function V(t,e){return"number"==typeof t?t:t[e]}function W(t){let rect=t.getBoundingClientRect(),e=rect.width/t.offsetWidth||1,n=rect.height/t.offsetHeight||1;return{left:rect.left,right:rect.left+t.clientWidth*e,top:rect.top,bottom:rect.top+t.clientHeight*n}}function Y(view,rect,t){let e=view.someProp("scrollThreshold")||0,n=view.someProp("scrollMargin")||5,r=view.dom.ownerDocument;for(let o=t||view.dom;o;o=d(o)){if(1!=o.nodeType)continue;let t=o,l=t==r.body,c=l?F(r):W(t),d=0,h=0;if(rect.top<c.top+V(e,"top")?h=-(c.top-rect.top+V(n,"top")):rect.bottom>c.bottom-V(e,"bottom")&&(h=rect.bottom-rect.top>c.bottom-c.top?rect.top+V(n,"top")-c.top:rect.bottom-c.bottom+V(n,"bottom")),rect.left<c.left+V(e,"left")?d=-(c.left-rect.left+V(n,"left")):rect.right>c.right-V(e,"right")&&(d=rect.right-c.right+V(n,"right")),d||h)if(l)r.defaultView.scrollBy(d,h);else{let e=t.scrollLeft,n=t.scrollTop;h&&(t.scrollTop+=h),d&&(t.scrollLeft+=d);let r=t.scrollLeft-e,o=t.scrollTop-n;rect={left:rect.left-r,top:rect.top-o,right:rect.right-r,bottom:rect.bottom-o}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function U(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=d(r));return e}function K(t,e){for(let i=0;i<t.length;i++){let{dom:n,top:r,left:o}=t[i];n.scrollTop!=r+e&&(n.scrollTop=r+e),n.scrollLeft!=o&&(n.scrollLeft=o)}}let J=null;function G(t,e){let n,r,o,l,c=2e8,d=0,h=e.top,m=e.top;for(let v=t.firstChild,y=0;v;v=v.nextSibling,y++){let t;if(1==v.nodeType)t=v.getClientRects();else{if(3!=v.nodeType)continue;t=f(v).getClientRects()}for(let i=0;i<t.length;i++){let rect=t[i];if(rect.top<=h&&rect.bottom>=m){h=Math.max(rect.bottom,h),m=Math.min(rect.top,m);let t=rect.left>e.left?rect.left-e.left:rect.right<e.left?e.left-rect.right:0;if(t<c){n=v,c=t,r=t&&3==n.nodeType?{left:rect.right<e.left?rect.right:rect.left,top:e.top}:e,1==v.nodeType&&t&&(d=y+(e.left>=(rect.left+rect.right)/2?1:0));continue}}else rect.top>e.top&&!o&&rect.left<=e.left&&rect.right>=e.left&&(o=v,l={left:Math.max(rect.left,Math.min(rect.right,e.left)),top:rect.top});!n&&(e.left>=rect.right&&e.top>=rect.top||e.left>=rect.left&&e.top>=rect.bottom)&&(d=y+1)}}return!n&&o&&(n=o,r=l,c=0),n&&3==n.nodeType?function(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let rect=et(r,1);if(rect.top!=rect.bottom&&X(e,rect))return{node:t,offset:i+(e.left>=(rect.left+rect.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||c&&1==n.nodeType?{node:t,offset:d}:G(n,r)}function X(t,rect){return t.left>=rect.left-1&&t.left<=rect.right+1&&t.top>=rect.top-1&&t.top<=rect.bottom+1}function Z(element,t,e){let n=element.childNodes.length;if(n&&e.top<e.bottom)for(let r=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-e.top)/(e.bottom-e.top))-2)),i=r;;){let e=element.childNodes[i];if(1==e.nodeType){let n=e.getClientRects();for(let r=0;r<n.length;r++){let rect=n[r];if(X(t,rect))return Z(e,t,rect)}}if((i=(i+1)%n)==r)break}return element}function Q(view,t){let e,n=view.dom.ownerDocument,r=0,o=function(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(t){}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}(n,t.left,t.top);o&&({node:e,offset:r}=o);let l,c=(view.root.elementFromPoint?view.root:n).elementFromPoint(t.left,t.top);if(!c||!view.dom.contains(1!=c.nodeType?c.parentNode:c)){let e=view.dom.getBoundingClientRect();if(!X(t,e))return null;if(c=Z(view.dom,t,e),!c)return null}if(N)for(let p=c;e&&p;p=d(p))p.draggable&&(e=void 0);if(c=function(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(c,t),e){if(D&&1==e.nodeType&&(r=Math.min(r,e.childNodes.length),r<e.childNodes.length)){let n,o=e.childNodes[r];"IMG"==o.nodeName&&(n=o.getBoundingClientRect()).right<=t.left&&n.bottom>t.top&&r++}let n;z&&r&&1==e.nodeType&&1==(n=e.childNodes[r-1]).nodeType&&"false"==n.contentEditable&&n.getBoundingClientRect().top>=t.top&&r--,e==view.dom&&r==e.childNodes.length-1&&1==e.lastChild.nodeType&&t.top>e.lastChild.getBoundingClientRect().bottom?l=view.state.doc.content.size:0!=r&&1==e.nodeType&&"BR"==e.childNodes[r-1].nodeName||(l=function(view,t,e,n){let r=-1;for(let e=t,o=!1;e!=view.dom;){let desc=view.docView.nearestDesc(e,!0);if(!desc)return null;if(1==desc.dom.nodeType&&(desc.node.isBlock&&desc.parent&&!o||!desc.contentDOM)){let rect=desc.dom.getBoundingClientRect();if(desc.node.isBlock&&desc.parent&&!o&&(o=!0,rect.left>n.left||rect.top>n.top?r=desc.posBefore:(rect.right<n.left||rect.bottom<n.top)&&(r=desc.posAfter)),!desc.contentDOM&&r<0&&!desc.node.isText)return(desc.node.isBlock?n.top<(rect.top+rect.bottom)/2:n.left<(rect.left+rect.right)/2)?desc.posBefore:desc.posAfter}e=desc.dom.parentNode}return r>-1?r:view.docView.posFromDOM(t,e,-1)}(view,e,r,t))}null==l&&(l=function(view,t,e){let{node:n,offset:r}=G(t,e),o=-1;if(1==n.nodeType&&!n.firstChild){let rect=n.getBoundingClientRect();o=rect.left!=rect.right&&e.left>(rect.left+rect.right)/2?1:-1}return view.docView.posFromDOM(n,r,o)}(view,c,t));let desc=view.docView.nearestDesc(c,!0);return{pos:l,inside:desc?desc.posAtStart-desc.border:-1}}function tt(rect){return rect.top<rect.bottom||rect.left<rect.right}function et(t,e){let n=t.getClientRects();if(n.length){let t=n[e<0?0:n.length-1];if(tt(t))return t}return Array.prototype.find.call(n,tt)||t.getBoundingClientRect()}const nt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function it(view,t,e){let{node:n,offset:r,atom:o}=view.docView.domFromPos(t,e<0?-1:1),l=z||D;if(3==n.nodeType){if(!l||!nt.test(n.nodeValue)&&(e<0?r:r!=n.nodeValue.length)){let t=r,o=r,l=e<0?1:-1;return e<0&&!r?(o++,l=-1):e>=0&&r==n.nodeValue.length?(t--,l=1):e<0?t--:o++,ot(et(f(n,t,o),l),l<0)}{let rect=et(f(n,r,r),e);if(D&&r&&/\s/.test(n.nodeValue[r-1])&&r<n.nodeValue.length){let t=et(f(n,r-1,r-1),-1);if(t.top==rect.top){let e=et(f(n,r,r+1),-1);if(e.top!=rect.top)return ot(e,e.left<t.left)}}return rect}}if(!view.state.doc.resolve(t-(o||0)).parent.inlineContent){if(null==o&&r&&(e<0||r==x(n))){let t=n.childNodes[r-1];if(1==t.nodeType)return st(t.getBoundingClientRect(),!1)}if(null==o&&r<x(n)){let t=n.childNodes[r];if(1==t.nodeType)return st(t.getBoundingClientRect(),!0)}return st(n.getBoundingClientRect(),e>=0)}if(null==o&&r&&(e<0||r==x(n))){let t=n.childNodes[r-1],e=3==t.nodeType?f(t,x(t)-(l?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return ot(et(e,1),!1)}if(null==o&&r<x(n)){let t=n.childNodes[r];for(;t.pmViewDesc&&t.pmViewDesc.ignoreForCoords;)t=t.nextSibling;let e=t?3==t.nodeType?f(t,0,l?0:1):1==t.nodeType?t:null:null;if(e)return ot(et(e,-1),!0)}return ot(et(3==n.nodeType?f(n):n,-e),e>=0)}function ot(rect,t){if(0==rect.width)return rect;let e=t?rect.left:rect.right;return{top:rect.top,bottom:rect.bottom,left:e,right:e}}function st(rect,t){if(0==rect.height)return rect;let e=t?rect.top:rect.bottom;return{top:e,bottom:e,left:rect.left,right:rect.right}}function at(view,t,e){let n=view.state,r=view.root.activeElement;n!=t&&view.updateState(t),r!=view.dom&&view.focus();try{return e()}finally{n!=t&&view.updateState(n),r!=view.dom&&r&&r.focus()}}const lt=/[\u0590-\u08ac]/;let ct=null,ut=null,pt=!1;function ht(view,t,e){return ct==t&&ut==e?pt:(ct=t,ut=e,pt="up"==e||"down"==e?function(view,t,e){let n=t.selection,r="up"==e?n.$from:n.$to;return at(view,t,(()=>{let{node:t}=view.docView.domFromPos(r.pos,"up"==e?-1:1);for(;;){let e=view.docView.nearestDesc(t,!0);if(!e)break;if(e.node.isBlock){t=e.contentDOM||e.dom;break}t=e.dom.parentNode}let n=it(view,r.pos,1);for(let r=t.firstChild;r;r=r.nextSibling){let t;if(1==r.nodeType)t=r.getClientRects();else{if(3!=r.nodeType)continue;t=f(r,0,r.nodeValue.length).getClientRects()}for(let i=0;i<t.length;i++){let r=t[i];if(r.bottom>r.top+1&&("up"==e?n.top-r.top>2*(r.bottom-n.top):r.bottom-n.bottom>2*(n.bottom-r.top)))return!1}}return!0}))}(view,t,e):function(view,t,e){let{$head:n}=t.selection;if(!n.parent.isTextblock)return!1;let r=n.parentOffset,o=!r,l=r==n.parent.content.size,c=view.domSelection();return lt.test(n.parent.textContent)&&c.modify?at(view,t,(()=>{let{focusNode:t,focusOffset:r,anchorNode:o,anchorOffset:l}=view.domSelectionRange(),d=c.caretBidiLevel;c.modify("move",e,"character");let h=n.depth?view.docView.domAfterPos(n.before()):view.dom,{focusNode:f,focusOffset:m}=view.domSelectionRange(),v=f&&!h.contains(1==f.nodeType?f:f.parentNode)||t==f&&r==m;try{c.collapse(o,l),t&&(t!=o||r!=l)&&c.extend&&c.extend(t,r)}catch(t){}return null!=d&&(c.caretBidiLevel=d),v})):"left"==e||"backward"==e?o:l}(view,t,e))}class ft{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(mark){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let i=0;i<this.children.length;i++)t+=this.children[i].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let i=0;i<this.children.length;i++)this.children[i].destroy()}posBeforeChild(t){for(let i=0,e=this.posAtStart;;i++){let n=this.children[i];if(n==t)return e;e+=n.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){let n,desc;if(t==this.contentDOM)n=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.previousSibling}for(;n&&(!(desc=n.pmViewDesc)||desc.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(desc)+desc.size:this.posAtStart}{let n,desc;if(t==this.contentDOM)n=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.nextSibling}for(;n&&(!(desc=n.pmViewDesc)||desc.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(desc):this.posAtEnd}}let r;if(t==this.dom&&this.contentDOM)r=e>c(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!1;break}if(e.previousSibling)break}if(null==r&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!0;break}if(e.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let o,desc=this.getDesc(r);if(desc&&(!e||desc.node)){if(!n||!(o=desc.nodeDOM)||(1==o.nodeType?o.contains(1==t.nodeType?t:t.parentNode):o==t))return desc;n=!1}}}getDesc(t){let desc=t.pmViewDesc;for(let t=desc;t;t=t.parent)if(t==this)return desc}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let desc=this.getDesc(r);if(desc)return desc.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let i=0,e=0;i<this.children.length;i++){let n=this.children[i],r=e+n.size;if(e==t&&r!=e){for(;!n.border&&n.children.length;)n=n.children[0];return n}if(t<r)return n.descAt(t-e-n.border);e=r}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,n=0;for(let e=0;i<this.children.length;i++){let r=this.children[i],o=e+r.size;if(o>t||r instanceof wt){n=t-e;break}e=o}if(n)return this.children[i].domFromPos(n-this.children[i].border,e);for(let t;i&&!(t=this.children[i-1]).size&&t instanceof mt&&t.side>=0;i--);if(e<=0){let t,n=!0;for(;t=i?this.children[i-1]:null,t&&t.dom.parentNode!=this.contentDOM;i--,n=!1);return t&&e&&n&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?c(t.dom)+1:0}}{let t,n=!0;for(;t=i<this.children.length?this.children[i]:null,t&&t.dom.parentNode!=this.contentDOM;i++,n=!1);return t&&n&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?c(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,base=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let n=-1,r=-1;for(let o=base,i=0;;i++){let l=this.children[i],d=o+l.size;if(-1==n&&t<=d){let r=o+l.border;if(t>=r&&e<=d-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,r);t=o;for(let e=i;e>0;e--){let r=this.children[e-1];if(r.size&&r.dom.parentNode==this.contentDOM&&!r.emptyChildAt(1)){n=c(r.dom)+1;break}t-=r.size}-1==n&&(n=0)}if(n>-1&&(d>e||i==this.children.length-1)){e=d;for(let t=i+1;t<this.children.length;t++){let n=this.children[t];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){r=c(n.dom);break}e+=n.size}-1==r&&(r=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:t,to:e,fromOffset:n,toOffset:r}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,head,e,n=!1){let r=Math.min(t,head),o=Math.max(t,head);for(let i=0,l=0;i<this.children.length;i++){let c=this.children[i],d=l+c.size;if(r>l&&o<d)return c.setSelection(t-l-c.border,head-l-c.border,e,n);l=d}let l=this.domFromPos(t,t?-1:1),d=head==t?l:this.domFromPos(head,head?-1:1),h=e.getSelection(),f=!1;if((D||N)&&t==head){let{node:t,offset:e}=l;if(3==t.nodeType){if(f=!(!e||"\n"!=t.nodeValue[e-1]),f&&e==t.nodeValue.length)for(let e,n=t;n;n=n.parentNode){if(e=n.nextSibling){"BR"==e.nodeName&&(l=d={node:e.parentNode,offset:c(e)+1});break}let desc=n.pmViewDesc;if(desc&&desc.node&&desc.node.isBlock)break}}else{let n=t.childNodes[e-1];f=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(D&&h.focusNode&&h.focusNode!=d.node&&1==h.focusNode.nodeType){let t=h.focusNode.childNodes[h.focusOffset];t&&"false"==t.contentEditable&&(n=!0)}if(!(n||f&&N)&&m(l.node,l.offset,h.anchorNode,h.anchorOffset)&&m(d.node,d.offset,h.focusNode,h.focusOffset))return;let v=!1;if((h.extend||t==head)&&!f){h.collapse(l.node,l.offset);try{t!=head&&h.extend(d.node,d.offset),v=!0}catch(t){}}if(!v){if(t>head){let t=l;l=d,d=t}let e=document.createRange();e.setEnd(d.node,d.offset),e.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(e)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,i=0;i<this.children.length;i++){let r=this.children[i],o=n+r.size;if(n==o?t<=o&&e>=n:t<o&&e>n){let l=n+r.border,c=o-r.border;if(t>=l&&e<=c)return this.dirty=t==n||e==o?2:1,void(t!=l||e!=c||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(t-l,e-l):r.dirty=3);r.dirty=r.dom!=r.contentDOM||r.dom.parentNode!=this.contentDOM||r.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=1==t?2:1;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(text){return!1}}class mt extends ft{constructor(t,e,view,n){let r,o=e.type.toDOM;if("function"==typeof o&&(o=o(view,(()=>r?r.parent?r.parent.posBeforeChild(r):void 0:n))),!e.type.spec.raw){if(1!=o.nodeType){let t=document.createElement("span");t.appendChild(o),o=t}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,r=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class gt extends ft{constructor(t,e,n,text){super(t,[],e,null),this.textDOM=n,this.text=text}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class vt extends ft{constructor(t,mark,e,n){super(t,[],e,n),this.mark=mark}static create(t,mark,e,view){let n=view.nodeViews[mark.type.name],r=n&&n(mark,view,e);return r&&r.dom||(r=o.b.renderSpec(document,mark.type.spec.toDOM(mark,e))),new vt(t,mark,r.dom,r.contentDOM||r.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(mark){return 3!=this.dirty&&this.mark.eq(mark)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let t=this.parent;for(;!t.node;)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=0}}slice(t,e,view){let n=vt.create(this.parent,this.mark,!0,view),r=this.children,o=this.size;e<o&&(r=It(r,e,o,view)),t>0&&(r=It(r,0,t,view));for(let i=0;i<r.length;i++)r[i].parent=n;return n.children=r,n}}class yt extends ft{constructor(t,e,n,r,o,l,c,view,d){super(t,[],o,l),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=c}static create(t,e,n,r,view,l){let c,d=view.nodeViews[e.type.name],h=d&&d(e,view,(()=>c?c.parent?c.parent.posBeforeChild(c):void 0:l),n,r),f=h&&h.dom,m=h&&h.contentDOM;if(e.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(e.text);else f||({dom:f,contentDOM:m}=o.b.renderSpec(document,e.type.spec.toDOM(e)));m||e.isText||"BR"==f.nodeName||(f.hasAttribute("contenteditable")||(f.contentEditable="false"),e.type.spec.draggable&&(f.draggable=!0));let v=f;return f=Et(f,n,e),h?c=new kt(t,e,n,r,f,m||null,v,h,view,l+1):e.isText?new xt(t,e,n,r,f,v,view):new yt(t,e,n,r,f,m||null,v,view,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let i=this.children.length-1;i>=0;i--){let e=this.children[i];if(this.dom.contains(e.dom.parentNode)){t.contentElement=e.dom.parentNode;break}}t.contentElement||(t.getContent=()=>o.c.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,n){return 0==this.dirty&&t.eq(this.node)&&Pt(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(view,t){let e=this.node.inlineContent,n=t,r=view.composing?this.localCompositionInfo(view,t):null,l=r&&r.pos>-1?r:null,c=r&&r.pos<0,d=new jt(this,l&&l.node,view);!function(t,e,n,r){let o=e.locals(t),l=0;if(0==o.length){for(let i=0;i<t.childCount;i++){let n=t.child(i);r(n,o,e.forChild(l,n),i),l+=n.nodeSize}return}let c=0,d=[],h=null;for(let f=0;;){let m,v,y,x;for(;c<o.length&&o[c].to==l;){let t=o[c++];t.widget&&(m?(v||(v=[m])).push(t):m=t)}if(m)if(v){v.sort(At);for(let i=0;i<v.length;i++)n(v[i],f,!!h)}else n(m,f,!!h);if(h)x=-1,y=h,h=null;else{if(!(f<t.childCount))break;x=f,y=t.child(f++)}for(let i=0;i<d.length;i++)d[i].to<=l&&d.splice(i--,1);for(;c<o.length&&o[c].from<=l&&o[c].to>l;)d.push(o[c++]);let w=l+y.nodeSize;if(y.isText){let t=w;c<o.length&&o[c].from<t&&(t=o[c].from);for(let i=0;i<d.length;i++)d[i].to<t&&(t=d[i].to);t<w&&(h=y.cut(t-l),y=y.cut(0,t-l),w=t,x=-1)}else for(;c<o.length&&o[c].to<w;)c++;r(y,y.isInline&&!y.isLeaf?d.filter((t=>!t.inline)):d.slice(),e.forChild(l,y),x),l=w}}(this.node,this.innerDeco,((t,i,r)=>{t.spec.marks?d.syncToMarks(t.spec.marks,e,view):t.type.side>=0&&!r&&d.syncToMarks(i==this.node.childCount?o.d.none:this.node.child(i).marks,e,view),d.placeWidget(t,view,n)}),((t,o,l,i)=>{let h;d.syncToMarks(t.marks,e,view),d.findNodeMatch(t,o,l,i)||c&&view.state.selection.from>n&&view.state.selection.to<n+t.nodeSize&&(h=d.findIndexWithChild(r.node))>-1&&d.updateNodeAt(t,o,l,h,view)||d.updateNextNode(t,o,l,view,i,n)||d.addNode(t,o,l,view,n),n+=t.nodeSize})),d.syncToMarks([],e,view),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||2==this.dirty)&&(l&&this.protectLocalComposition(view,l),_t(this.contentDOM,this.children,view),$&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))}localCompositionInfo(view,t){let{from:e,to:n}=view.state.selection;if(!(view.state.selection instanceof r.g)||e<t||n>t+this.node.content.size)return null;let o=view.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let text=o.nodeValue,r=function(t,text,e,n){for(let i=0,r=0;i<t.childCount&&r<=n;){let o=t.child(i++),l=r;if(r+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<t.childCount;){let e=t.child(i++);if(r+=e.nodeSize,!e.isText)break;c+=e.text}if(r>=e){if(r>=n&&c.slice(n-text.length-l,n-l)==text)return n-text.length;let t=l<n?c.lastIndexOf(text,n-l-1):-1;if(t>=0&&t+text.length+l>=e)return l+t;if(e==n&&c.length>=n+text.length-l&&c.slice(n-l,n-l+text.length)==text)return n}}return-1}(this.node.content,text,e-t,n-t);return r<0?null:{node:o,pos:r,text:text}}return{node:o,pos:-1,text:""}}protectLocalComposition(view,{node:t,pos:e,text:text}){if(this.getDesc(t))return;let n=t;for(;n.parentNode!=this.contentDOM;n=n.parentNode){for(;n.previousSibling;)n.parentNode.removeChild(n.previousSibling);for(;n.nextSibling;)n.parentNode.removeChild(n.nextSibling);n.pmViewDesc&&(n.pmViewDesc=void 0)}let desc=new gt(this,n,t,text);view.input.compositionNodes.push(desc),this.children=It(this.children,e,e+text.length,view,desc)}update(t,e,n,view){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,view),!0)}updateInner(t,e,n,view){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(view,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(Pt(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Ct(this.dom,this.nodeDOM,Mt(this.outerDeco,this.node,e),Mt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function bt(t,e,n,r,view){Et(r,e,t);let o=new yt(void 0,t,e,n,r,r,r,view,0);return o.contentDOM&&o.updateChildren(view,0),o}class xt extends yt{constructor(t,e,n,r,o,l,view){super(t,e,n,r,o,null,l,view,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,view){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,view.trackWrites==this.nodeDOM&&(view.trackWrites=null)),this.node=t,this.dirty=0,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,view){let n=this.node.cut(t,e),r=document.createTextNode(n.text);return new xt(this.parent,n,this.outerDeco,this.innerDeco,r,r,view)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(text){return this.node.text==text}}class wt extends ft{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class kt extends yt{constructor(t,e,n,r,o,l,c,d,view,h){super(t,e,n,r,o,l,c,view,h),this.spec=d}update(t,e,n,view){if(3==this.dirty)return!1;if(this.spec.update){let r=this.spec.update(t,e,n);return r&&this.updateInner(t,e,n,view),r}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,n,view)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,head,e,n){this.spec.setSelection?this.spec.setSelection(t,head,e):super.setSelection(t,head,e,n)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function _t(t,e,view){let n=t.firstChild,r=!1;for(let i=0;i<e.length;i++){let desc=e[i],o=desc.dom;if(o.parentNode==t){for(;o!=n;)n=Dt(n),r=!0;n=n.nextSibling}else r=!0,t.insertBefore(o,n);if(desc instanceof vt){let e=n?n.previousSibling:t.lastChild;_t(desc.contentDOM,desc.children,view),n=e?e.nextSibling:t.firstChild}}for(;n;)n=Dt(n),r=!0;r&&view.trackWrites==t&&(view.trackWrites=null)}const Ot=function(t){t&&(this.nodeName=t)};Ot.prototype=Object.create(null);const St=[new Ot];function Mt(t,e,n){if(0==t.length)return St;let r=n?St[0]:new Ot,o=[r];for(let i=0;i<t.length;i++){let l=t[i].type.attrs;if(l){l.nodeName&&o.push(r=new Ot(l.nodeName));for(let t in l){let c=l[t];null!=c&&(n&&1==o.length&&o.push(r=new Ot(e.isInline?"span":"div")),"class"==t?r.class=(r.class?r.class+" ":"")+c:"style"==t?r.style=(r.style?r.style+";":"")+c:"nodeName"!=t&&(r[t]=c))}}}return o}function Ct(t,e,n,r){if(n==St&&r==St)return e;let o=e;for(let i=0;i<r.length;i++){let e=r[i],l=n[i];if(i){let n;l&&l.nodeName==e.nodeName&&o!=t&&(n=o.parentNode)&&n.nodeName.toLowerCase()==e.nodeName||(n=document.createElement(e.nodeName),n.pmIsDeco=!0,n.appendChild(o),l=St[0]),o=n}Tt(o,l||St[0],e)}return o}function Tt(t,e,n){for(let r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)-1==o.indexOf(r[i])&&t.classList.remove(r[i]);for(let i=0;i<o.length;i++)-1==r.indexOf(o[i])&&t.classList.add(o[i]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(e.style);)t.style.removeProperty(n[1])}n.style&&(t.style.cssText+=n.style)}}function Et(t,e,n){return Ct(t,t,St,Mt(e,n,1!=t.nodeType))}function Pt(a,b){if(a.length!=b.length)return!1;for(let i=0;i<a.length;i++)if(!a[i].type.eq(b[i].type))return!1;return!0}function Dt(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class jt{constructor(t,e,view){this.lock=e,this.view=view,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(t,e){let n=e,r=n.children.length,o=t.childCount,l=new Map,c=[];t:for(;o>0;){let desc;for(;;)if(r){let t=n.children[r-1];if(!(t instanceof vt)){desc=t,r--;break}n=t,r=t.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}let d=desc.node;if(d){if(d!=t.child(o-1))break;--o,l.set(desc,o),c.push(desc)}}return{index:o,matched:l,matches:c.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let i=t;i<e;i++)this.top.children[i].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,view){let n=0,r=this.stack.length>>1,o=Math.min(r,t.length);for(;n<o&&(n==r-1?this.top:this.stack[n+1<<1]).matchesMark(t[n])&&!1!==t[n].type.spec.spanning;)n++;for(;n<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<t.length;){this.stack.push(this.top,this.index+1);let n=-1;for(let i=this.index;i<Math.min(this.index+3,this.top.children.length);i++){let e=this.top.children[i];if(e.matchesMark(t[r])&&!this.isLocked(e.dom)){n=i;break}}if(n>-1)n>this.index&&(this.changed=!0,this.destroyBetween(this.index,n)),this.top=this.top.children[this.index];else{let n=vt.create(this.top,t[r],e,view);this.top.children.splice(this.index,0,n),this.top=n,this.changed=!0}this.index=0,r++}}findNodeMatch(t,e,n,r){let o,l=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(t,e,n))l=this.top.children.indexOf(o,this.index);else for(let i=this.index,r=Math.min(this.top.children.length,i+5);i<r;i++){let r=this.top.children[i];if(r.matchesNode(t,e,n)&&!this.preMatch.matched.has(r)){l=i;break}}return!(l<0)&&(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(t,e,n,r,view){let o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,n,view)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let desc=t.pmViewDesc;if(desc)for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==desc)return i;return-1}t=e}}updateNextNode(t,e,n,view,r,o){for(let i=this.index;i<this.top.children.length;i++){let l=this.top.children[i];if(l instanceof yt){let c=this.preMatch.matched.get(l);if(null!=c&&c!=r)return!1;let d,h=l.dom,f=this.isLocked(h)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&3!=l.dirty&&Pt(e,l.outerDeco));if(!f&&l.update(t,e,n,view))return this.destroyBetween(this.index,i),l.dom!=h&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,e,n,view,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=2,d.updateChildren(view,o+1),d.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,n,r,view,o){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content))return null;let l=yt.create(this.top,e,n,r,view,o);if(l.contentDOM){l.children=t.children,t.children=[];for(let t of l.children)t.parent=l}return t.destroy(),l}addNode(t,e,n,view,r){let desc=yt.create(this.top,t,e,n,view,r);desc.contentDOM&&desc.updateChildren(view,r+1),this.top.children.splice(this.index++,0,desc),this.changed=!0}placeWidget(t,view,e){let n=this.index<this.top.children.length?this.top.children[this.index]:null;if(!n||!n.matchesWidget(t)||t!=n.widget&&n.widget.type.toDOM.parentNode){let desc=new mt(this.top,t,view,e);this.top.children.splice(this.index++,0,desc),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof vt;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof xt)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((N||A)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");let r=new wt(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||1==t.nodeType&&t.contains(this.lock.parentNode))}}function At(a,b){return a.type.side-b.type.side}function It(t,e,n,view,r){let o=[];for(let i=0,l=0;i<t.length;i++){let c=t[i],d=l,h=l+=c.size;d>=n||h<=e?o.push(c):(d<e&&o.push(c.slice(0,e-d,view)),r&&(o.push(r),r=void 0),h>n&&o.push(c.slice(n-d,c.size,view)))}return o}function Nt(view,t=null){let e=view.domSelectionRange(),n=view.state.doc;if(!e.focusNode)return null;let o=view.docView.nearestDesc(e.focusNode),l=o&&0==o.size,head=view.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(head<0)return null;let d,h,f=n.resolve(head);if(k(e)){for(d=f;o&&!o.node;)o=o.parent;let t=o.node;if(o&&t.isAtom&&r.c.isSelectable(t)&&o.parent&&(!t.isInline||!function(t,e,n){for(let r=0==e,o=e==x(t);r||o;){if(t==n)return!0;let e=c(t);if(!(t=t.parentNode))return!1;r=r&&0==e,o=o&&e==x(t)}}(e.focusNode,e.focusOffset,o.dom))){let t=o.posBefore;h=new r.c(head==t?f:n.resolve(t))}}else{let t=view.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(t<0)return null;d=n.resolve(t)}if(!h){h=Wt(view,d,f,"pointer"==t||view.state.selection.head<f.pos&&!l?1:-1)}return h}function $t(view){return view.editable?view.hasFocus():Yt(view)&&document.activeElement&&document.activeElement.contains(view.dom)}function Rt(view,t=!1){let e=view.state.selection;if(Ft(view,e),$t(view)){if(!t&&view.input.mouseDown&&view.input.mouseDown.allowDefault&&A){let t=view.domSelectionRange(),e=view.domObserver.currentSelection;if(t.anchorNode&&e.anchorNode&&m(t.anchorNode,t.anchorOffset,e.anchorNode,e.anchorOffset))return view.input.mouseDown.delayedSelectionSync=!0,void view.domObserver.setCurSelection()}if(view.domObserver.disconnectSelection(),view.cursorWrapper)!function(view){let t=view.domSelection(),e=document.createRange(),n=view.cursorWrapper.dom,img="IMG"==n.nodeName;img?e.setEnd(n.parentNode,c(n)+1):e.setEnd(n,0);e.collapse(!1),t.removeAllRanges(),t.addRange(e),!img&&!view.state.selection.visible&&E&&P<=11&&(n.disabled=!0,n.disabled=!1)}(view);else{let n,o,{anchor:l,head:head}=e;!Bt||e instanceof r.g||(e.$from.parent.inlineContent||(n=Lt(view,e.from)),e.empty||e.$from.parent.inlineContent||(o=Lt(view,e.to))),view.docView.setSelection(l,head,view.root,t),Bt&&(n&&Ht(n),o&&Ht(o)),e.visible?view.dom.classList.remove("ProseMirror-hideselection"):(view.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(view){let t=view.dom.ownerDocument;t.removeEventListener("selectionchange",view.input.hideSelectionGuard);let e=view.domSelectionRange(),n=e.anchorNode,r=e.anchorOffset;t.addEventListener("selectionchange",view.input.hideSelectionGuard=()=>{e.anchorNode==n&&e.anchorOffset==r||(t.removeEventListener("selectionchange",view.input.hideSelectionGuard),setTimeout((()=>{$t(view)&&!view.state.selection.visible||view.dom.classList.remove("ProseMirror-hideselection")}),20))})}(view))}view.domObserver.setCurSelection(),view.domObserver.connectSelection()}}const Bt=N||A&&I<63;function Lt(view,t){let{node:e,offset:n}=view.docView.domFromPos(t,0),r=n<e.childNodes.length?e.childNodes[n]:null,o=n?e.childNodes[n-1]:null;if(N&&r&&"false"==r.contentEditable)return zt(r);if(!(r&&"false"!=r.contentEditable||o&&"false"!=o.contentEditable)){if(r)return zt(r);if(o)return zt(o)}}function zt(element){return element.contentEditable="true",N&&element.draggable&&(element.draggable=!1,element.wasDraggable=!0),element}function Ht(element){element.contentEditable="false",element.wasDraggable&&(element.draggable=!0,element.wasDraggable=null)}function Ft(view,t){if(t instanceof r.c){let desc=view.docView.descAt(t.from);desc!=view.lastSelectedViewDesc&&(Vt(view),desc&&desc.selectNode(),view.lastSelectedViewDesc=desc)}else Vt(view)}function Vt(view){view.lastSelectedViewDesc&&(view.lastSelectedViewDesc.parent&&view.lastSelectedViewDesc.deselectNode(),view.lastSelectedViewDesc=void 0)}function Wt(view,t,e,n){return view.someProp("createSelectionBetween",(n=>n(view,t,e)))||r.g.between(t,e,n)}function qt(view){return!(view.editable&&!view.hasFocus())&&Yt(view)}function Yt(view){let t=view.domSelectionRange();if(!t.anchorNode)return!1;try{return view.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(view.editable||view.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(t){return!1}}function Ut(t,e){let{$anchor:n,$head:o}=t.selection,l=e>0?n.max(o):n.min(o),c=l.parent.inlineContent?l.depth?t.doc.resolve(e>0?l.after():l.before()):null:l;return c&&r.f.findFrom(c,e)}function Kt(view,t){return view.dispatch(view.state.tr.setSelection(t).scrollIntoView()),!0}function Jt(view,t,e){let n=view.state.selection;if(!(n instanceof r.g)){if(n instanceof r.c&&n.node.isInline)return Kt(view,new r.g(t>0?n.$to:n.$from));{let e=Ut(view.state,t);return!!e&&Kt(view,e)}}if(e.indexOf("s")>-1){let{$head:e}=n,o=e.textOffset?null:t<0?e.nodeBefore:e.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=view.state.doc.resolve(e.pos+o.nodeSize*(t<0?-1:1));return Kt(view,new r.g(n.$anchor,l))}if(!n.empty)return!1;if(view.endOfTextblock(t>0?"forward":"backward")){let e=Ut(view.state,t);return!!(e&&e instanceof r.c)&&Kt(view,e)}if(!(R&&e.indexOf("m")>-1)){let desc,e=n.$head,o=e.textOffset?null:t<0?e.nodeBefore:e.nodeAfter;if(!o||o.isText)return!1;let l=t<0?e.pos-o.nodeSize:e.pos;return!!(o.isAtom||(desc=view.docView.descAt(l))&&!desc.contentDOM)&&(r.c.isSelectable(o)?Kt(view,new r.c(t<0?view.state.doc.resolve(e.pos-o.nodeSize):e)):!!z&&Kt(view,new r.g(view.state.doc.resolve(t<0?l:l+o.nodeSize))))}}function Gt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Xt(t,e){let desc=t.pmViewDesc;return desc&&0==desc.size&&(e<0||t.nextSibling||"BR"!=t.nodeName)}function Zt(view,t){return t<0?function(view){let t=view.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r,o,l=!1;D&&1==e.nodeType&&n<Gt(e)&&Xt(e.childNodes[n],-1)&&(l=!0);for(;;)if(n>0){if(1!=e.nodeType)break;{let t=e.childNodes[n-1];if(Xt(t,-1))r=e,o=--n;else{if(3!=t.nodeType)break;e=t,n=e.nodeValue.length}}}else{if(Qt(e))break;{let t=e.previousSibling;for(;t&&Xt(t,-1);)r=e.parentNode,o=c(t),t=t.previousSibling;if(t)e=t,n=Gt(e);else{if(e=e.parentNode,e==view.dom)break;n=0}}}l?te(view,e,n):r&&te(view,r,o)}(view):function(view){let t=view.domSelectionRange(),e=t.focusNode,n=t.focusOffset;if(!e)return;let r,o,l=Gt(e);for(;;)if(n<l){if(1!=e.nodeType)break;if(!Xt(e.childNodes[n],1))break;r=e,o=++n}else{if(Qt(e))break;{let t=e.nextSibling;for(;t&&Xt(t,1);)r=t.parentNode,o=c(t)+1,t=t.nextSibling;if(t)e=t,n=0,l=Gt(e);else{if(e=e.parentNode,e==view.dom)break;n=l=0}}}r&&te(view,r,o)}(view)}function Qt(t){let desc=t.pmViewDesc;return desc&&desc.node&&desc.node.isBlock}function te(view,t,e){if(3!=t.nodeType){let n,r;(r=function(t,e){for(;t&&e==t.childNodes.length&&!w(t);)e=c(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=n,e=0}}(t,e))?(t=r,e=0):(n=function(t,e){for(;t&&!e&&!w(t);)e=c(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=(t=n).childNodes.length}}(t,e))&&(t=n,e=n.nodeValue.length)}let n=view.domSelection();if(k(n)){let r=document.createRange();r.setEnd(t,e),r.setStart(t,e),n.removeAllRanges(),n.addRange(r)}else n.extend&&n.extend(t,e);view.domObserver.setCurSelection();let{state:r}=view;setTimeout((()=>{view.state==r&&Rt(view)}),50)}function ee(view,t){let e=view.state.doc.resolve(t);if(!A&&!B&&e.parent.inlineContent){let n=view.coordsAtPos(t);if(t>e.start()){let e=view.coordsAtPos(t-1),r=(e.top+e.bottom)/2;if(r>n.top&&r<n.bottom&&Math.abs(e.left-n.left)>1)return e.left<n.left?"ltr":"rtl"}if(t<e.end()){let e=view.coordsAtPos(t+1),r=(e.top+e.bottom)/2;if(r>n.top&&r<n.bottom&&Math.abs(e.left-n.left)>1)return e.left>n.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(view.dom).direction?"rtl":"ltr"}function ne(view,t,e){let n=view.state.selection;if(n instanceof r.g&&!n.empty||e.indexOf("s")>-1)return!1;if(R&&e.indexOf("m")>-1)return!1;let{$from:o,$to:l}=n;if(!o.parent.inlineContent||view.endOfTextblock(t<0?"up":"down")){let e=Ut(view.state,t);if(e&&e instanceof r.c)return Kt(view,e)}if(!o.parent.inlineContent){let e=t<0?o:l,c=n instanceof r.a?r.f.near(e,t):r.f.findFrom(e,t);return!!c&&Kt(view,c)}return!1}function ie(view,t){if(!(view.state.selection instanceof r.g))return!0;let{$head:e,$anchor:n,empty:o}=view.state.selection;if(!e.sameParent(n))return!0;if(!o)return!1;if(view.endOfTextblock(t>0?"forward":"backward"))return!0;let l=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(l&&!l.isText){let tr=view.state.tr;return t<0?tr.delete(e.pos-l.nodeSize,e.pos):tr.delete(e.pos,e.pos+l.nodeSize),view.dispatch(tr),!0}return!1}function re(view,t,e){view.domObserver.stop(),t.contentEditable=e,view.domObserver.start()}function oe(view,t){let code=t.keyCode,e=function(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(t);if(8==code||R&&72==code&&"c"==e)return ie(view,-1)||Zt(view,-1);if(46==code&&!t.shiftKey||R&&68==code&&"c"==e)return ie(view,1)||Zt(view,1);if(13==code||27==code)return!0;if(37==code||R&&66==code&&"c"==e){let t=37==code?"ltr"==ee(view,view.state.selection.from)?-1:1:-1;return Jt(view,t,e)||Zt(view,t)}if(39==code||R&&70==code&&"c"==e){let t=39==code?"ltr"==ee(view,view.state.selection.from)?1:-1:1;return Jt(view,t,e)||Zt(view,t)}return 38==code||R&&80==code&&"c"==e?ne(view,-1,e)||Zt(view,-1):40==code||R&&78==code&&"c"==e?function(view){if(!N||view.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=view.domSelectionRange();if(t&&1==t.nodeType&&0==e&&t.firstChild&&"false"==t.firstChild.contentEditable){let e=t.firstChild;re(view,e,"true"),setTimeout((()=>re(view,e,"false")),20)}return!1}(view)||ne(view,1,e)||Zt(view,1):e==(R?"m":"c")&&(66==code||73==code||89==code||90==code)}function se(view,t){view.someProp("transformCopied",(e=>{t=e(t,view)}));let e=[],{content:content,openStart:n,openEnd:r}=t;for(;n>1&&r>1&&1==content.childCount&&1==content.firstChild.childCount;){n--,r--;let t=content.firstChild;e.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),content=t.content}let l=view.someProp("clipboardSerializer")||o.b.fromSchema(view.state.schema),c=ge(),d=c.createElement("div");d.appendChild(l.serializeFragment(content,{document:c}));let h,f=d.firstChild,m=0;for(;f&&1==f.nodeType&&(h=fe[f.nodeName.toLowerCase()]);){for(let i=h.length-1;i>=0;i--){let t=c.createElement(h[i]);for(;d.firstChild;)t.appendChild(d.firstChild);d.appendChild(t),m++}f=d.firstChild}return f&&1==f.nodeType&&f.setAttribute("data-pm-slice",`${n} ${r}${m?` -${m}`:""} ${JSON.stringify(e)}`),{dom:d,text:view.someProp("clipboardTextSerializer",(e=>e(t,view)))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function ae(view,text,html,t,e){let n,r,l=e.parent.type.spec.code;if(!html&&!text)return null;let c=text&&(t||l||!html);if(c){if(view.someProp("transformPastedText",(e=>{text=e(text,l||t,view)})),l)return text?new o.j(o.c.from(view.state.schema.text(text.replace(/\r\n?/g,"\n"))),0,0):o.j.empty;let c=view.someProp("clipboardTextParser",(n=>n(text,e,t,view)));if(c)r=c;else{let t=e.marks(),{schema:r}=view.state,l=o.b.fromSchema(r);n=document.createElement("div"),text.split(/(?:\r\n?|\n)+/).forEach((e=>{let p=n.appendChild(document.createElement("p"));e&&p.appendChild(l.serializeNode(r.text(e,t)))}))}}else view.someProp("transformPastedHTML",(t=>{html=t(html,view)})),n=function(html){let t=/^(\s*<meta [^>]*>)*/.exec(html);t&&(html=html.slice(t[0].length));let e,n=ge().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(html);(e=r&&fe[r[1].toLowerCase()])&&(html=e.map((t=>"<"+t+">")).join("")+html+e.map((t=>"</"+t+">")).reverse().join(""));if(n.innerHTML=html,e)for(let i=0;i<e.length;i++)n=n.querySelector(e[i])||n;return n}(html),z&&function(t){let e=t.querySelectorAll(A?"span:not([class]):not([style])":"span.Apple-converted-space");for(let i=0;i<e.length;i++){let n=e[i];1==n.childNodes.length&&" "==n.textContent&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}(n);let d=n&&n.querySelector("[data-pm-slice]"),h=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let i=+h[3];i>0;i--){let t=n.firstChild;for(;t&&1!=t.nodeType;)t=t.nextSibling;if(!t)break;n=t}if(!r){let t=view.someProp("clipboardParser")||view.someProp("domParser")||o.a.fromSchema(view.state.schema);r=t.parseSlice(n,{preserveWhitespace:!(!c&&!h),context:e,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||le.test(t.parentNode.nodeName)?null:{ignore:!0}})}if(h)r=function(t,e){if(!t.size)return t;let n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}let{content:content,openStart:l,openEnd:c}=t;for(let i=n.length-2;i>=0;i-=2){let t=r.nodes[n[i]];if(!t||t.hasRequiredAttrs())break;content=o.c.from(t.create(n[i+1],content)),l++,c++}return new o.j(content,l,c)}(he(r,+h[1],+h[2]),h[4]);else if(r=o.j.maxOpen(function(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r,l=e.node(n).contentMatchAt(e.index(n)),c=[];if(t.forEach((t=>{if(!c)return;let e,n=l.findWrapping(t.type);if(!n)return c=null;if(e=c.length&&r.length&&de(n,r,t,c[c.length-1],0))c[c.length-1]=e;else{c.length&&(c[c.length-1]=ue(c[c.length-1],r.length));let e=ce(t,n);c.push(e),l=l.matchType(e.type),r=n}})),c)return o.c.from(c)}return t}(r.content,e),!0),r.openStart||r.openEnd){let t=0,e=0;for(let e=r.content.firstChild;t<r.openStart&&!e.type.spec.isolating;t++,e=e.firstChild);for(let t=r.content.lastChild;e<r.openEnd&&!t.type.spec.isolating;e++,t=t.lastChild);r=he(r,t,e)}return view.someProp("transformPasted",(t=>{r=t(r,view)})),r}const le=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ce(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,o.c.from(t));return t}function de(t,e,n,r,l){if(l<t.length&&l<e.length&&t[l]==e[l]){let c=de(t,e,n,r.lastChild,l+1);if(c)return r.copy(r.content.replaceChild(r.childCount-1,c));if(r.contentMatchAt(r.childCount).matchType(l==t.length-1?n.type:t[l+1]))return r.copy(r.content.append(o.c.from(ce(n,t,l+1))))}}function ue(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,ue(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(o.c.empty,!0);return t.copy(n.append(r))}function pe(t,e,n,r,l,c){let d=e<0?t.firstChild:t.lastChild,h=d.content;return t.childCount>1&&(c=0),l<r-1&&(h=pe(h,e,n,r,l+1,c)),l>=n&&(h=e<0?d.contentMatchAt(0).fillBefore(h,c<=l).append(h):h.append(d.contentMatchAt(d.childCount).fillBefore(o.c.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,d.copy(h))}function he(t,e,n){return e<t.openStart&&(t=new o.j(pe(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new o.j(pe(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const fe={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let me=null;function ge(){return me||(me=document.implementation.createHTMLDocument("title"))}const ve={},ye={},be={touchstart:!0,touchmove:!0};class xe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function we(view,t){view.input.lastSelectionOrigin=t,view.input.lastSelectionTime=Date.now()}function ke(view){view.someProp("handleDOMEvents",(t=>{for(let e in t)view.input.eventHandlers[e]||view.dom.addEventListener(e,view.input.eventHandlers[e]=t=>_e(view,t))}))}function _e(view,t){return view.someProp("handleDOMEvents",(e=>{let n=e[t.type];return!!n&&(n(view,t)||t.defaultPrevented)}))}function Oe(view,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=view.dom;e=e.parentNode)if(!e||11==e.nodeType||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function Se(t){return{left:t.clientX,top:t.clientY}}function Me(view,t,e,n,r){if(-1==n)return!1;let o=view.state.doc.resolve(n);for(let i=o.depth+1;i>0;i--)if(view.someProp(t,(t=>i>o.depth?t(view,e,o.nodeAfter,o.before(i),r,!0):t(view,e,o.node(i),o.before(i),r,!1))))return!0;return!1}function Ce(view,t,e){view.focused||view.focus();let tr=view.state.tr.setSelection(t);"pointer"==e&&tr.setMeta("pointer",!0),view.dispatch(tr)}function Te(view,t,e,n,o){return Me(view,"handleClickOn",t,e,n)||view.someProp("handleClick",(e=>e(view,t,n)))||(o?function(view,t){if(-1==t)return!1;let e,n,o=view.state.selection;o instanceof r.c&&(e=o.node);let l=view.state.doc.resolve(t);for(let i=l.depth+1;i>0;i--){let t=i>l.depth?l.nodeAfter:l.node(i);if(r.c.isSelectable(t)){n=e&&o.$from.depth>0&&i>=o.$from.depth&&l.before(o.$from.depth+1)==o.$from.pos?l.before(o.$from.depth):l.before(i);break}}return null!=n&&(Ce(view,r.c.create(view.state.doc,n),"pointer"),!0)}(view,e):function(view,t){if(-1==t)return!1;let e=view.state.doc.resolve(t),n=e.nodeAfter;return!!(n&&n.isAtom&&r.c.isSelectable(n))&&(Ce(view,new r.c(e),"pointer"),!0)}(view,e))}function Ee(view,t,e,n){return Me(view,"handleDoubleClickOn",t,e,n)||view.someProp("handleDoubleClick",(e=>e(view,t,n)))}function Pe(view,t,e,n){return Me(view,"handleTripleClickOn",t,e,n)||view.someProp("handleTripleClick",(e=>e(view,t,n)))||function(view,t,e){if(0!=e.button)return!1;let n=view.state.doc;if(-1==t)return!!n.inlineContent&&(Ce(view,r.g.create(n,0,n.content.size),"pointer"),!0);let o=n.resolve(t);for(let i=o.depth+1;i>0;i--){let t=i>o.depth?o.nodeAfter:o.node(i),e=o.before(i);if(t.inlineContent)Ce(view,r.g.create(n,e+1,e+1+t.content.size),"pointer");else{if(!r.c.isSelectable(t))continue;Ce(view,r.c.create(n,e),"pointer")}return!0}}(view,e,n)}function De(view){return Le(view)}ye.keydown=(view,t)=>{let e=t;if(view.input.shiftKey=16==e.keyCode||e.shiftKey,!Ie(view,e)&&(view.input.lastKeyCode=e.keyCode,view.input.lastKeyCodeTime=Date.now(),!L||!A||13!=e.keyCode))if(229!=e.keyCode&&view.domObserver.forceFlush(),!$||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)view.someProp("handleKeyDown",(t=>t(view,e)))||oe(view,e)?e.preventDefault():we(view,"key");else{let t=Date.now();view.input.lastIOSEnter=t,view.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{view.input.lastIOSEnter==t&&(view.someProp("handleKeyDown",(t=>t(view,_(13,"Enter")))),view.input.lastIOSEnter=0)}),200)}},ye.keyup=(view,t)=>{16==t.keyCode&&(view.input.shiftKey=!1)},ye.keypress=(view,t)=>{let e=t;if(Ie(view,e)||!e.charCode||e.ctrlKey&&!e.altKey||R&&e.metaKey)return;if(view.someProp("handleKeyPress",(t=>t(view,e))))return void e.preventDefault();let n=view.state.selection;if(!(n instanceof r.g&&n.$from.sameParent(n.$to))){let text=String.fromCharCode(e.charCode);/[\r\n]/.test(text)||view.someProp("handleTextInput",(t=>t(view,n.$from.pos,n.$to.pos,text)))||view.dispatch(view.state.tr.insertText(text).scrollIntoView()),e.preventDefault()}};const je=R?"metaKey":"ctrlKey";ve.mousedown=(view,t)=>{let e=t;view.input.shiftKey=e.shiftKey;let n=De(view),r=Date.now(),o="singleClick";r-view.input.lastClick.time<500&&function(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,view.input.lastClick)&&!e[je]&&("singleClick"==view.input.lastClick.type?o="doubleClick":"doubleClick"==view.input.lastClick.type&&(o="tripleClick")),view.input.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};let l=view.posAtCoords(Se(e));l&&("singleClick"==o?(view.input.mouseDown&&view.input.mouseDown.done(),view.input.mouseDown=new Ae(view,l,e,!!n)):("doubleClick"==o?Ee:Pe)(view,l.pos,l.inside,e)?e.preventDefault():we(view,"pointer"))};class Ae{constructor(view,t,e,n){let o,l;if(this.view=view,this.pos=t,this.event=e,this.flushed=n,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=view.state.doc,this.selectNode=!!e[je],this.allowDefault=e.shiftKey,t.inside>-1)o=view.state.doc.nodeAt(t.inside),l=t.inside;else{let e=view.state.doc.resolve(t.pos);o=e.parent,l=e.depth?e.before():0}const c=n?null:e.target,d=c?view.docView.nearestDesc(c,!0):null;this.target=d?d.dom:null;let{selection:h}=view.state;(0==e.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||h instanceof r.c&&h.from<=l&&h.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!D||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),view.root.addEventListener("mouseup",this.up=this.up.bind(this)),view.root.addEventListener("mousemove",this.move=this.move.bind(this)),we(view,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Rt(this.view))),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Se(t))),this.updateAllowDefault(t),this.allowDefault||!e?we(this.view,"pointer"):Te(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||N&&this.mightDrag&&!this.mightDrag.node.isAtom||A&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Ce(this.view,r.f.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):we(this.view,"pointer")}move(t){this.updateAllowDefault(t),we(this.view,"pointer"),0==t.buttons&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}function Ie(view,t){return!!view.composing||!!(N&&Math.abs(t.timeStamp-view.input.compositionEndedAt)<500)&&(view.input.compositionEndedAt=-2e8,!0)}ve.touchstart=view=>{view.input.lastTouch=Date.now(),De(view),we(view,"pointer")},ve.touchmove=view=>{view.input.lastTouch=Date.now(),we(view,"pointer")},ve.contextmenu=view=>De(view);const Ne=L?5e3:-1;function $e(view,t){clearTimeout(view.input.composingTimeout),t>-1&&(view.input.composingTimeout=setTimeout((()=>Le(view)),t))}function Re(view){for(view.composing&&(view.input.composing=!1,view.input.compositionEndedAt=function(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}());view.input.compositionNodes.length>0;)view.input.compositionNodes.pop().markParentsDirty()}function Be(view){let t=view.domSelectionRange();if(!t.focusNode)return null;let e=function(t,e){for(;;){if(3==t.nodeType&&e)return t;if(1==t.nodeType&&e>0){if("false"==t.contentEditable)return null;e=x(t=t.childNodes[e-1])}else{if(!t.parentNode||w(t))return null;e=c(t),t=t.parentNode}}}(t.focusNode,t.focusOffset),n=function(t,e){for(;;){if(3==t.nodeType&&e<t.nodeValue.length)return t;if(1==t.nodeType&&e<t.childNodes.length){if("false"==t.contentEditable)return null;t=t.childNodes[e],e=0}else{if(!t.parentNode||w(t))return null;e=c(t)+1,t=t.parentNode}}}(t.focusNode,t.focusOffset);if(e&&n&&e!=n){let t=n.pmViewDesc;if(!t||!t.isText(n.nodeValue))return n;if(view.input.compositionNode==n){let t=e.pmViewDesc;if(t&&t.isText(e.nodeValue))return n}}return e||n}function Le(view,t=!1){if(!(L&&view.domObserver.flushingSoon>=0)){if(view.domObserver.forceFlush(),Re(view),t||view.docView&&view.docView.dirty){let t=Nt(view);return t&&!t.eq(view.state.selection)?view.dispatch(view.state.tr.setSelection(t)):view.updateState(view.state),!0}return!1}}ye.compositionstart=ye.compositionupdate=view=>{if(!view.composing){view.domObserver.flush();let{state:t}=view,e=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some((t=>!1===t.type.spec.inclusive))))view.markCursor=view.state.storedMarks||e.marks(),Le(view,!0),view.markCursor=null;else if(Le(view),D&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let t=view.domSelectionRange();for(let e=t.focusNode,n=t.focusOffset;e&&1==e.nodeType&&0!=n;){let t=n<0?e.lastChild:e.childNodes[n-1];if(!t)break;if(3==t.nodeType){view.domSelection().collapse(t,t.nodeValue.length);break}e=t,n=-1}}view.input.composing=!0}$e(view,Ne)},ye.compositionend=(view,t)=>{view.composing&&(view.input.composing=!1,view.input.compositionEndedAt=t.timeStamp,view.input.compositionPendingChanges=view.domObserver.pendingRecords().length?view.input.compositionID:0,view.input.compositionNode=null,view.input.compositionPendingChanges&&Promise.resolve().then((()=>view.domObserver.flush())),view.input.compositionID++,$e(view,20))};const ze=E&&P<15||$&&H<604;function He(view,text,html,t,e){let n=ae(view,text,html,t,view.state.selection.$from);if(view.someProp("handlePaste",(t=>t(view,e,n||o.j.empty))))return!0;if(!n)return!1;let r=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(n),tr=r?view.state.tr.replaceSelectionWith(r,t):view.state.tr.replaceSelection(n);return view.dispatch(tr.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Fe(t){let text=t.getData("text/plain")||t.getData("Text");if(text)return text;let e=t.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}ve.copy=ye.cut=(view,t)=>{let e=t,n=view.state.selection,r="cut"==e.type;if(n.empty)return;let data=ze?null:e.clipboardData,o=n.content(),{dom:l,text:text}=se(view,o);data?(e.preventDefault(),data.clearData(),data.setData("text/html",l.innerHTML),data.setData("text/plain",text)):function(view,t){if(!view.dom.parentNode)return;let e=view.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),r=document.createRange();r.selectNodeContents(t),view.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout((()=>{e.parentNode&&e.parentNode.removeChild(e),view.focus()}),50)}(view,l),r&&view.dispatch(view.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},ye.paste=(view,t)=>{let e=t;if(view.composing&&!L)return;let data=ze?null:e.clipboardData,n=view.input.shiftKey&&45!=view.input.lastKeyCode;data&&He(view,Fe(data),data.getData("text/html"),n,e)?e.preventDefault():function(view,t){if(!view.dom.parentNode)return;let e=view.input.shiftKey||view.state.selection.$from.parent.type.spec.code,n=view.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let r=view.input.shiftKey&&45!=view.input.lastKeyCode;setTimeout((()=>{view.focus(),n.parentNode&&n.parentNode.removeChild(n),e?He(view,n.value,null,r,t):He(view,n.textContent,n.innerHTML,r,t)}),50)}(view,e)};class Ve{constructor(t,e,n){this.slice=t,this.move=e,this.node=n}}const We=R?"altKey":"ctrlKey";ve.dragstart=(view,t)=>{let e=t,n=view.input.mouseDown;if(n&&n.done(),!e.dataTransfer)return;let o,l=view.state.selection,c=l.empty?null:view.posAtCoords(Se(e));if(c&&c.pos>=l.from&&c.pos<=(l instanceof r.c?l.to-1:l.to));else if(n&&n.mightDrag)o=r.c.create(view.state.doc,n.mightDrag.pos);else if(e.target&&1==e.target.nodeType){let desc=view.docView.nearestDesc(e.target,!0);desc&&desc.node.type.spec.draggable&&desc!=view.docView&&(o=r.c.create(view.state.doc,desc.posBefore))}let d=(o||view.state.selection).content(),{dom:h,text:text,slice:f}=se(view,d);e.dataTransfer.clearData(),e.dataTransfer.setData(ze?"Text":"text/html",h.innerHTML),e.dataTransfer.effectAllowed="copyMove",ze||e.dataTransfer.setData("text/plain",text),view.dragging=new Ve(f,!e[We],o)},ve.dragend=view=>{let t=view.dragging;window.setTimeout((()=>{view.dragging==t&&(view.dragging=null)}),50)},ye.dragover=ye.dragenter=(t,e)=>e.preventDefault(),ye.drop=(view,t)=>{let e=t,n=view.dragging;if(view.dragging=null,!e.dataTransfer)return;let c=view.posAtCoords(Se(e));if(!c)return;let d=view.state.doc.resolve(c.pos),h=n&&n.slice;h?view.someProp("transformPasted",(t=>{h=t(h,view)})):h=ae(view,Fe(e.dataTransfer),ze?null:e.dataTransfer.getData("text/html"),!1,d);let f=!(!n||e[We]);if(view.someProp("handleDrop",(t=>t(view,e,h||o.j.empty,f))))return void e.preventDefault();if(!h)return;e.preventDefault();let m=h?Object(l.g)(view.state.doc,d.pos,h):d.pos;null==m&&(m=d.pos);let tr=view.state.tr;if(f){let{node:t}=n;t?t.replace(tr):tr.deleteSelection()}let v=tr.mapping.map(m),y=0==h.openStart&&0==h.openEnd&&1==h.content.childCount,x=tr.doc;if(y?tr.replaceRangeWith(v,v,h.content.firstChild):tr.replaceRange(v,v,h),tr.doc.eq(x))return;let w=tr.doc.resolve(v);if(y&&r.c.isSelectable(h.content.firstChild)&&w.nodeAfter&&w.nodeAfter.sameMarkup(h.content.firstChild))tr.setSelection(new r.c(w));else{let t=tr.mapping.map(m);tr.mapping.maps[tr.mapping.maps.length-1].forEach(((e,n,r,o)=>t=o)),tr.setSelection(Wt(view,w,tr.doc.resolve(t)))}view.focus(),view.dispatch(tr.setMeta("uiEvent","drop"))},ve.focus=view=>{view.input.lastFocus=Date.now(),view.focused||(view.domObserver.stop(),view.dom.classList.add("ProseMirror-focused"),view.domObserver.start(),view.focused=!0,setTimeout((()=>{view.docView&&view.hasFocus()&&!view.domObserver.currentSelection.eq(view.domSelectionRange())&&Rt(view)}),20))},ve.blur=(view,t)=>{let e=t;view.focused&&(view.domObserver.stop(),view.dom.classList.remove("ProseMirror-focused"),view.domObserver.start(),e.relatedTarget&&view.dom.contains(e.relatedTarget)&&view.domObserver.currentSelection.clear(),view.focused=!1)},ve.beforeinput=(view,t)=>{if(A&&L&&"deleteContentBackward"==t.inputType){view.domObserver.flushSoon();let{domChangeCount:t}=view.input;setTimeout((()=>{if(view.input.domChangeCount!=t)return;if(view.dom.blur(),view.focus(),view.someProp("handleKeyDown",(t=>t(view,_(8,"Backspace")))))return;let{$cursor:e}=view.state.selection;e&&e.pos>0&&view.dispatch(view.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}),50)}};for(let t in ye)ve[t]=ye[t];function qe(a,b){if(a==b)return!0;for(let p in a)if(a[p]!==b[p])return!1;for(let p in b)if(!(p in a))return!1;return!0}class Ye{constructor(t,e){this.toDOM=t,this.spec=e||Xe,this.side=this.spec.side||0}map(t,span,e,n){let{pos:r,deleted:o}=t.mapResult(span.from+n,this.side<0?-1:1);return o?null:new Je(r-e,r-e,this)}valid(){return!0}eq(t){return this==t||t instanceof Ye&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&qe(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Ue{constructor(t,e){this.attrs=t,this.spec=e||Xe}map(t,span,e,n){let r=t.map(span.from+n,this.spec.inclusiveStart?-1:1)-e,o=t.map(span.to+n,this.spec.inclusiveEnd?1:-1)-e;return r>=o?null:new Je(r,o,this)}valid(t,span){return span.from<span.to}eq(t){return this==t||t instanceof Ue&&qe(this.attrs,t.attrs)&&qe(this.spec,t.spec)}static is(span){return span.type instanceof Ue}destroy(){}}class Ke{constructor(t,e){this.attrs=t,this.spec=e||Xe}map(t,span,e,n){let r=t.mapResult(span.from+n,1);if(r.deleted)return null;let o=t.mapResult(span.to+n,-1);return o.deleted||o.pos<=r.pos?null:new Je(r.pos-e,o.pos-e,this)}valid(t,span){let e,{index:n,offset:r}=t.content.findIndex(span.from);return r==span.from&&!(e=t.child(n)).isText&&r+e.nodeSize==span.to}eq(t){return this==t||t instanceof Ke&&qe(this.attrs,t.attrs)&&qe(this.spec,t.spec)}destroy(){}}class Je{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new Je(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new Je(t,t,new Ye(e,n))}static inline(t,e,n,r){return new Je(t,e,new Ue(n,r))}static node(t,e,n,r){return new Je(t,e,new Ke(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ue}get widget(){return this.type instanceof Ye}}const Ge=[],Xe={};class Ze{constructor(t,e){this.local=t.length?t:Ge,this.children=e.length?e:Ge}static create(t,e){return e.length?on(e,t,0,Xe):Qe}find(t,e,n){let r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}findInner(t,e,n,r,o){for(let i=0;i<this.local.length;i++){let span=this.local[i];span.from<=e&&span.to>=t&&(!o||o(span.spec))&&n.push(span.copy(span.from+r,span.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<e&&this.children[i+1]>t){let l=this.children[i]+1;this.children[i+2].findInner(t-l,e-l,n,r+l,o)}}map(t,e,n){return this==Qe||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Xe)}mapInner(t,e,n,r,o){let l;for(let i=0;i<this.local.length;i++){let c=this.local[i].map(t,n,r);c&&c.type.valid(e,c)?(l||(l=[])).push(c):o.onRemove&&o.onRemove(this.local[i].spec)}return this.children.length?function(t,e,n,r,o,l,c){let d=t.slice();for(let i=0,t=l;i<n.maps.length;i++){let e=0;n.maps[i].forEach(((n,r,o,l)=>{let c=l-o-(r-n);for(let i=0;i<d.length;i+=3){let o=d[i+1];if(o<0||n>o+t-e)continue;let l=d[i]+t-e;r>=l?d[i+1]=n<=l?-2:-1:n>=t&&c&&(d[i]+=c,d[i+1]+=c)}e+=c})),t=n.maps[i].map(t,-1)}let h=!1;for(let i=0;i<d.length;i+=3)if(d[i+1]<0){if(-2==d[i+1]){h=!0,d[i+1]=-1;continue}let e=n.map(t[i]+l),f=e-o;if(f<0||f>=r.content.size){h=!0;continue}let m=n.map(t[i+1]+l,-1)-o,{index:v,offset:y}=r.content.findIndex(f),x=r.maybeChild(v);if(x&&y==f&&y+x.nodeSize==m){let r=d[i+2].mapInner(n,x,e+1,t[i]+l+1,c);r!=Qe?(d[i]=f,d[i+1]=m,d[i+2]=r):(d[i+1]=-2,h=!0)}else h=!0}if(h){let h=function(t,e,n,r,o,l,c){function d(t,e){for(let i=0;i<t.local.length;i++){let l=t.local[i].map(r,o,e);l?n.push(l):c.onRemove&&c.onRemove(t.local[i].spec)}for(let i=0;i<t.children.length;i+=3)d(t.children[i+2],t.children[i]+e+1)}for(let i=0;i<t.length;i+=3)-1==t[i+1]&&d(t[i+2],e[i]+l+1);return n}(d,t,e,n,o,l,c),f=on(h,r,0,c);e=f.local;for(let i=0;i<d.length;i+=3)d[i+1]<0&&(d.splice(i,3),i-=3);for(let i=0,t=0;i<f.children.length;i+=3){let e=f.children[i];for(;t<d.length&&d[t]<e;)t+=3;d.splice(t,0,f.children[i],f.children[i+1],f.children[i+2])}}return new Ze(e.sort(sn),d)}(this.children,l||[],t,e,n,r,o):l?new Ze(l.sort(sn),Ge):Qe}add(t,e){return e.length?this==Qe?Ze.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,o=0;t.forEach(((t,l)=>{let c,d=l+n;if(c=nn(e,t,d)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(t,c,d+1):r.splice(o,0,l,l+t.nodeSize,on(c,t,d+1,Xe)),o+=3}}));let l=en(o?rn(e):e,-n);for(let i=0;i<l.length;i++)l[i].type.valid(t,l[i])||l.splice(i--,1);return new Ze(l.length?this.local.concat(l).sort(sn):this.local,r||this.children)}remove(t){return 0==t.length||this==Qe?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let i=0;i<n.length;i+=3){let r,o=n[i]+e,l=n[i+1]+e;for(let span,e=0;e<t.length;e++)(span=t[e])&&span.from>o&&span.to<l&&(t[e]=null,(r||(r=[])).push(span));if(!r)continue;n==this.children&&(n=this.children.slice());let c=n[i+2].removeInner(r,o+1);c!=Qe?n[i+2]=c:(n.splice(i,3),i-=3)}if(r.length)for(let span,i=0;i<t.length;i++)if(span=t[i])for(let t=0;t<r.length;t++)r[t].eq(span,e)&&(r==this.local&&(r=this.local.slice()),r.splice(t--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Ze(r,n):Qe}forChild(t,e){if(this==Qe)return this;if(e.isLeaf)return Ze.empty;let n,r;for(let i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(n=this.children[i+2]);break}let o=t+1,l=o+e.content.size;for(let i=0;i<this.local.length;i++){let t=this.local[i];if(t.from<l&&t.to>o&&t.type instanceof Ue){let e=Math.max(o,t.from)-o,n=Math.min(l,t.to)-o;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let t=new Ze(r.sort(sn),Ge);return n?new tn([t,n]):t}return n||Qe}eq(t){if(this==t)return!0;if(!(t instanceof Ze)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let i=0;i<this.local.length;i++)if(!this.local[i].eq(t.local[i]))return!1;for(let i=0;i<this.children.length;i+=3)if(this.children[i]!=t.children[i]||this.children[i+1]!=t.children[i+1]||!this.children[i+2].eq(t.children[i+2]))return!1;return!0}locals(t){return an(this.localsInner(t))}localsInner(t){if(this==Qe)return Ge;if(t.inlineContent||!this.local.some(Ue.is))return this.local;let e=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof Ue||e.push(this.local[i]);return e}}Ze.empty=new Ze([],[]),Ze.removeOverlap=an;const Qe=Ze.empty;class tn{constructor(t){this.members=t}map(t,e){const n=this.members.map((n=>n.map(t,e,Xe)));return tn.from(n)}forChild(t,e){if(e.isLeaf)return Ze.empty;let n=[];for(let i=0;i<this.members.length;i++){let r=this.members[i].forChild(t,e);r!=Qe&&(r instanceof tn?n=n.concat(r.members):n.push(r))}return tn.from(n)}eq(t){if(!(t instanceof tn)||t.members.length!=this.members.length)return!1;for(let i=0;i<this.members.length;i++)if(!this.members[i].eq(t.members[i]))return!1;return!0}locals(t){let e,n=!0;for(let i=0;i<this.members.length;i++){let r=this.members[i].localsInner(t);if(r.length)if(e){n&&(e=e.slice(),n=!1);for(let t=0;t<r.length;t++)e.push(r[t])}else e=r}return e?an(n?e:e.sort(sn)):Ge}static from(t){switch(t.length){case 0:return Qe;case 1:return t[0];default:return new tn(t.every((t=>t instanceof Ze))?t:t.reduce(((t,e)=>t.concat(e instanceof Ze?e:e.members)),[]))}}}function en(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let span=t[i];n.push(new Je(span.from+e,span.to+e,span.type))}return n}function nn(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let span,i=0;i<t.length;i++)(span=t[i])&&span.from>n&&span.to<r&&((o||(o=[])).push(span),t[i]=null);return o}function rn(t){let e=[];for(let i=0;i<t.length;i++)null!=t[i]&&e.push(t[i]);return e}function on(t,e,n,r){let o=[],l=!1;e.forEach(((e,c)=>{let d=nn(t,e,c+n);if(d){l=!0;let t=on(d,e,n+c+1,r);t!=Qe&&o.push(c,c+e.nodeSize,t)}}));let c=en(l?rn(t):t,-n).sort(sn);for(let i=0;i<c.length;i++)c[i].type.valid(e,c[i])||(r.onRemove&&r.onRemove(c[i].spec),c.splice(i--,1));return c.length||o.length?new Ze(c,o):Qe}function sn(a,b){return a.from-b.from||a.to-b.to}function an(t){let e=t;for(let i=0;i<e.length-1;i++){let span=e[i];if(span.from!=span.to)for(let n=i+1;n<e.length;n++){let r=e[n];if(r.from!=span.from){r.from<span.to&&(e==t&&(e=t.slice()),e[i]=span.copy(span.from,r.from),ln(e,n,span.copy(r.from,span.to)));break}r.to!=span.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,span.to),ln(e,n+1,r.copy(span.to,r.to)))}}return e}function ln(t,i,e){for(;i<t.length&&sn(e,t[i])>0;)i++;t.splice(i,0,e)}function cn(view){let t=[];return view.someProp("decorations",(e=>{let n=e(view.state);n&&n!=Qe&&t.push(n)})),view.cursorWrapper&&t.push(Ze.create(view.state.doc,[view.cursorWrapper.deco])),tn.from(t)}const dn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},un=E&&P<=11;class pn{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class hn{constructor(view,t){this.view=view,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new pn,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((t=>{for(let i=0;i<t.length;i++)this.queue.push(t[i]);E&&P<=11&&t.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),un&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,dn)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let i=0;i<t.length;i++)this.queue.push(t[i]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(qt(this.view)){if(this.suppressingSelectionUpdates)return Rt(this.view);if(E&&P<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&m(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e,n=new Set;for(let e=t.focusNode;e;e=d(e))n.add(e);for(let r=t.anchorNode;r;r=d(r))if(n.has(r)){e=r;break}let desc=e&&this.view.docView.nearestDesc(e);return desc&&desc.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:view}=this;if(!view.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let e=view.domSelectionRange(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&qt(view)&&!this.ignoreSelectionChange(e),o=-1,l=-1,c=!1,d=[];if(view.editable)for(let i=0;i<t.length;i++){let e=this.registerMutation(t[i],d);e&&(o=o<0?e.from:Math.min(e.from,o),l=l<0?e.to:Math.max(e.to,l),e.typeOver&&(c=!0))}if(D&&d.length>1){let t=d.filter((t=>"BR"==t.nodeName));if(2==t.length){let a=t[0],b=t[1];a.parentNode&&a.parentNode.parentNode==b.parentNode?b.remove():a.remove()}}let h=null;o<0&&n&&view.input.lastFocus>Date.now()-200&&Math.max(view.input.lastTouch,view.input.lastClick.time)<Date.now()-300&&k(e)&&(h=Nt(view))&&h.eq(r.f.near(view.state.doc.resolve(0),1))?(view.input.lastFocus=0,Rt(view),this.currentSelection.set(e),view.scrollToSelection()):(o>-1||n)&&(o>-1&&(view.docView.markDirty(o,l),function(view){if(fn.has(view))return;if(fn.set(view,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(view.dom).whiteSpace)){if(view.requiresGeckoHackNode=D,mn)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),mn=!0}}(view)),this.handleDOMChange(o,l,c,d),view.docView&&view.docView.dirty?view.updateState(view.state):this.currentSelection.eq(e)||Rt(view),this.currentSelection.set(e))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let desc=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(desc==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!desc||desc.ignoreMutation(t))return null;if("childList"==t.type){for(let i=0;i<t.addedNodes.length;i++)e.push(t.addedNodes[i]);if(desc.contentDOM&&desc.contentDOM!=desc.dom&&!desc.contentDOM.contains(t.target))return{from:desc.posBefore,to:desc.posAfter};let n=t.previousSibling,r=t.nextSibling;if(E&&P<=11&&t.addedNodes.length)for(let i=0;i<t.addedNodes.length;i++){let{previousSibling:e,nextSibling:o}=t.addedNodes[i];(!e||Array.prototype.indexOf.call(t.addedNodes,e)<0)&&(n=e),(!o||Array.prototype.indexOf.call(t.addedNodes,o)<0)&&(r=o)}let o=n&&n.parentNode==t.target?c(n)+1:0,l=desc.localPosFromDOM(t.target,o,-1),d=r&&r.parentNode==t.target?c(r):t.target.childNodes.length;return{from:l,to:desc.localPosFromDOM(t.target,d,1)}}return"attributes"==t.type?{from:desc.posAtStart-desc.border,to:desc.posAtEnd+desc.border}:{from:desc.posAtStart,to:desc.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let fn=new WeakMap,mn=!1;function gn(view,t){let e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset,l=view.domAtPos(view.state.selection.anchor);return m(l.node,l.offset,r,o)&&([e,n,r,o]=[r,o,e,n]),{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:o}}function vn(t){let desc=t.pmViewDesc;if(desc)return desc.parseRule();if("BR"==t.nodeName&&t.parentNode){if(N&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||N&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const yn=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function bn(view,t,e,n,l){let c=view.input.compositionPendingChanges||(view.composing?view.input.compositionID:0);if(view.input.compositionPendingChanges=0,t<0){let t=view.input.lastSelectionTime>Date.now()-50?view.input.lastSelectionOrigin:null,e=Nt(view,t);if(e&&!view.state.selection.eq(e)){if(A&&L&&13===view.input.lastKeyCode&&Date.now()-100<view.input.lastKeyCodeTime&&view.someProp("handleKeyDown",(t=>t(view,_(13,"Enter")))))return;let tr=view.state.tr.setSelection(e);"pointer"==t?tr.setMeta("pointer",!0):"key"==t&&tr.scrollIntoView(),c&&tr.setMeta("composition",c),view.dispatch(tr)}return}let d=view.state.doc.resolve(t),h=d.sharedDepth(e);t=d.before(h+1),e=view.state.doc.resolve(e).after(h+1);let f,m,v=view.state.selection,y=function(view,t,e){let n,{node:r,fromOffset:l,toOffset:c,from:d,to:h}=view.docView.parseRange(t,e),f=view.domSelectionRange(),m=f.anchorNode;if(m&&view.dom.contains(1==m.nodeType?m:m.parentNode)&&(n=[{node:m,offset:f.anchorOffset}],k(f)||n.push({node:f.focusNode,offset:f.focusOffset})),A&&8===view.input.lastKeyCode)for(let t=c;t>l;t--){let e=r.childNodes[t-1],desc=e.pmViewDesc;if("BR"==e.nodeName&&!desc){c=t;break}if(!desc||desc.size)break}let v=view.state.doc,y=view.someProp("domParser")||o.a.fromSchema(view.state.schema),x=v.resolve(d),w=null,_=y.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:l,to:c,preserveWhitespace:"pre"!=x.parent.type.whitespace||"full",findPositions:n,ruleFromNode:vn,context:x});if(n&&null!=n[0].pos){let t=n[0].pos,head=n[1]&&n[1].pos;null==head&&(head=t),w={anchor:t+d,head:head+d}}return{doc:_,sel:w,from:d,to:h}}(view,t,e),x=view.state.doc,w=x.slice(y.from,y.to);8===view.input.lastKeyCode&&Date.now()-100<view.input.lastKeyCodeTime?(f=view.state.selection.to,m="end"):(f=view.state.selection.from,m="start"),view.input.lastKeyCode=null;let O=function(a,b,t,e,n){let r=a.findDiffStart(b,t);if(null==r)return null;let{a:o,b:l}=a.findDiffEnd(b,t+a.size,t+b.size);if("end"==n){e-=o+Math.max(0,r-Math.min(o,l))-r}if(o<r&&a.size<b.size){let t=e<=r&&e>=o?r-e:0;r-=t,r&&r<b.size&&kn(b.textBetween(r-1,r+1))&&(r+=t?1:-1),l=r+(l-o),o=r}else if(l<r){let t=e<=r&&e>=l?r-e:0;r-=t,r&&r<a.size&&kn(a.textBetween(r-1,r+1))&&(r+=t?1:-1),o=r+(o-l),l=r}return{start:r,endA:o,endB:l}}(w.content,y.doc.content,y.from,f,m);if(($&&view.input.lastIOSEnter>Date.now()-225||L)&&l.some((t=>1==t.nodeType&&!yn.test(t.nodeName)))&&(!O||O.endA>=O.endB)&&view.someProp("handleKeyDown",(t=>t(view,_(13,"Enter")))))return void(view.input.lastIOSEnter=0);if(!O){if(!(n&&v instanceof r.g&&!v.empty&&v.$head.sameParent(v.$anchor))||view.composing||y.sel&&y.sel.anchor!=y.sel.head){if(y.sel){let t=xn(view,view.state.doc,y.sel);if(t&&!t.eq(view.state.selection)){let tr=view.state.tr.setSelection(t);c&&tr.setMeta("composition",c),view.dispatch(tr)}}return}O={start:v.from,endA:v.to,endB:v.to}}view.input.domChangeCount++,view.state.selection.from<view.state.selection.to&&O.start==O.endB&&view.state.selection instanceof r.g&&(O.start>view.state.selection.from&&O.start<=view.state.selection.from+2&&view.state.selection.from>=y.from?O.start=view.state.selection.from:O.endA<view.state.selection.to&&O.endA>=view.state.selection.to-2&&view.state.selection.to<=y.to&&(O.endB+=view.state.selection.to-O.endA,O.endA=view.state.selection.to)),E&&P<=11&&O.endB==O.start+1&&O.endA==O.start&&O.start>y.from&&"  "==y.doc.textBetween(O.start-y.from-1,O.start-y.from+1)&&(O.start--,O.endA--,O.endB--);let S,M=y.doc.resolveNoCache(O.start-y.from),C=y.doc.resolveNoCache(O.endB-y.from),T=x.resolve(O.start),D=M.sameParent(C)&&M.parent.inlineContent&&T.end()>=O.endA;if(($&&view.input.lastIOSEnter>Date.now()-225&&(!D||l.some((t=>"DIV"==t.nodeName||"P"==t.nodeName)))||!D&&M.pos<y.doc.content.size&&!M.sameParent(C)&&(S=r.f.findFrom(y.doc.resolve(M.pos+1),1,!0))&&S.head==C.pos)&&view.someProp("handleKeyDown",(t=>t(view,_(13,"Enter")))))return void(view.input.lastIOSEnter=0);if(view.state.selection.anchor>O.start&&function(t,e,n,r,o){if(n-e<=o.pos-r.pos||wn(r,!0,!1)<o.pos)return!1;let l=t.resolve(e);if(!r.parent.isTextblock){let t=l.nodeAfter;return null!=t&&n==e+t.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=t.resolve(wn(l,!0,!0));return!(!c.parent.isTextblock||c.pos>n||wn(c,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(c.parent.content)}(x,O.start,O.endA,M,C)&&view.someProp("handleKeyDown",(t=>t(view,_(8,"Backspace")))))return void(L&&A&&view.domObserver.suppressSelectionUpdates());A&&L&&O.endB==O.start&&(view.input.lastAndroidDelete=Date.now()),L&&!D&&M.start()!=C.start()&&0==C.parentOffset&&M.depth==C.depth&&y.sel&&y.sel.anchor==y.sel.head&&y.sel.head==O.endA&&(O.endB-=2,C=y.doc.resolveNoCache(O.endB-y.from),setTimeout((()=>{view.someProp("handleKeyDown",(function(t){return t(view,_(13,"Enter"))}))}),20));let tr,j,I,N=O.start,R=O.endA;if(D)if(M.pos==C.pos)E&&P<=11&&0==M.parentOffset&&(view.domObserver.suppressSelectionUpdates(),setTimeout((()=>Rt(view)),20)),tr=view.state.tr.delete(N,R),j=x.resolve(O.start).marksAcross(x.resolve(O.endA));else if(O.endA==O.endB&&(I=function(t,e){let n,mark,r,l=t.firstChild.marks,c=e.firstChild.marks,d=l,h=c;for(let i=0;i<c.length;i++)d=c[i].removeFromSet(d);for(let i=0;i<l.length;i++)h=l[i].removeFromSet(h);if(1==d.length&&0==h.length)mark=d[0],n="add",r=t=>t.mark(mark.addToSet(t.marks));else{if(0!=d.length||1!=h.length)return null;mark=h[0],n="remove",r=t=>t.mark(mark.removeFromSet(t.marks))}let f=[];for(let i=0;i<e.childCount;i++)f.push(r(e.child(i)));if(o.c.from(f).eq(t))return{mark:mark,type:n}}(M.parent.content.cut(M.parentOffset,C.parentOffset),T.parent.content.cut(T.parentOffset,O.endA-T.start()))))tr=view.state.tr,"add"==I.type?tr.addMark(N,R,I.mark):tr.removeMark(N,R,I.mark);else if(M.parent.child(M.index()).isText&&M.index()==C.index()-(C.textOffset?0:1)){let text=M.parent.textBetween(M.parentOffset,C.parentOffset);if(view.someProp("handleTextInput",(t=>t(view,N,R,text))))return;tr=view.state.tr.insertText(text,N,R)}if(tr||(tr=view.state.tr.replace(N,R,y.doc.slice(O.start-y.from,O.endB-y.from))),y.sel){let t=xn(view,tr.doc,y.sel);t&&!(A&&L&&view.composing&&t.empty&&(O.start!=O.endB||view.input.lastAndroidDelete<Date.now()-100)&&(t.head==N||t.head==tr.mapping.map(R)-1)||E&&t.empty&&t.head==N)&&tr.setSelection(t)}j&&tr.ensureMarks(j),c&&tr.setMeta("composition",c),view.dispatch(tr.scrollIntoView())}function xn(view,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:Wt(view,t.resolve(e.anchor),t.resolve(e.head))}function wn(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));for(;e&&!e.isLeaf;)e=e.firstChild,o++}return o}function kn(t){if(2!=t.length)return!1;let a=t.charCodeAt(0),b=t.charCodeAt(1);return a>=56320&&a<=57343&&b>=55296&&b<=56319}class _n{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(Tn),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Mn(this),Sn(this),this.nodeViews=Cn(this),this.docView=bt(this.state.doc,On(this),cn(this),this.dom,this),this.domObserver=new hn(this,((t,e,n,r)=>bn(this,t,e,n,r))),this.domObserver.start(),function(view){for(let t in ve){let e=ve[t];view.dom.addEventListener(t,view.input.eventHandlers[t]=t=>{!Oe(view,t)||_e(view,t)||!view.editable&&t.type in ye||e(view,t)},be[t]?{passive:!0}:void 0)}N&&view.dom.addEventListener("input",(()=>null)),ke(view)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ke(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Tn),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let t in this._props)e[t]=this._props[t];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var n;let r=this.state,o=!1,l=!1;t.storedMarks&&this.composing&&(Re(this),l=!0),this.state=t;let c=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(c||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let t=Cn(this);(function(a,b){let t=0,e=0;for(let e in a){if(a[e]!=b[e])return!0;t++}for(let t in b)e++;return t!=e})(t,this.nodeViews)&&(this.nodeViews=t,o=!0)}(c||e.handleDOMEvents!=this._props.handleDOMEvents)&&ke(this),this.editable=Mn(this),Sn(this);let d=cn(this),h=On(this),f=r.plugins==t.plugins||r.doc.eq(t.doc)?t.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",v=o||!this.docView.matchesNode(t.doc,h,d);!v&&t.selection.eq(r.selection)||(l=!0);let y="preserve"==f&&l&&null==this.dom.style.overflowAnchor&&function(view){let t,e,rect=view.dom.getBoundingClientRect(),n=Math.max(0,rect.top);for(let r=(rect.left+rect.right)/2,o=n+1;o<Math.min(innerHeight,rect.bottom);o+=5){let l=view.root.elementFromPoint(r,o);if(!l||l==view.dom||!view.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){t=l,e=c.top;break}}return{refDOM:t,refTop:e,stack:U(view.dom)}}(this);if(l){this.domObserver.stop();let e=v&&(E||A)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&function(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}(r.selection,t.selection);if(v){let n=A?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Be(this)),!o&&this.docView.update(t.doc,h,d,this)||(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=bt(t.doc,h,d,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(view){let t=view.docView.domFromPos(view.state.selection.anchor,0),e=view.domSelectionRange();return m(t.node,t.offset,e.anchorNode,e.anchorOffset)}(this))?Rt(this,e):(Ft(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==f?this.dom.scrollTop=0:"to selection"==f?this.scrollToSelection():y&&function({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;K(n,0==r?0:r-e)}(y)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(t=>t(this))));else if(this.state.selection instanceof r.c){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&Y(this,e.getBoundingClientRect(),t)}else Y(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let view;for(;view=this.pluginViews.pop();)view.destroy&&view.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let i=0;i<this.pluginViews.length;i++){let e=this.pluginViews[i];e.update&&e.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let i=0;i<this.directPlugins.length;i++){let t=this.directPlugins[i];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let i=0;i<this.state.plugins.length;i++){let t=this.state.plugins[i];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(t,e){let n=t.node,o=-1;if(this.state.doc.nodeAt(n.from)==n.node)o=n.from;else{let t=n.from+(this.state.doc.content.size-e.doc.content.size);(t>0&&this.state.doc.nodeAt(t))==n.node&&(o=t)}this.dragging=new Ve(t.slice,t.move,o<0?void 0:r.c.create(this.state.doc,o))}someProp(t,e){let n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(let i=0;i<this.directPlugins.length;i++){let r=this.directPlugins[i].props[t];if(null!=r&&(n=e?e(r):r))return n}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let r=o[i].props[t];if(null!=r&&(n=e?e(r):r))return n}}hasFocus(){if(E){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if("false"==t.contentEditable)return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(J)return t.focus(J);let e=U(t);t.focus(null==J?{get preventScroll(){return J={preventScroll:!0},!0}}:void 0),J||(J=!1,K(e,0))}(this.dom),Rt(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return t||document}updateRoot(){this._root=null}posAtCoords(t){return Q(this,t)}coordsAtPos(t,e=1){return it(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let desc=this.docView.descAt(t);return desc?desc.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return ht(this,e||this.state,t)}pasteHTML(html,t){return He(this,"",html,!1,t||new ClipboardEvent("paste"))}pasteText(text,t){return He(this,text,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(!function(view){view.domObserver.stop();for(let t in view.input.eventHandlers)view.dom.removeEventListener(t,view.input.eventHandlers[t]);clearTimeout(view.input.composingTimeout),clearTimeout(view.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],cn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,h=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function(view,t){_e(view,t)||!ve[t.type]||!view.editable&&t.type in ye||ve[t.type](view,t)}(this,t)}dispatch(tr){let t=this._props.dispatchTransaction;t?t.call(this,tr):this.updateState(this.state.apply(tr))}domSelectionRange(){let t=this.domSelection();return N&&11===this.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function(view,t){if(t.getComposedRanges){let e=t.getComposedRanges(view.root)[0];if(e)return gn(view,e)}let e;function n(t){t.preventDefault(),t.stopImmediatePropagation(),e=t.getTargetRanges()[0]}return view.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),view.dom.removeEventListener("beforeinput",n,!0),e?gn(view,e):null}(this,t)||t}domSelection(){return this.root.getSelection()}}function On(view){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(view.editable),view.someProp("attributes",(e=>{if("function"==typeof e&&(e=e(view.state)),e)for(let n in e)"class"==n?t.class+=" "+e[n]:"style"==n?t.style=(t.style?t.style+";":"")+e[n]:t[n]||"contenteditable"==n||"nodeName"==n||(t[n]=String(e[n]))})),t.translate||(t.translate="no"),[Je.node(0,view.state.doc.content.size,t)]}function Sn(view){if(view.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),view.cursorWrapper={dom:t,deco:Je.widget(view.state.selection.head,t,{raw:!0,marks:view.markCursor})}}else view.cursorWrapper=null}function Mn(view){return!view.someProp("editable",(t=>!1===t(view.state)))}function Cn(view){let t=Object.create(null);function e(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return view.someProp("nodeViews",e),view.someProp("markViews",e),t}function Tn(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},1040:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return x})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return k})),n.d(e,"f",(function(){return M})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return O}));var r=n(1085),o=n(932),l=n(992),c=n(1048);class d{constructor({editor:t,element:element,view:view,tippyOptions:e={},shouldShow:n}){this.preventHide=!1,this.shouldShow=({view:view,state:t})=>{const{selection:e}=t,{$anchor:n,empty:r}=e,o=1===n.depth,l=n.parent.isTextblock&&!n.parent.type.spec.code&&!n.parent.textContent;return!!(view.hasFocus()&&r&&o&&l&&this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.tippyBlurHandler=t=>{this.blurHandler({event:t})},this.editor=t,this.element=element,this.view=view,n&&(this.shouldShow=n),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=e,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=Object(c.a)(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(view,t){var e,n,r;const{state:l}=view,{doc:c,selection:d}=l,{from:h,to:f}=d;if(t&&t.doc.eq(c)&&t.selection.eq(d))return;this.createTooltip();(null===(e=this.shouldShow)||void 0===e?void 0:e.call(this,{editor:this.editor,view:view,state:l,oldState:t}))?(null===(n=this.tippy)||void 0===n||n.setProps({getReferenceClientRect:(null===(r=this.tippyOptions)||void 0===r?void 0:r.getReferenceClientRect)||(()=>Object(o.w)(view,h,f))}),this.show()):this.hide()}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t,e;(null===(t=this.tippy)||void 0===t?void 0:t.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const h=t=>new l.c({key:"string"==typeof t.pluginKey?new l.d(t.pluginKey):t.pluginKey,view:view=>new d({view:view,...t})});o.b.create({name:"floatingMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[h({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var f=n(3),m=n(1111);const v={name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick((()=>{t.registerPlugin(Object(r.b)({updateDelay:this.updateDelay,editor:t,element:this.$el,pluginKey:this.pluginKey,shouldShow:this.shouldShow,tippyOptions:this.tippyOptions}))}))}}},render(t){return t("div",{style:{visibility:"hidden"}},this.$slots.default)},beforeDestroy(){this.editor.unregisterPlugin(this.pluginKey)}};class y extends o.a{constructor(){super(...arguments),this.contentComponent=null}}const x={name:"EditorContent",props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(t){t&&t.options.element&&this.$nextTick((()=>{const element=this.$el;element&&t.options.element.firstChild&&(element.append(...t.options.element.childNodes),t.contentComponent=this,t.setOptions({element:element}),t.createNodeViews())}))}}},render:t=>t("div"),beforeDestroy(){const{editor:t}=this;if(!t)return;if(t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild)return;const e=document.createElement("div");e.append(...t.options.element.childNodes),t.setOptions({element:e})}},w={props:{as:{type:String,default:"div"}},render(t){return t(this.as,{style:{whiteSpace:"pre-wrap"},attrs:{"data-node-view-content":""}})}},k={props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(t){return t(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},attrs:{"data-node-view-wrapper":""},on:{dragstart:this.onDragStart}},this.$slots.default)}};class _{constructor(component,t){const e="function"==typeof component?component:f.default.extend(component);this.ref=new e(t).$mount()}get element(){return this.ref.$el}updateProps(t={}){var e,n,r;if(!this.ref.$props)return;const o=null!==(r=null===(n=null===(e=this.ref.$props.editor)||void 0===e?void 0:e.contentComponent)||void 0===n?void 0:n.$options._base)&&void 0!==r?r:f.default,l=o.config.silent;o.config.silent=!0,Object.entries(t).forEach((([t,e])=>{this.ref.$props[t]=e})),o.config.silent=l}destroy(){this.ref.$destroy()}}const O={editor:Object(m.objectProp)().required,node:Object(m.objectProp)().required,decorations:Object(m.objectProp)().required,selected:Object(m.booleanProp)().required,extension:Object(m.objectProp)().required,getPos:Object(m.functionProp)().required,updateAttributes:Object(m.functionProp)().required,deleteNode:Object(m.functionProp)().required};class S extends o.e{mount(){var t,e;const n={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(t={})=>this.updateAttributes(t),deleteNode:()=>this.deleteNode()},r=this.onDragStart.bind(this);this.decorationClasses=f.default.observable({value:this.getDecorationClasses()});const o=(null!==(e=null===(t=this.editor.contentComponent)||void 0===t?void 0:t.$options._base)&&void 0!==e?e:f.default).extend(this.component).extend({props:Object.keys(n),provide:()=>({onDragStart:r,decorationClasses:this.decorationClasses})});this.renderer=new _(o,{parent:this.editor.contentComponent,propsData:n})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){if(this.node.isLeaf)return null;return this.dom.querySelector("[data-node-view-content]")||this.dom}update(t,e){const n=t=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(t)};if("function"==typeof this.options.update){const r=this.node,o=this.decorations;return this.node=t,this.decorations=e,this.options.update({oldNode:r,oldDecorations:o,newNode:t,newDecorations:e,updateProps:()=>n({node:t,decorations:e})})}return t.type===this.node.type&&(t===this.node&&this.decorations===e||(this.node=t,this.decorations=e,n({node:t,decorations:e})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map((t=>t.type.attrs.class)).flat().join(" ")}destroy(){this.renderer.destroy()}}function M(component,t){return e=>e.editor.contentComponent?new S(component,e,t):{}}},1041:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return m}));for(var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(i=1;i<=24;i++)base[i+111]="F"+i;for(i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),r[i]=String.fromCharCode(i);for(var code in base)r.hasOwnProperty(code)||(r[code]=base[code]);var c=n(958);const d="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function h(t){let e,n,r,meta,o=t.split(/-(?!$)/),l=o[o.length-1];"Space"==l&&(l=" ");for(let i=0;i<o.length-1;i++){let t=o[i];if(/^(cmd|meta|m)$/i.test(t))meta=!0;else if(/^a(lt)?$/i.test(t))e=!0;else if(/^(c|ctrl|control)$/i.test(t))n=!0;else if(/^s(hift)?$/i.test(t))r=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);d?meta=!0:n=!0}}return e&&(l="Alt-"+l),n&&(l="Ctrl-"+l),meta&&(l="Meta-"+l),r&&(l="Shift-"+l),l}function f(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function m(t){return new c.d({props:{handleKeyDown:v(t)}})}function v(t){let map=function(map){let t=Object.create(null);for(let e in map)t[h(e)]=map[e];return t}(t);return function(view,t){let e,n=function(t){var e=!(o&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||l&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?r:base)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(t),c=map[f(n,t)];if(c&&c(view.state,view.dispatch,view))return!0;if(1==n.length&&" "!=n){if(t.shiftKey){let e=map[f(n,t,!1)];if(e&&e(view.state,view.dispatch,view))return!0}if((t.shiftKey||t.altKey||t.metaKey||n.charCodeAt(0)>127)&&(e=base[t.keyCode])&&e!=n){let n=map[f(e,t)];if(n&&n(view.state,view.dispatch,view))return!0}}return!1}}},1045:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(){return l=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t},l.apply(this,arguments)}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},e=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(source).filter((function(t){return Object.getOwnPropertyDescriptor(source,t).enumerable})))),e.forEach((function(e){o(t,e,source[e])}))}return t}function d(source,t){if(null==source)return{};var e,i,n=function(source,t){if(null==source)return{};var e,i,n={},r=Object.keys(source);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||(n[e]=source[e]);return n}(source,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(source);for(i=0;i<r.length;i++)e=r[i],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(source,e)&&(n[e]=source[e])}return n}function h(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(e),n.d(e,"MultiDrag",(function(){return Ee})),n.d(e,"Sortable",(function(){return Gt})),n.d(e,"Swap",(function(){return ye}));function f(pattern){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(pattern)}var m=f(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),v=f(/Edge/i),y=f(/firefox/i),x=f(/safari/i)&&!f(/chrome/i)&&!f(/android/i),w=f(/iP(ad|od|hone)/i),k=f(/chrome/i)&&f(/android/i),_={capture:!1,passive:!1};function O(t,e,n){t.addEventListener(e,n,!m&&_)}function S(t,e,n){t.removeEventListener(e,n,!m&&_)}function M(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function C(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function T(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&M(t,e):M(t,e))||r&&t===n)return t;if(t===n)break}while(t=C(t))}return null}var E,P=/\s+/g;function D(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(P," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(P," ")}}function j(t,e,n){var style=t&&t.style;if(style){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in style||-1!==e.indexOf("webkit")||(e="-webkit-"+e),style[e]=n+("string"==typeof n?"":"px")}}function A(t,e){var n="";if("string"==typeof t)n=t;else do{var r=j(t,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function I(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function N(){var t=document.scrollingElement;return t||document.documentElement}function $(t,e,n,r,o){if(t.getBoundingClientRect||t===window){var l,c,d,h,f,v,y;if(t!==window&&t!==N()?(c=(l=t.getBoundingClientRect()).top,d=l.left,h=l.bottom,f=l.right,v=l.height,y=l.width):(c=0,d=0,h=window.innerHeight,f=window.innerWidth,v=window.innerHeight,y=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!m))do{if(o&&o.getBoundingClientRect&&("none"!==j(o,"transform")||n&&"static"!==j(o,"position"))){var x=o.getBoundingClientRect();c-=x.top+parseInt(j(o,"border-top-width")),d-=x.left+parseInt(j(o,"border-left-width")),h=c+l.height,f=d+l.width;break}}while(o=o.parentNode);if(r&&t!==window){var w=A(o||t),k=w&&w.a,_=w&&w.d;w&&(h=(c/=_)+(v/=_),f=(d/=k)+(y/=k))}return{top:c,left:d,bottom:h,right:f,width:y,height:v}}}function R(t,e,n){for(var r=F(t,!0),o=$(t)[e];r;){var l=$(r)[n];if(!("top"===n||"left"===n?o>=l:o<=l))return r;if(r===N())break;r=F(r,!1)}return!1}function B(t,e,n){for(var r=0,i=0,o=t.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Gt.ghost&&o[i]!==Gt.dragged&&T(o[i],n.draggable,t,!1)){if(r===e)return o[i];r++}i++}return null}function L(t,e){for(var n=t.lastElementChild;n&&(n===Gt.ghost||"none"===j(n,"display")||e&&!M(n,e));)n=n.previousElementSibling;return n||null}function z(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Gt.clone||e&&!M(t,e)||n++;return n}function H(t){var e=0,n=0,r=N();if(t)do{var o=A(t),l=o.a,c=o.d;e+=t.scrollLeft*l,n+=t.scrollTop*c}while(t!==r&&(t=t.parentNode));return[e,n]}function F(t,e){if(!t||!t.getBoundingClientRect)return N();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=j(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return N();if(r||e)return n;r=!0}}}while(n=n.parentNode);return N()}function V(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function W(t,e){return function(){if(!E){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),E=setTimeout((function(){E=void 0}),e)}}}function Y(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function U(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function K(t,rect){j(t,"position","absolute"),j(t,"top",rect.top),j(t,"left",rect.left),j(t,"width",rect.width),j(t,"height",rect.height)}function J(t){j(t,"position",""),j(t,"top",""),j(t,"left",""),j(t,"width",""),j(t,"height","")}var G="Sortable"+(new Date).getTime();function X(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==j(t,"display")&&t!==Gt.ghost){e.push({target:t,rect:$(t)});var n=c({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=A(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}}))},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var i in t)if(t.hasOwnProperty(i))for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i);return-1}(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var o=!1,l=0;e.forEach((function(t){var time=0,e=t.target,n=e.fromRect,c=$(e),d=e.prevFromRect,h=e.prevToRect,f=t.rect,m=A(e,!0);m&&(c.top-=m.f,c.left-=m.e),e.toRect=c,e.thisAnimationDuration&&V(d,c)&&!V(n,c)&&(f.top-c.top)/(f.left-c.left)==(n.top-c.top)/(n.left-c.left)&&(time=function(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}(f,d,h,r.options)),V(c,n)||(e.prevFromRect=n,e.prevToRect=c,time||(time=r.options.animation),r.animate(e,f,c,time)),time&&(o=!0,l=Math.max(l,time),clearTimeout(e.animationResetTimer),e.animationResetTimer=setTimeout((function(){e.animationTime=0,e.prevFromRect=null,e.fromRect=null,e.prevToRect=null,e.thisAnimationDuration=null}),time),e.thisAnimationDuration=time)})),clearTimeout(t),o?t=setTimeout((function(){"function"==typeof n&&n()}),l):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,r){if(r){j(t,"transition",""),j(t,"transform","");var o=A(this.el),l=o&&o.a,c=o&&o.d,d=(e.left-n.left)/(l||1),h=(e.top-n.top)/(c||1);t.animatingX=!!d,t.animatingY=!!h,j(t,"transform","translate3d("+d+"px,"+h+"px,0)"),function(t){t.offsetWidth}(t),j(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),j(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){j(t,"transition",""),j(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}}var Z=[],Q={initializeByDefault:!0},tt={mount:function(t){for(var option in Q)Q.hasOwnProperty(option)&&!(option in t)&&(t[option]=Q[option]);Z.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=t+"Global";Z.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][o]&&e[r.pluginName][o](c({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](c({sortable:e},n)))}))},initializePlugins:function(t,e,n,r){for(var option in Z.forEach((function(r){var o=r.pluginName;if(t.options[o]||r.initializeByDefault){var c=new r(t,e,t.options);c.sortable=t,c.options=t.options,t[o]=c,l(n,c.defaults)}})),t.options)if(t.options.hasOwnProperty(option)){var o=this.modifyOption(t,option,t.options[option]);void 0!==o&&(t.options[option]=o)}},getEventProperties:function(t,e){var n={};return Z.forEach((function(r){"function"==typeof r.eventProperties&&l(n,r.eventProperties.call(e[r.pluginName],t))})),n},modifyOption:function(t,e,n){var r;return Z.forEach((function(o){t[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[e]&&(r=o.optionListeners[e].call(t[o.pluginName],n))})),r}};function et(t){var e=t.sortable,n=t.rootEl,r=t.name,o=t.targetEl,l=t.cloneEl,d=t.toEl,h=t.fromEl,f=t.oldIndex,y=t.newIndex,x=t.oldDraggableIndex,w=t.newDraggableIndex,k=t.originalEvent,_=t.putSortable,O=t.extraEventProperties;if(e=e||n&&n[G]){var S,M=e.options,C="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||m||v?(S=document.createEvent("Event")).initEvent(r,!0,!0):S=new CustomEvent(r,{bubbles:!0,cancelable:!0}),S.to=d||n,S.from=h||n,S.item=o||n,S.clone=l,S.oldIndex=f,S.newIndex=y,S.oldDraggableIndex=x,S.newDraggableIndex=w,S.originalEvent=k,S.pullMode=_?_.lastPutMode:void 0;var T=c({},O,tt.getEventProperties(r,e));for(var option in T)S[option]=T[option];n&&n.dispatchEvent(S),M[C]&&M[C].call(e,S)}}var nt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,data=d(n,["evt"]);tt.pluginEvent.bind(Gt)(t,e,c({dragEl:ot,parentEl:st,ghostEl:at,rootEl:lt,nextEl:ct,lastDownEl:ut,cloneEl:pt,cloneHidden:ht,dragStarted:Mt,putSortable:bt,activeSortable:Gt.active,originalEvent:r,oldIndex:ft,oldDraggableIndex:gt,newIndex:mt,newDraggableIndex:vt,hideGhostForTarget:Yt,unhideGhostForTarget:Ut,cloneNowHidden:function(){ht=!0},cloneNowShown:function(){ht=!1},dispatchSortableEvent:function(t){it({sortable:e,name:t,originalEvent:r})}},data))};function it(t){et(c({putSortable:bt,cloneEl:pt,targetEl:ot,rootEl:lt,oldIndex:ft,oldDraggableIndex:gt,newIndex:mt,newDraggableIndex:vt},t))}var ot,st,at,lt,ct,ut,pt,ht,ft,mt,gt,vt,yt,bt,xt,wt,kt,_t,Ot,St,Mt,Ct,Tt,Et,Pt,Dt=!1,jt=!1,At=[],It=!1,Nt=!1,$t=[],Rt=!1,Bt=[],Lt="undefined"!=typeof document,zt=w,Ht=v||m?"cssFloat":"float",Ft=Lt&&!k&&!w&&"draggable"in document.createElement("div"),Vt=function(){if(Lt){if(m)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Wt=function(t,e){var n=j(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=B(t,0,e),l=B(t,1,e),c=o&&j(o),d=l&&j(l),h=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+$(o).width,f=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+$(l).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&c.float&&"none"!==c.float){var m="left"===c.float?"left":"right";return!l||"both"!==d.clear&&d.clear!==m?"horizontal":"vertical"}return o&&("block"===c.display||"flex"===c.display||"table"===c.display||"grid"===c.display||h>=r&&"none"===n[Ht]||l&&"none"===n[Ht]&&h+f>r)?"vertical":"horizontal"},qt=function(t){function e(t,n){return function(r,o,l,c){var d=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==t&&(n||d))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(r,o,l,c),n)(r,o,l,c);var h=(n?r:o).options.group.name;return!0===t||"string"==typeof t&&t===h||t.join&&t.indexOf(h)>-1}}var n={},o=t.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},Yt=function(){!Vt&&at&&j(at,"display","none")},Ut=function(){!Vt&&at&&j(at,"display","")};Lt&&document.addEventListener("click",(function(t){if(jt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),jt=!1,!1}),!0);var Kt=function(t){if(ot){t=t.touches?t.touches[0]:t;var e=(r=t.clientX,o=t.clientY,At.some((function(t){if(!L(t)){var rect=$(t),e=t[G].options.emptyInsertThreshold,n=r>=rect.left-e&&r<=rect.right+e,c=o>=rect.top-e&&o<=rect.bottom+e;return e&&n&&c?l=t:void 0}})),l);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[G]._onDragOver(n)}}var r,o,l},Jt=function(t){ot&&ot.parentNode[G]._isOutsideThisEl(t.target)};function Gt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=l({},e),t[G]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Gt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in tt.initializePlugins(this,t,n),n)!(r in e)&&(e[r]=n[r]);for(var o in qt(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Ft,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?O(t,"pointerdown",this._onTapStart):(O(t,"mousedown",this._onTapStart),O(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(O(t,"dragover",this),O(t,"dragenter",this)),At.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),l(this,X())}function Xt(t,e,n,r,o,l,c,d){var h,f,y=t[G],x=y.options.onMove;return!window.CustomEvent||m||v?(h=document.createEvent("Event")).initEvent("move",!0,!0):h=new CustomEvent("move",{bubbles:!0,cancelable:!0}),h.to=e,h.from=t,h.dragged=n,h.draggedRect=r,h.related=o||e,h.relatedRect=l||$(e),h.willInsertAfter=d,h.originalEvent=c,t.dispatchEvent(h),x&&(f=x.call(y,h,c)),f}function Zt(t){t.draggable=!1}function Qt(){Rt=!1}function te(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function ee(t){return setTimeout(t,0)}function ne(t){return clearTimeout(t)}Gt.prototype={constructor:Gt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Ct=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,ot):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,o=r.preventOnFilter,l=t.type,c=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,d=(c||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,filter=r.filter;if(function(t){Bt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var r=e[n];r.checked&&Bt.push(r)}}(n),!ot&&!(/mousedown|pointerdown/.test(l)&&0!==t.button||r.disabled||h.isContentEditable||(d=T(d,r.draggable,n,!1))&&d.animated||ut===d)){if(ft=z(d),gt=z(d,r.draggable),"function"==typeof filter){if(filter.call(this,t,d,this))return it({sortable:e,rootEl:h,name:"filter",targetEl:d,toEl:n,fromEl:n}),nt("filter",e,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(filter&&(filter=filter.split(",").some((function(r){if(r=T(h,r.trim(),n,!1))return it({sortable:e,rootEl:r,name:"filter",targetEl:d,fromEl:n,toEl:n}),nt("filter",e,{evt:t}),!0}))))return void(o&&t.cancelable&&t.preventDefault());r.handle&&!T(h,r.handle,n,!1)||this._prepareDragStart(t,c,d)}}},_prepareDragStart:function(t,e,n){var r,o=this,l=o.el,c=o.options,d=l.ownerDocument;if(n&&!ot&&n.parentNode===l){var h=$(n);if(lt=l,st=(ot=n).parentNode,ct=ot.nextSibling,ut=n,yt=c.group,Gt.dragged=ot,xt={target:ot,clientX:(e||t).clientX,clientY:(e||t).clientY},Ot=xt.clientX-h.left,St=xt.clientY-h.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,ot.style["will-change"]="all",r=function(){nt("delayEnded",o,{evt:t}),Gt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!y&&o.nativeDraggable&&(ot.draggable=!0),o._triggerDragStart(t,e),it({sortable:o,name:"choose",originalEvent:t}),D(ot,c.chosenClass,!0))},c.ignore.split(",").forEach((function(t){I(ot,t.trim(),Zt)})),O(d,"dragover",Kt),O(d,"mousemove",Kt),O(d,"touchmove",Kt),O(d,"mouseup",o._onDrop),O(d,"touchend",o._onDrop),O(d,"touchcancel",o._onDrop),y&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ot.draggable=!0),nt("delayStart",this,{evt:t}),!c.delay||c.delayOnTouchOnly&&!e||this.nativeDraggable&&(v||m))r();else{if(Gt.eventCanceled)return void this._onDrop();O(d,"mouseup",o._disableDelayedDrag),O(d,"touchend",o._disableDelayedDrag),O(d,"touchcancel",o._disableDelayedDrag),O(d,"mousemove",o._delayedDragTouchMoveHandler),O(d,"touchmove",o._delayedDragTouchMoveHandler),c.supportPointer&&O(d,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,c.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ot&&Zt(ot),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._disableDelayedDrag),S(t,"touchend",this._disableDelayedDrag),S(t,"touchcancel",this._disableDelayedDrag),S(t,"mousemove",this._delayedDragTouchMoveHandler),S(t,"touchmove",this._delayedDragTouchMoveHandler),S(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?O(document,"pointermove",this._onTouchMove):O(document,e?"touchmove":"mousemove",this._onTouchMove):(O(ot,"dragend",this),O(lt,"dragstart",this._onDragStart));try{document.selection?ee((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(Dt=!1,lt&&ot){nt("dragStarted",this,{evt:e}),this.nativeDraggable&&O(document,"dragover",Jt);var n=this.options;!t&&D(ot,n.dragClass,!1),D(ot,n.ghostClass,!0),Gt.active=this,t&&this._appendGhost(),it({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(wt){this._lastX=wt.clientX,this._lastY=wt.clientY,Yt();for(var t=document.elementFromPoint(wt.clientX,wt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(wt.clientX,wt.clientY))!==e;)e=t;if(ot.parentNode[G]._isOutsideThisEl(t),e)do{if(e[G]){if(e[G]._onDragOver({clientX:wt.clientX,clientY:wt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Ut()}},_onTouchMove:function(t){if(xt){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,l=at&&A(at,!0),c=at&&l&&l.a,d=at&&l&&l.d,h=zt&&Pt&&H(Pt),f=(o.clientX-xt.clientX+r.x)/(c||1)+(h?h[0]-$t[0]:0)/(c||1),m=(o.clientY-xt.clientY+r.y)/(d||1)+(h?h[1]-$t[1]:0)/(d||1);if(!Gt.active&&!Dt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(at){l?(l.e+=f-(kt||0),l.f+=m-(_t||0)):l={a:1,b:0,c:0,d:1,e:f,f:m};var v="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");j(at,"webkitTransform",v),j(at,"mozTransform",v),j(at,"msTransform",v),j(at,"transform",v),kt=f,_t=m,wt=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!at){var t=this.options.fallbackOnBody?document.body:lt,rect=$(ot,!0,zt,!0,t),e=this.options;if(zt){for(Pt=t;"static"===j(Pt,"position")&&"none"===j(Pt,"transform")&&Pt!==document;)Pt=Pt.parentNode;Pt!==document.body&&Pt!==document.documentElement?(Pt===document&&(Pt=N()),rect.top+=Pt.scrollTop,rect.left+=Pt.scrollLeft):Pt=N(),$t=H(Pt)}D(at=ot.cloneNode(!0),e.ghostClass,!1),D(at,e.fallbackClass,!0),D(at,e.dragClass,!0),j(at,"transition",""),j(at,"transform",""),j(at,"box-sizing","border-box"),j(at,"margin",0),j(at,"top",rect.top),j(at,"left",rect.left),j(at,"width",rect.width),j(at,"height",rect.height),j(at,"opacity","0.8"),j(at,"position",zt?"absolute":"fixed"),j(at,"zIndex","100000"),j(at,"pointerEvents","none"),Gt.ghost=at,t.appendChild(at),j(at,"transform-origin",Ot/parseInt(at.style.width)*100+"% "+St/parseInt(at.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,o=n.options;nt("dragStart",this,{evt:t}),Gt.eventCanceled?this._onDrop():(nt("setupClone",this),Gt.eventCanceled||((pt=U(ot)).draggable=!1,pt.style["will-change"]="",this._hideClone(),D(pt,this.options.chosenClass,!1),Gt.clone=pt),n.cloneId=ee((function(){nt("clone",n),Gt.eventCanceled||(n.options.removeCloneOnHide||lt.insertBefore(pt,ot),n._hideClone(),it({sortable:n,name:"clone"}))})),!e&&D(ot,o.dragClass,!0),e?(jt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(S(document,"mouseup",n._onDrop),S(document,"touchend",n._onDrop),S(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,ot)),O(document,"drop",n),j(ot,"transform","translateZ(0)")),Dt=!0,n._dragStartId=ee(n._dragStarted.bind(n,e,t)),O(document,"selectstart",n),Mt=!0,x&&j(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,r,o,l=this.el,d=t.target,h=this.options,f=h.group,m=Gt.active,v=yt===f,y=h.sort,x=bt||m,w=this,k=!1;if(!Rt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),d=T(d,h.draggable,l,!0),V("dragOver"),Gt.eventCanceled)return k;if(ot.contains(t.target)||d.animated&&d.animatingX&&d.animatingY||w._ignoreWhileAnimating===d)return U(!1);if(jt=!1,m&&!h.disabled&&(v?y||(r=!lt.contains(ot)):bt===this||(this.lastPutMode=yt.checkPull(this,m,ot,t))&&f.checkPut(this,m,ot,t))){if(o="vertical"===this._getDirection(t,d),e=$(ot),V("dragOverValid"),Gt.eventCanceled)return k;if(r)return st=lt,W(),this._hideClone(),V("revert"),Gt.eventCanceled||(ct?lt.insertBefore(ot,ct):lt.appendChild(ot)),U(!0);var _=L(l,h.draggable);if(!_||function(t,e,n){var rect=$(L(n.el,n.options.draggable)),r=10;return e?t.clientX>rect.right+r||t.clientX<=rect.right&&t.clientY>rect.bottom&&t.clientX>=rect.left:t.clientX>rect.right&&t.clientY>rect.top||t.clientX<=rect.right&&t.clientY>rect.bottom+r}(t,o,this)&&!_.animated){if(_===ot)return U(!1);if(_&&l===t.target&&(d=_),d&&(n=$(d)),!1!==Xt(lt,l,ot,e,d,n,t,!!d))return W(),l.appendChild(ot),st=l,K(),U(!0)}else if(d.parentNode===l){n=$(d);var O,S,M,C=ot.parentNode!==l,E=!function(t,e,n){var r=n?t.left:t.top,o=n?t.right:t.bottom,l=n?t.width:t.height,c=n?e.left:e.top,d=n?e.right:e.bottom,h=n?e.width:e.height;return r===c||o===d||r+l/2===c+h/2}(ot.animated&&ot.toRect||e,d.animated&&d.toRect||n,o),P=o?"top":"left",A=R(d,"top","top")||R(ot,"top","top"),I=A?A.scrollTop:void 0;if(Ct!==d&&(S=n[P],It=!1,Nt=!E&&h.invertSwap||C),O=function(t,e,n,r,o,l,c,d){var h=r?t.clientY:t.clientX,f=r?n.height:n.width,m=r?n.top:n.left,v=r?n.bottom:n.right,y=!1;if(!c)if(d&&Et<f*o){if(!It&&(1===Tt?h>m+f*l/2:h<v-f*l/2)&&(It=!0),It)y=!0;else if(1===Tt?h<m+Et:h>v-Et)return-Tt}else if(h>m+f*(1-o)/2&&h<v-f*(1-o)/2)return function(t){return z(ot)<z(t)?1:-1}(e);if((y=y||c)&&(h<m+f*l/2||h>v-f*l/2))return h>m+f/2?1:-1;return 0}(t,d,n,o,E?1:h.swapThreshold,null==h.invertedSwapThreshold?h.swapThreshold:h.invertedSwapThreshold,Nt,Ct===d),0!==O){var N=z(ot);do{N-=O,M=st.children[N]}while(M&&("none"===j(M,"display")||M===at))}if(0===O||M===d)return U(!1);Ct=d,Tt=O;var B=d.nextElementSibling,H=!1,F=Xt(lt,l,ot,e,d,n,t,H=1===O);if(!1!==F)return 1!==F&&-1!==F||(H=1===F),Rt=!0,setTimeout(Qt,30),W(),H&&!B?l.appendChild(ot):d.parentNode.insertBefore(ot,H?B:d),A&&Y(A,0,I-A.scrollTop),st=ot.parentNode,void 0===S||Nt||(Et=Math.abs(S-$(d)[P])),K(),U(!0)}if(l.contains(ot))return U(!1)}return!1}function V(h,f){nt(h,w,c({evt:t,isOwner:v,axis:o?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:y,fromSortable:x,target:d,completed:U,onMove:function(n,r){return Xt(lt,l,ot,e,n,$(n),t,r)},changed:K},f))}function W(){V("dragOverAnimationCapture"),w.captureAnimationState(),w!==x&&x.captureAnimationState()}function U(e){return V("dragOverCompleted",{insertion:e}),e&&(v?m._hideClone():m._showClone(w),w!==x&&(D(ot,bt?bt.options.ghostClass:m.options.ghostClass,!1),D(ot,h.ghostClass,!0)),bt!==w&&w!==Gt.active?bt=w:w===Gt.active&&bt&&(bt=null),x===w&&(w._ignoreWhileAnimating=d),w.animateAll((function(){V("dragOverAnimationComplete"),w._ignoreWhileAnimating=null})),w!==x&&(x.animateAll(),x._ignoreWhileAnimating=null)),(d===ot&&!ot.animated||d===l&&!d.animated)&&(Ct=null),h.dragoverBubble||t.rootEl||d===document||(ot.parentNode[G]._isOutsideThisEl(t.target),!e&&Kt(t)),!h.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),k=!0}function K(){mt=z(ot),vt=z(ot,h.draggable),it({sortable:w,name:"change",toEl:l,newIndex:mt,newDraggableIndex:vt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",Kt),S(document,"mousemove",Kt),S(document,"touchmove",Kt)},_offUpEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._onDrop),S(t,"touchend",this._onDrop),S(t,"pointerup",this._onDrop),S(t,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;mt=z(ot),vt=z(ot,n.draggable),nt("drop",this,{evt:t}),st=ot&&ot.parentNode,mt=z(ot),vt=z(ot,n.draggable),Gt.eventCanceled||(Dt=!1,Nt=!1,It=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ne(this.cloneId),ne(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),x&&j(document.body,"user-select",""),j(ot,"transform",""),t&&(Mt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),at&&at.parentNode&&at.parentNode.removeChild(at),(lt===st||bt&&"clone"!==bt.lastPutMode)&&pt&&pt.parentNode&&pt.parentNode.removeChild(pt),ot&&(this.nativeDraggable&&S(ot,"dragend",this),Zt(ot),ot.style["will-change"]="",Mt&&!Dt&&D(ot,bt?bt.options.ghostClass:this.options.ghostClass,!1),D(ot,this.options.chosenClass,!1),it({sortable:this,name:"unchoose",toEl:st,newIndex:null,newDraggableIndex:null,originalEvent:t}),lt!==st?(mt>=0&&(it({rootEl:st,name:"add",toEl:st,fromEl:lt,originalEvent:t}),it({sortable:this,name:"remove",toEl:st,originalEvent:t}),it({rootEl:st,name:"sort",toEl:st,fromEl:lt,originalEvent:t}),it({sortable:this,name:"sort",toEl:st,originalEvent:t})),bt&&bt.save()):mt!==ft&&mt>=0&&(it({sortable:this,name:"update",toEl:st,originalEvent:t}),it({sortable:this,name:"sort",toEl:st,originalEvent:t})),Gt.active&&(null!=mt&&-1!==mt||(mt=ft,vt=gt),it({sortable:this,name:"end",toEl:st,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){nt("nulling",this),lt=ot=st=at=ct=pt=ut=ht=xt=wt=Mt=mt=vt=ft=gt=Ct=Tt=bt=yt=Gt.dragged=Gt.ghost=Gt.clone=Gt.active=null,Bt.forEach((function(t){t.checked=!0})),Bt.length=kt=_t=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ot&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)T(t=n[i],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||te(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,i){var r=n.children[i];T(r,this.options.draggable,n,!1)&&(e[t]=r)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return T(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=tt.modifyOption(this,t,e);n[t]=void 0!==r?r:e,"group"===t&&qt(n)},destroy:function(){nt("destroy",this);var t=this.el;t[G]=null,S(t,"mousedown",this._onTapStart),S(t,"touchstart",this._onTapStart),S(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(t,"dragover",this),S(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),At.splice(At.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ht){if(nt("hideClone",this),Gt.eventCanceled)return;j(pt,"display","none"),this.options.removeCloneOnHide&&pt.parentNode&&pt.parentNode.removeChild(pt),ht=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(ht){if(nt("showClone",this),Gt.eventCanceled)return;lt.contains(ot)&&!this.options.group.revertClone?lt.insertBefore(pt,ot):ct?lt.insertBefore(pt,ct):lt.appendChild(pt),this.options.group.revertClone&&this.animate(ot,pt),j(pt,"display",""),ht=!1}}else this._hideClone()}},Lt&&O(document,"touchmove",(function(t){(Gt.active||Dt)&&t.cancelable&&t.preventDefault()})),Gt.utils={on:O,off:S,css:j,find:I,is:function(t,e){return!!T(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:W,closest:T,toggleClass:D,clone:U,index:z,nextTick:ee,cancelNextTick:ne,detectDirection:Wt,getChild:B},Gt.get=function(element){return element[G]},Gt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Gt.utils=c({},Gt.utils,t.utils)),tt.mount(t)}))},Gt.create=function(t,e){return new Gt(t,e)},Gt.version="1.10.2";var ie,re,oe,se,ae,le,ce=[],de=!1;function ue(){ce.forEach((function(t){clearInterval(t.pid)})),ce=[]}function pe(){clearInterval(le)}var he,fe=W((function(t,e,n,r){if(e.scroll){var o,l=(t.touches?t.touches[0]:t).clientX,c=(t.touches?t.touches[0]:t).clientY,d=e.scrollSensitivity,h=e.scrollSpeed,f=N(),m=!1;re!==n&&(re=n,ue(),ie=e.scroll,o=e.scrollFn,!0===ie&&(ie=F(n,!0)));var v=0,y=ie;do{var x=y,rect=$(x),w=rect.top,k=rect.bottom,_=rect.left,O=rect.right,S=rect.width,M=rect.height,C=void 0,T=void 0,E=x.scrollWidth,P=x.scrollHeight,D=j(x),A=x.scrollLeft,I=x.scrollTop;x===f?(C=S<E&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),T=M<P&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(C=S<E&&("auto"===D.overflowX||"scroll"===D.overflowX),T=M<P&&("auto"===D.overflowY||"scroll"===D.overflowY));var R=C&&(Math.abs(O-l)<=d&&A+S<E)-(Math.abs(_-l)<=d&&!!A),B=T&&(Math.abs(k-c)<=d&&I+M<P)-(Math.abs(w-c)<=d&&!!I);if(!ce[v])for(var i=0;i<=v;i++)ce[i]||(ce[i]={});ce[v].vx==R&&ce[v].vy==B&&ce[v].el===x||(ce[v].el=x,ce[v].vx=R,ce[v].vy=B,clearInterval(ce[v].pid),0==R&&0==B||(m=!0,ce[v].pid=setInterval(function(){r&&0===this.layer&&Gt.active._onTouchMove(ae);var e=ce[this.layer].vy?ce[this.layer].vy*h:0,n=ce[this.layer].vx?ce[this.layer].vx*h:0;"function"==typeof o&&"continue"!==o.call(Gt.dragged.parentNode[G],n,e,t,ae,ce[this.layer].el)||Y(ce[this.layer].el,n,e)}.bind({layer:v}),24))),v++}while(e.bubbleScroll&&y!==f&&(y=F(y,!1)));de=m}}),30),me=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,o=t.activeSortable,l=t.dispatchSortableEvent,c=t.hideGhostForTarget,d=t.unhideGhostForTarget;if(e){var h=n||o;c();var f=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,m=document.elementFromPoint(f.clientX,f.clientY);d(),h&&!h.el.contains(m)&&(l("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ge(){}function ve(){}function ye(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;he=e},dragOverValid:function(t){var e=t.completed,n=t.target,r=t.onMove,o=t.activeSortable,l=t.changed,c=t.cancel;if(o.options.swap){var d=this.sortable.el,h=this.options;if(n&&n!==d){var f=he;!1!==r(n)?(D(n,h.swapClass,!0),he=n):he=null,f&&f!==he&&D(f,h.swapClass,!1)}l(),e(!0),c()}},drop:function(t){var e=t.activeSortable,n=t.putSortable,r=t.dragEl,o=n||this.sortable,l=this.options;he&&D(he,l.swapClass,!1),he&&(l.swap||n&&n.options.swap)&&r!==he&&(o.captureAnimationState(),o!==e&&e.captureAnimationState(),function(t,e){var n,r,o=t.parentNode,l=e.parentNode;if(!o||!l||o.isEqualNode(e)||l.isEqualNode(t))return;n=z(t),r=z(e),o.isEqualNode(l)&&n<r&&r++;o.insertBefore(e,o.children[n]),l.insertBefore(t,l.children[r])}(r,he),o.animateAll(),o!==e&&e.animateAll())},nulling:function(){he=null}},l(t,{pluginName:"swap",eventProperties:function(){return{swapItem:he}}})}ge.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=B(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:me},l(ge,{pluginName:"revertOnSpill"}),ve.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:me},l(ve,{pluginName:"removeOnSpill"});var be,xe,we,ke,_e,Oe=[],Se=[],Me=!1,Ce=!1,Te=!1;function Ee(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?O(document,"pointerup",this._deselectMultiDrag):(O(document,"mouseup",this._deselectMultiDrag),O(document,"touchend",this._deselectMultiDrag)),O(document,"keydown",this._checkKeyDown),O(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var data="";Oe.length&&xe===t?Oe.forEach((function(t,i){data+=(i?", ":"")+t.textContent})):data=n.textContent,e.setData("Text",data)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;we=e},delayEnded:function(){this.isMultiDrag=~Oe.indexOf(we)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var i=0;i<Oe.length;i++)Se.push(U(Oe[i])),Se[i].sortableIndex=Oe[i].sortableIndex,Se[i].draggable=!1,Se[i].style["will-change"]="",D(Se[i],this.options.selectedClass,!1),Oe[i]===we&&D(Se[i],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.sortable,n=t.rootEl,r=t.dispatchSortableEvent,o=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Oe.length&&xe===e&&(Pe(!0,n),r("clone"),o()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,r=t.cancel;this.isMultiDrag&&(Pe(!1,n),Se.forEach((function(t){j(t,"display","")})),e(),_e=!1,r())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),r=t.cancel;this.isMultiDrag&&(Se.forEach((function(t){j(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),_e=!0,r())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&xe&&xe.multiDrag._deselectMultiDrag(),Oe.forEach((function(t){t.sortableIndex=z(t)})),Oe=Oe.sort((function(a,b){return a.sortableIndex-b.sortableIndex})),Te=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Oe.forEach((function(t){t!==we&&j(t,"position","absolute")}));var r=$(we,!1,!0,!0);Oe.forEach((function(t){t!==we&&K(t,r)})),Ce=!0,Me=!0}n.animateAll((function(){Ce=!1,Me=!1,e.options.animation&&Oe.forEach((function(t){J(t)})),e.options.sort&&De()}))}},dragOver:function(t){var e=t.target,n=t.completed,r=t.cancel;Ce&&~Oe.indexOf(e)&&(n(!1),r())},revert:function(t){var e=t.fromSortable,n=t.rootEl,r=t.sortable,o=t.dragRect;Oe.length>1&&(Oe.forEach((function(t){r.addAnimationState({target:t,rect:Ce?$(t):o}),J(t),t.fromRect=o,e.removeAnimationState(t)})),Ce=!1,function(t,e){Oe.forEach((function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,r=t.insertion,o=t.activeSortable,l=t.parentEl,c=t.putSortable,d=this.options;if(r){if(n&&o._hideClone(),Me=!1,d.animation&&Oe.length>1&&(Ce||!n&&!o.options.sort&&!c)){var h=$(we,!1,!0,!0);Oe.forEach((function(t){t!==we&&(K(t,h),l.appendChild(t))})),Ce=!0}if(!n)if(Ce||De(),Oe.length>1){var f=_e;o._showClone(e),o.options.animation&&!_e&&f&&Se.forEach((function(t){o.addAnimationState({target:t,rect:ke}),t.fromRect=ke,t.thisAnimationDuration=null}))}else o._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,r=t.activeSortable;if(Oe.forEach((function(t){t.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){ke=l({},e);var o=A(we,!0);ke.top-=o.f,ke.left-=o.e}},dragOverAnimationComplete:function(){Ce&&(Ce=!1,De())},drop:function(t){var e=t.originalEvent,n=t.rootEl,r=t.parentEl,o=t.sortable,l=t.dispatchSortableEvent,c=t.oldIndex,d=t.putSortable,h=d||this.sortable;if(e){var f=this.options,m=r.children;if(!Te)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),D(we,f.selectedClass,!~Oe.indexOf(we)),~Oe.indexOf(we))Oe.splice(Oe.indexOf(we),1),be=null,et({sortable:o,rootEl:n,name:"deselect",targetEl:we,originalEvt:e});else{if(Oe.push(we),et({sortable:o,rootEl:n,name:"select",targetEl:we,originalEvt:e}),e.shiftKey&&be&&o.el.contains(be)){var v,i,y=z(be),x=z(we);if(~y&&~x&&y!==x)for(x>y?(i=y,v=x):(i=x,v=y+1);i<v;i++)~Oe.indexOf(m[i])||(D(m[i],f.selectedClass,!0),Oe.push(m[i]),et({sortable:o,rootEl:n,name:"select",targetEl:m[i],originalEvt:e}))}else be=we;xe=h}if(Te&&this.isMultiDrag){if((r[G].options.sort||r!==n)&&Oe.length>1){var w=$(we),k=z(we,":not(."+this.options.selectedClass+")");if(!Me&&f.animation&&(we.thisAnimationDuration=null),h.captureAnimationState(),!Me&&(f.animation&&(we.fromRect=w,Oe.forEach((function(t){if(t.thisAnimationDuration=null,t!==we){var rect=Ce?$(t):w;t.fromRect=rect,h.addAnimationState({target:t,rect:rect})}}))),De(),Oe.forEach((function(t){m[k]?r.insertBefore(t,m[k]):r.appendChild(t),k++})),c===z(we))){var _=!1;Oe.forEach((function(t){t.sortableIndex===z(t)||(_=!0)})),_&&l("update")}Oe.forEach((function(t){J(t)})),h.animateAll()}xe=h}(n===r||d&&"clone"!==d.lastPutMode)&&Se.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=Te=!1,Se.length=0},destroyGlobal:function(){this._deselectMultiDrag(),S(document,"pointerup",this._deselectMultiDrag),S(document,"mouseup",this._deselectMultiDrag),S(document,"touchend",this._deselectMultiDrag),S(document,"keydown",this._checkKeyDown),S(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==Te&&Te||xe!==this.sortable||t&&T(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;Oe.length;){var e=Oe[0];D(e,this.options.selectedClass,!1),Oe.shift(),et({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},l(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[G];e&&e.options.multiDrag&&!~Oe.indexOf(t)&&(xe&&xe!==e&&(xe.multiDrag._deselectMultiDrag(),xe=e),D(t,e.options.selectedClass,!0),Oe.push(t))},deselect:function(t){var e=t.parentNode[G],n=Oe.indexOf(t);e&&e.options.multiDrag&&~n&&(D(t,e.options.selectedClass,!1),Oe.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return Oe.forEach((function(r){var o;e.push({multiDragElement:r,index:r.sortableIndex}),o=Ce&&r!==we?-1:Ce?z(r,":not(."+t.options.selectedClass+")"):z(r),n.push({multiDragElement:r,index:o})})),{items:h(Oe),clones:[].concat(Se),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function Pe(t,e){Se.forEach((function(n,i){var r=e.children[n.sortableIndex+(t?Number(i):0)];r?e.insertBefore(n,r):e.appendChild(n)}))}function De(){Oe.forEach((function(t){t!==we&&t.parentNode&&t.parentNode.removeChild(t)}))}Gt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):this.options.supportPointer?O(document,"pointermove",this._handleFallbackAutoScroll):e.touches?O(document,"touchmove",this._handleFallbackAutoScroll):O(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),pe(),ue(),clearTimeout(E),E=void 0},nulling:function(){ae=re=ie=de=le=oe=se=null,ce.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,o);if(ae=t,e||v||m||x){fe(t,this.options,l,e);var c=F(l,!0);!de||le&&r===oe&&o===se||(le&&pe(),le=setInterval((function(){var l=F(document.elementFromPoint(r,o),!0);l!==c&&(c=l,ue()),fe(t,n.options,l,e)}),10),oe=r,se=o)}else{if(!this.options.bubbleScroll||F(l,!0)===N())return void ue();fe(t,this.options,F(l,!1),!1)}}},l(t,{pluginName:"scroll",initializeByDefault:!0})}),Gt.mount(ve,ge),e.default=Gt},1048:function(t,e,n){"use strict";function r(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function o(t){return t instanceof r(t).Element||t instanceof Element}function l(t){return t instanceof r(t).HTMLElement||t instanceof HTMLElement}function c(t){return"undefined"!=typeof ShadowRoot&&(t instanceof r(t).ShadowRoot||t instanceof ShadowRoot)}var d=Math.max,h=Math.min,f=Math.round;function m(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function v(){return!/^((?!chrome|android).)*safari/i.test(m())}function y(element,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var n=element.getBoundingClientRect(),c=1,d=1;t&&l(element)&&(c=element.offsetWidth>0&&f(n.width)/element.offsetWidth||1,d=element.offsetHeight>0&&f(n.height)/element.offsetHeight||1);var h=(o(element)?r(element):window).visualViewport,m=!v()&&e,y=(n.left+(m&&h?h.offsetLeft:0))/c,x=(n.top+(m&&h?h.offsetTop:0))/d,w=n.width/c,k=n.height/d;return{width:w,height:k,top:x,right:y+w,bottom:x+k,left:y,x:y,y:x}}function x(t){var e=r(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function w(element){return element?(element.nodeName||"").toLowerCase():null}function k(element){return((o(element)?element.ownerDocument:element.document)||window.document).documentElement}function _(element){return y(k(element)).left+x(element).scrollLeft}function O(element){return r(element).getComputedStyle(element)}function S(element){var t=O(element),e=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+r+n)}function M(t,e,n){void 0===n&&(n=!1);var o,element,c=l(e),d=l(e)&&function(element){var rect=element.getBoundingClientRect(),t=f(rect.width)/element.offsetWidth||1,e=f(rect.height)/element.offsetHeight||1;return 1!==t||1!==e}(e),h=k(e),rect=y(t,d,n),m={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(c||!c&&!n)&&(("body"!==w(e)||S(h))&&(m=(o=e)!==r(o)&&l(o)?{scrollLeft:(element=o).scrollLeft,scrollTop:element.scrollTop}:x(o)),l(e)?((v=y(e,!0)).x+=e.clientLeft,v.y+=e.clientTop):h&&(v.x=_(h))),{x:rect.left+m.scrollLeft-v.x,y:rect.top+m.scrollTop-v.y,width:rect.width,height:rect.height}}function C(element){var t=y(element),e=element.offsetWidth,n=element.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:element.offsetLeft,y:element.offsetTop,width:e,height:n}}function T(element){return"html"===w(element)?element:element.assignedSlot||element.parentNode||(c(element)?element.host:null)||k(element)}function E(t){return["html","body","#document"].indexOf(w(t))>=0?t.ownerDocument.body:l(t)&&S(t)?t:E(T(t))}function P(element,t){var e;void 0===t&&(t=[]);var n=E(element),o=n===(null==(e=element.ownerDocument)?void 0:e.body),l=r(n),c=o?[l].concat(l.visualViewport||[],S(n)?n:[]):n,d=t.concat(c);return o?d:d.concat(P(T(c)))}function D(element){return["table","td","th"].indexOf(w(element))>=0}function j(element){return l(element)&&"fixed"!==O(element).position?element.offsetParent:null}function A(element){for(var t=r(element),e=j(element);e&&D(e)&&"static"===O(e).position;)e=j(e);return e&&("html"===w(e)||"body"===w(e)&&"static"===O(e).position)?t:e||function(element){var t=/firefox/i.test(m());if(/Trident/i.test(m())&&l(element)&&"fixed"===O(element).position)return null;var e=T(element);for(c(e)&&(e=e.host);l(e)&&["html","body"].indexOf(w(e))<0;){var n=O(e);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return e;e=e.parentNode}return null}(element)||t}var I="top",N="bottom",$="right",R="left",B="auto",L=[I,N,$,R],z="start",H="end",F="clippingParents",V="viewport",W="popper",Y="reference",U=L.reduce((function(t,e){return t.concat([e+"-"+z,e+"-"+H])}),[]),K=[].concat(L,[B]).reduce((function(t,e){return t.concat([e,e+"-"+z,e+"-"+H])}),[]),J=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function G(t){var map=new Map,e=new Set,n=[];function r(t){e.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!e.has(t)){var n=map.get(t);n&&r(n)}})),n.push(t)}return t.forEach((function(t){map.set(t.name,t)})),t.forEach((function(t){e.has(t.name)||r(t)})),n}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(element){return!(element&&"function"==typeof element.getBoundingClientRect)}))}function Q(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,l=e.defaultOptions,c=void 0===l?X:l;return function(t,e,n){void 0===n&&(n=c);var l,d,h={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,c),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},f=[],m=!1,v={state:h,setOptions:function(n){var l="function"==typeof n?n(h.options):n;y(),h.options=Object.assign({},c,h.options,l),h.scrollParents={reference:o(t)?P(t):t.contextElement?P(t.contextElement):[],popper:P(e)};var d,m,x=function(t){var e=G(t);return J.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((d=[].concat(r,h.options.modifiers),m=d.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(m).map((function(t){return m[t]}))));return h.orderedModifiers=x.filter((function(t){return t.enabled})),h.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var l=o({state:h,name:e,instance:v,options:r}),c=function(){};f.push(l||c)}})),v.update()},forceUpdate:function(){if(!m){var t=h.elements,e=t.reference,n=t.popper;if(Z(e,n)){h.rects={reference:M(e,A(n),"fixed"===h.options.strategy),popper:C(n)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach((function(t){return h.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<h.orderedModifiers.length;r++)if(!0!==h.reset){var o=h.orderedModifiers[r],l=o.fn,c=o.options,d=void 0===c?{}:c,f=o.name;"function"==typeof l&&(h=l({state:h,options:d,name:f,instance:v})||h)}else h.reset=!1,r=-1}}},update:(l=function(){return new Promise((function(t){v.forceUpdate(),t(h)}))},function(){return d||(d=new Promise((function(t){Promise.resolve().then((function(){d=void 0,t(l())}))}))),d}),destroy:function(){y(),m=!0}};if(!Z(t,e))return v;function y(){f.forEach((function(t){return t()})),f=[]}return v.setOptions(n).then((function(t){!m&&n.onFirstUpdate&&n.onFirstUpdate(t)})),v}}var tt={passive:!0};function et(t){return t.split("-")[0]}function nt(t){return t.split("-")[1]}function it(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ot(t){var e,n=t.reference,element=t.element,r=t.placement,o=r?et(r):null,l=r?nt(r):null,c=n.x+n.width/2-element.width/2,d=n.y+n.height/2-element.height/2;switch(o){case I:e={x:c,y:n.y-element.height};break;case N:e={x:c,y:n.y+n.height};break;case $:e={x:n.x+n.width,y:d};break;case R:e={x:n.x-element.width,y:d};break;default:e={x:n.x,y:n.y}}var h=o?it(o):null;if(null!=h){var f="y"===h?"height":"width";switch(l){case z:e[h]=e[h]-(n[f]/2-element[f]/2);break;case H:e[h]=e[h]+(n[f]/2-element[f]/2)}}return e}var st={top:"auto",right:"auto",bottom:"auto",left:"auto"};function at(t){var e,n=t.popper,o=t.popperRect,l=t.placement,c=t.variation,d=t.offsets,h=t.position,m=t.gpuAcceleration,v=t.adaptive,y=t.roundOffsets,x=t.isFixed,w=d.x,_=void 0===w?0:w,S=d.y,M=void 0===S?0:S,C="function"==typeof y?y({x:_,y:M}):{x:_,y:M};_=C.x,M=C.y;var T=d.hasOwnProperty("x"),E=d.hasOwnProperty("y"),P=R,D=I,j=window;if(v){var B=A(n),L="clientHeight",z="clientWidth";if(B===r(n)&&"static"!==O(B=k(n)).position&&"absolute"===h&&(L="scrollHeight",z="scrollWidth"),l===I||(l===R||l===$)&&c===H)D=N,M-=(x&&B===j&&j.visualViewport?j.visualViewport.height:B[L])-o.height,M*=m?1:-1;if(l===R||(l===I||l===N)&&c===H)P=$,_-=(x&&B===j&&j.visualViewport?j.visualViewport.width:B[z])-o.width,_*=m?1:-1}var F,V=Object.assign({position:h},v&&st),W=!0===y?function(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:f(n*o)/o||0,y:f(r*o)/o||0}}({x:_,y:M},r(n)):{x:_,y:M};return _=W.x,M=W.y,m?Object.assign({},V,((F={})[D]=E?"0":"",F[P]=T?"0":"",F.transform=(j.devicePixelRatio||1)<=1?"translate("+_+"px, "+M+"px)":"translate3d("+_+"px, "+M+"px, 0)",F)):Object.assign({},V,((e={})[D]=E?M+"px":"",e[P]=T?_+"px":"",e.transform="",e))}var lt={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var style=e.styles[t]||{},n=e.attributes[t]||{},element=e.elements[t];l(element)&&w(element)&&(Object.assign(element.style,style),Object.keys(n).forEach((function(t){var e=n[t];!1===e?element.removeAttribute(t):element.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var element=e.elements[t],r=e.attributes[t]||{},style=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(style,t){return style[t]="",style}),{});l(element)&&w(element)&&(Object.assign(element.style,style),Object.keys(r).forEach((function(t){element.removeAttribute(t)})))}))}},requires:["computeStyles"]};var ct={left:"right",right:"left",bottom:"top",top:"bottom"};function ut(t){return t.replace(/left|right|bottom|top/g,(function(t){return ct[t]}))}var pt={start:"end",end:"start"};function ht(t){return t.replace(/start|end/g,(function(t){return pt[t]}))}function ft(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&c(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function mt(rect){return Object.assign({},rect,{left:rect.x,top:rect.y,right:rect.x+rect.width,bottom:rect.y+rect.height})}function gt(element,t,e){return t===V?mt(function(element,t){var e=r(element),html=k(element),n=e.visualViewport,o=html.clientWidth,l=html.clientHeight,c=0,d=0;if(n){o=n.width,l=n.height;var h=v();(h||!h&&"fixed"===t)&&(c=n.offsetLeft,d=n.offsetTop)}return{width:o,height:l,x:c+_(element),y:d}}(element,e)):o(t)?function(element,t){var rect=y(element,!1,"fixed"===t);return rect.top=rect.top+element.clientTop,rect.left=rect.left+element.clientLeft,rect.bottom=rect.top+element.clientHeight,rect.right=rect.left+element.clientWidth,rect.width=element.clientWidth,rect.height=element.clientHeight,rect.x=rect.left,rect.y=rect.top,rect}(t,e):mt(function(element){var t,html=k(element),e=x(element),body=null==(t=element.ownerDocument)?void 0:t.body,n=d(html.scrollWidth,html.clientWidth,body?body.scrollWidth:0,body?body.clientWidth:0),r=d(html.scrollHeight,html.clientHeight,body?body.scrollHeight:0,body?body.clientHeight:0),o=-e.scrollLeft+_(element),l=-e.scrollTop;return"rtl"===O(body||html).direction&&(o+=d(html.clientWidth,body?body.clientWidth:0)-n),{width:n,height:r,x:o,y:l}}(k(element)))}function vt(element,t,e,n){var r="clippingParents"===t?function(element){var t=P(T(element)),e=["absolute","fixed"].indexOf(O(element).position)>=0&&l(element)?A(element):element;return o(e)?t.filter((function(t){return o(t)&&ft(t,e)&&"body"!==w(t)})):[]}(element):[].concat(t),c=[].concat(r,[e]),f=c[0],m=c.reduce((function(t,e){var rect=gt(element,e,n);return t.top=d(rect.top,t.top),t.right=h(rect.right,t.right),t.bottom=h(rect.bottom,t.bottom),t.left=d(rect.left,t.left),t}),gt(element,f,n));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function yt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function bt(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function xt(t,e){void 0===e&&(e={});var n=e,r=n.placement,l=void 0===r?t.placement:r,c=n.strategy,d=void 0===c?t.strategy:c,h=n.boundary,f=void 0===h?F:h,m=n.rootBoundary,v=void 0===m?V:m,x=n.elementContext,w=void 0===x?W:x,_=n.altBoundary,O=void 0!==_&&_,S=n.padding,M=void 0===S?0:S,C=yt("number"!=typeof M?M:bt(M,L)),T=w===W?Y:W,E=t.rects.popper,element=t.elements[O?T:w],P=vt(o(element)?element:element.contextElement||k(t.elements.popper),f,v,d),D=y(t.elements.reference),j=ot({reference:D,element:E,strategy:"absolute",placement:l}),A=mt(Object.assign({},E,j)),R=w===W?A:D,B={top:P.top-R.top+C.top,bottom:R.bottom-P.bottom+C.bottom,left:P.left-R.left+C.left,right:R.right-P.right+C.right},z=t.modifiersData.offset;if(w===W&&z){var H=z[l];Object.keys(B).forEach((function(t){var e=[$,N].indexOf(t)>=0?1:-1,n=[I,N].indexOf(t)>=0?"y":"x";B[t]+=H[n]*e}))}return B}function wt(t,e,n){return d(t,h(e,n))}function kt(t,rect,e){return void 0===e&&(e={x:0,y:0}),{top:t.top-rect.height-e.y,right:t.right-rect.width+e.x,bottom:t.bottom-rect.height+e.y,left:t.left-rect.width-e.x}}function _t(t){return[I,$,N,R].some((function(e){return t[e]>=0}))}var Ot=Q({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,l=o.scroll,c=void 0===l||l,d=o.resize,h=void 0===d||d,f=r(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return c&&m.forEach((function(t){t.addEventListener("scroll",n.update,tt)})),h&&f.addEventListener("resize",n.update,tt),function(){c&&m.forEach((function(t){t.removeEventListener("scroll",n.update,tt)})),h&&f.removeEventListener("resize",n.update,tt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=ot({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=void 0===r||r,l=n.adaptive,c=void 0===l||l,d=n.roundOffsets,h=void 0===d||d,f={placement:et(e.placement),variation:nt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,at(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:h})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,at(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},lt,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,l=void 0===o?[0,0]:o,data=K.reduce((function(t,n){return t[n]=function(t,e,n){var r=et(t),o=[R,I].indexOf(r)>=0?-1:1,l="function"==typeof n?n(Object.assign({},e,{placement:t})):n,c=l[0],d=l[1];return c=c||0,d=(d||0)*o,[R,$].indexOf(r)>=0?{x:d,y:c}:{x:c,y:d}}(n,e.rects,l),t}),{}),c=data[e.placement],d=c.x,h=c.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=data}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,l=void 0===o||o,c=n.altAxis,d=void 0===c||c,h=n.fallbackPlacements,f=n.padding,m=n.boundary,v=n.rootBoundary,y=n.altBoundary,x=n.flipVariations,w=void 0===x||x,k=n.allowedAutoPlacements,_=e.options.placement,O=et(_),S=h||(O===_||!w?[ut(_)]:function(t){if(et(t)===B)return[];var e=ut(t);return[ht(t),e,ht(e)]}(_)),M=[_].concat(S).reduce((function(t,n){return t.concat(et(n)===B?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=n.boundary,l=n.rootBoundary,c=n.padding,d=n.flipVariations,h=n.allowedAutoPlacements,f=void 0===h?K:h,m=nt(r),v=m?d?U:U.filter((function(t){return nt(t)===m})):L,y=v.filter((function(t){return f.indexOf(t)>=0}));0===y.length&&(y=v);var x=y.reduce((function(e,n){return e[n]=xt(t,{placement:n,boundary:o,rootBoundary:l,padding:c})[et(n)],e}),{});return Object.keys(x).sort((function(a,b){return x[a]-x[b]}))}(e,{placement:n,boundary:m,rootBoundary:v,padding:f,flipVariations:w,allowedAutoPlacements:k}):n)}),[]),C=e.rects.reference,T=e.rects.popper,E=new Map,P=!0,D=M[0],i=0;i<M.length;i++){var j=M[i],A=et(j),H=nt(j)===z,F=[I,N].indexOf(A)>=0,V=F?"width":"height",W=xt(e,{placement:j,boundary:m,rootBoundary:v,altBoundary:y,padding:f}),Y=F?H?$:R:H?N:I;C[V]>T[V]&&(Y=ut(Y));var J=ut(Y),G=[];if(l&&G.push(W[A]<=0),d&&G.push(W[Y]<=0,W[J]<=0),G.every((function(t){return t}))){D=j,P=!1;break}E.set(j,G)}if(P)for(var X=function(t){var e=M.find((function(e){var n=E.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return D=e,"break"},Z=w?3:1;Z>0;Z--){if("break"===X(Z))break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,l=void 0===o||o,c=n.altAxis,f=void 0!==c&&c,m=n.boundary,v=n.rootBoundary,y=n.altBoundary,x=n.padding,w=n.tether,k=void 0===w||w,_=n.tetherOffset,O=void 0===_?0:_,S=xt(e,{boundary:m,rootBoundary:v,padding:x,altBoundary:y}),M=et(e.placement),T=nt(e.placement),E=!T,P=it(M),D="x"===P?"y":"x",j=e.modifiersData.popperOffsets,B=e.rects.reference,L=e.rects.popper,H="function"==typeof O?O(Object.assign({},e.rects,{placement:e.placement})):O,F="number"==typeof H?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,data={x:0,y:0};if(j){if(l){var W,Y="y"===P?I:R,U="y"===P?N:$,K="y"===P?"height":"width",J=j[P],G=J+S[Y],X=J-S[U],Z=k?-L[K]/2:0,Q=T===z?B[K]:L[K],tt=T===z?-L[K]:-B[K],ot=e.elements.arrow,st=k&&ot?C(ot):{width:0,height:0},at=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},lt=at[Y],ct=at[U],ut=wt(0,B[K],st[K]),pt=E?B[K]/2-Z-ut-lt-F.mainAxis:Q-ut-lt-F.mainAxis,ht=E?-B[K]/2+Z+ut+ct+F.mainAxis:tt+ut+ct+F.mainAxis,ft=e.elements.arrow&&A(e.elements.arrow),mt=ft?"y"===P?ft.clientTop||0:ft.clientLeft||0:0,gt=null!=(W=null==V?void 0:V[P])?W:0,vt=J+ht-gt,yt=wt(k?h(G,J+pt-gt-mt):G,J,k?d(X,vt):X);j[P]=yt,data[P]=yt-J}if(f){var bt,kt="x"===P?I:R,_t="x"===P?N:$,Ot=j[D],St="y"===D?"height":"width",Mt=Ot+S[kt],Ct=Ot-S[_t],Tt=-1!==[I,R].indexOf(M),Et=null!=(bt=null==V?void 0:V[D])?bt:0,Pt=Tt?Mt:Ot-B[St]-L[St]-Et+F.altAxis,Dt=Tt?Ot+B[St]+L[St]-Et-F.altAxis:Ct,jt=k&&Tt?function(t,e,n){var r=wt(t,e,n);return r>n?n:r}(Pt,Ot,Dt):wt(k?Pt:Mt,Ot,k?Dt:Ct);j[D]=jt,data[D]=jt-Ot}e.modifiersData[r]=data}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,o=t.options,l=n.elements.arrow,c=n.modifiersData.popperOffsets,d=et(n.placement),h=it(d),f=[R,$].indexOf(d)>=0?"height":"width";if(l&&c){var m=function(t,e){return yt("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:bt(t,L))}(o.padding,n),v=C(l),y="y"===h?I:R,x="y"===h?N:$,w=n.rects.reference[f]+n.rects.reference[h]-c[h]-n.rects.popper[f],k=c[h]-n.rects.reference[h],_=A(l),O=_?"y"===h?_.clientHeight||0:_.clientWidth||0:0,S=w/2-k/2,M=m[y],T=O-v[f]-m[x],E=O/2-v[f]/2+S,P=wt(M,E,T),D=h;n.modifiersData[r]=((e={})[D]=P,e.centerOffset=P-E,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&ft(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,l=e.modifiersData.preventOverflow,c=xt(e,{elementContext:"reference"}),d=xt(e,{altBoundary:!0}),h=kt(c,r),f=kt(d,o,l),m=_t(h),v=_t(f);e.modifiersData[n]={referenceClippingOffsets:h,popperEscapeOffsets:f,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}}]}),St="tippy-content",Mt="tippy-backdrop",Ct="tippy-arrow",Tt="tippy-svg-arrow",Et={passive:!0,capture:!0},Pt=function(){return document.body};function Dt(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function jt(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function At(t,e){return"function"==typeof t?t.apply(void 0,e):t}function It(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout((function(){t(r)}),e)};var n}function Nt(t){return[].concat(t)}function $t(t,e){-1===t.indexOf(e)&&t.push(e)}function Rt(t){return t.split("-")[0]}function Bt(t){return[].slice.call(t)}function Lt(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function div(){return document.createElement("div")}function zt(t){return["Element","Fragment"].some((function(e){return jt(t,e)}))}function Ht(t){return jt(t,"MouseEvent")}function Ft(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function Vt(t){return zt(t)?[t]:function(t){return jt(t,"NodeList")}(t)?Bt(t):Array.isArray(t)?t:Bt(document.querySelectorAll(t))}function Wt(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function qt(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function Yt(t){var e,element=Nt(t)[0];return null!=element&&null!=(e=element.ownerDocument)&&e.body?element.ownerDocument:document}function Ut(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[r](e,n)}))}function Kt(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Jt={isTouch:!1},Gt=0;function Xt(){Jt.isTouch||(Jt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Zt))}function Zt(){var t=performance.now();t-Gt<20&&(Jt.isTouch=!1,document.removeEventListener("mousemove",Zt)),Gt=t}function Qt(){var t=document.activeElement;if(Ft(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var te=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var ee={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ne=Object.assign({appendTo:Pt,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},ee,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),ie=Object.keys(ne);function re(t){var e=(t.plugins||[]).reduce((function(e,n){var r,o=n.name,l=n.defaultValue;o&&(e[o]=void 0!==t[o]?t[o]:null!=(r=ne[o])?r:l);return e}),{});return Object.assign({},t,e)}function oe(t,e){var n=Object.assign({},e,{content:At(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(re(Object.assign({},ne,{plugins:e}))):ie).reduce((function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},ne.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}var se=function(){return"innerHTML"};function ae(element,html){element[se()]=html}function le(t){var e=div();return!0===t?e.className=Ct:(e.className=Tt,zt(t)?e.appendChild(t):ae(e,t)),e}function ce(content,t){zt(t.content)?(ae(content,""),content.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?ae(content,t.content):content.textContent=t.content)}function de(t){var e=t.firstElementChild,n=Bt(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(St)})),arrow:n.find((function(t){return t.classList.contains(Ct)||t.classList.contains(Tt)})),backdrop:n.find((function(t){return t.classList.contains(Mt)}))}}function ue(t){var e=div(),n=div();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var content=div();function r(n,r){var o=de(e),l=o.box,content=o.content,c=o.arrow;r.theme?l.setAttribute("data-theme",r.theme):l.removeAttribute("data-theme"),"string"==typeof r.animation?l.setAttribute("data-animation",r.animation):l.removeAttribute("data-animation"),r.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?l.setAttribute("role",r.role):l.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||ce(content,t.props),r.arrow?c?n.arrow!==r.arrow&&(l.removeChild(c),l.appendChild(le(r.arrow))):l.appendChild(le(r.arrow)):c&&l.removeChild(c)}return content.className=St,content.setAttribute("data-state","hidden"),ce(content,t.props),e.appendChild(n),n.appendChild(content),r(t.props,t.props),{popper:e,onUpdate:r}}ue.$$tippy=!0;var pe=1,he=[],fe=[];function me(t,e){var n,r,o,l,c,d,h,f,m=oe(t,Object.assign({},ne,re(Lt(e)))),v=!1,y=!1,x=!1,w=!1,k=[],_=It(et,m.interactiveDebounce),O=pe++,S=(f=m.plugins).filter((function(t,e){return f.indexOf(t)===e})),M={id:O,reference:t,popper:div(),popperInstance:null,props:m,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:S,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(e){0;if(M.state.isDestroyed)return;z("onBeforeUpdate",[M,e]),Q();var n=M.props,r=oe(t,Object.assign({},n,Lt(e),{ignoreAttributes:!0}));M.props=r,Z(),n.interactiveDebounce!==r.interactiveDebounce&&(V(),_=It(et,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Nt(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):r.triggerTarget&&t.removeAttribute("aria-expanded");F(),L(),E&&E(n,r);M.popperInstance&&(st(),lt().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})));z("onAfterUpdate",[M,e])},setContent:function(content){M.setProps({content:content})},show:function(){0;var t=M.state.isVisible,e=M.state.isDestroyed,n=!M.state.isEnabled,r=Jt.isTouch&&!M.props.touch,o=Dt(M.props.duration,0,ne.duration);if(t||e||n||r)return;if(N().hasAttribute("disabled"))return;if(z("onShow",[M],!1),!1===M.props.onShow(M))return;M.state.isVisible=!0,I()&&(T.style.visibility="visible");L(),K(),M.state.isMounted||(T.style.transition="none");if(I()){var l=R();Wt([l.box,l.content],0)}d=function(){var t;if(M.state.isVisible&&!w){if(w=!0,T.offsetHeight,T.style.transition=M.props.moveTransition,I()&&M.props.animation){var e=R(),n=e.box,r=e.content;Wt([n,r],o),qt([n,r],"visible")}H(),F(),$t(fe,M),null==(t=M.popperInstance)||t.forceUpdate(),z("onMount",[M]),M.props.animation&&I()&&function(t,e){G(t,e)}(o,(function(){M.state.isShown=!0,z("onShown",[M])}))}},function(){var t,e=M.props.appendTo,n=N();t=M.props.interactive&&e===Pt||"parent"===e?n.parentNode:At(e,[n]);t.contains(T)||t.appendChild(T);M.state.isMounted=!0,st(),!1}()},hide:function(){0;var t=!M.state.isVisible,e=M.state.isDestroyed,n=!M.state.isEnabled,r=Dt(M.props.duration,1,ne.duration);if(t||e||n)return;if(z("onHide",[M],!1),!1===M.props.onHide(M))return;M.state.isVisible=!1,M.state.isShown=!1,w=!1,v=!1,I()&&(T.style.visibility="hidden");if(V(),J(),L(!0),I()){var o=R(),l=o.box,content=o.content;M.props.animation&&(Wt([l,content],r),qt([l,content],"hidden"))}H(),F(),M.props.animation?I()&&function(t,e){G(t,(function(){!M.state.isVisible&&T.parentNode&&T.parentNode.contains(T)&&e()}))}(r,M.unmount):M.unmount()},hideWithInteractivity:function(t){0;$().addEventListener("mousemove",_),$t(he,_),_(t)},enable:function(){M.state.isEnabled=!0},disable:function(){M.hide(),M.state.isEnabled=!1},unmount:function(){0;M.state.isVisible&&M.hide();if(!M.state.isMounted)return;at(),lt().forEach((function(t){t._tippy.unmount()})),T.parentNode&&T.parentNode.removeChild(T);fe=fe.filter((function(i){return i!==M})),M.state.isMounted=!1,z("onHidden",[M])},destroy:function(){0;if(M.state.isDestroyed)return;M.clearDelayTimeouts(),M.unmount(),Q(),delete t._tippy,M.state.isDestroyed=!0,z("onDestroy",[M])}};if(!m.render)return M;var C=m.render(M),T=C.popper,E=C.onUpdate;T.setAttribute("data-tippy-root",""),T.id="tippy-"+M.id,M.popper=T,t._tippy=M,T._tippy=M;var P=S.map((function(t){return t.fn(M)})),D=t.hasAttribute("aria-expanded");return Z(),F(),L(),z("onCreate",[M]),m.showOnCreate&&ct(),T.addEventListener("mouseenter",(function(){M.props.interactive&&M.state.isVisible&&M.clearDelayTimeouts()})),T.addEventListener("mouseleave",(function(){M.props.interactive&&M.props.trigger.indexOf("mouseenter")>=0&&$().addEventListener("mousemove",_)})),M;function j(){var t=M.props.touch;return Array.isArray(t)?t:[t,0]}function A(){return"hold"===j()[0]}function I(){var t;return!(null==(t=M.props.render)||!t.$$tippy)}function N(){return h||t}function $(){var t=N().parentNode;return t?Yt(t):document}function R(){return de(T)}function B(t){return M.state.isMounted&&!M.state.isVisible||Jt.isTouch||l&&"focus"===l.type?0:Dt(M.props.delay,t?0:1,ne.delay)}function L(t){void 0===t&&(t=!1),T.style.pointerEvents=M.props.interactive&&!t?"":"none",T.style.zIndex=""+M.props.zIndex}function z(t,e,n){var r;(void 0===n&&(n=!0),P.forEach((function(n){n[t]&&n[t].apply(n,e)})),n)&&(r=M.props)[t].apply(r,e)}function H(){var e=M.props.aria;if(e.content){var n="aria-"+e.content,r=T.id;Nt(M.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(M.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var o=e&&e.replace(r,"").trim();o?t.setAttribute(n,o):t.removeAttribute(n)}}))}}function F(){!D&&M.props.aria.expanded&&Nt(M.props.triggerTarget||t).forEach((function(t){M.props.interactive?t.setAttribute("aria-expanded",M.state.isVisible&&t===N()?"true":"false"):t.removeAttribute("aria-expanded")}))}function V(){$().removeEventListener("mousemove",_),he=he.filter((function(t){return t!==_}))}function W(e){if(!Jt.isTouch||!x&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!M.props.interactive||!Kt(T,n)){if(Nt(M.props.triggerTarget||t).some((function(t){return Kt(t,n)}))){if(Jt.isTouch)return;if(M.state.isVisible&&M.props.trigger.indexOf("click")>=0)return}else z("onClickOutside",[M,e]);!0===M.props.hideOnClick&&(M.clearDelayTimeouts(),M.hide(),y=!0,setTimeout((function(){y=!1})),M.state.isMounted||J())}}}function Y(){x=!0}function U(){x=!1}function K(){var t=$();t.addEventListener("mousedown",W,!0),t.addEventListener("touchend",W,Et),t.addEventListener("touchstart",U,Et),t.addEventListener("touchmove",Y,Et)}function J(){var t=$();t.removeEventListener("mousedown",W,!0),t.removeEventListener("touchend",W,Et),t.removeEventListener("touchstart",U,Et),t.removeEventListener("touchmove",Y,Et)}function G(t,e){var n=R().box;function r(t){t.target===n&&(Ut(n,"remove",r),e())}if(0===t)return e();Ut(n,"remove",c),Ut(n,"add",r),c=r}function X(e,n,r){void 0===r&&(r=!1),Nt(M.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,r),k.push({node:t,eventType:e,handler:n,options:r})}))}function Z(){var t;A()&&(X("touchstart",tt,{passive:!0}),X("touchend",nt,{passive:!0})),(t=M.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(X(t,tt),t){case"mouseenter":X("mouseleave",nt);break;case"focus":X(te?"focusout":"blur",it);break;case"focusin":X("focusout",it)}}))}function Q(){k.forEach((function(t){var e=t.node,n=t.eventType,r=t.handler,o=t.options;e.removeEventListener(n,r,o)})),k=[]}function tt(t){var e,n=!1;if(M.state.isEnabled&&!ot(t)&&!y){var r="focus"===(null==(e=l)?void 0:e.type);l=t,h=t.currentTarget,F(),!M.state.isVisible&&Ht(t)&&he.forEach((function(e){return e(t)})),"click"===t.type&&(M.props.trigger.indexOf("mouseenter")<0||v)&&!1!==M.props.hideOnClick&&M.state.isVisible?n=!0:ct(t),"click"===t.type&&(v=!n),n&&!r&&ut(t)}}function et(t){var e=t.target,n=N().contains(e)||T.contains(e);if("mousemove"!==t.type||!n){var r=lt().concat(T).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:m}:null})).filter(Boolean);(function(t,e){var n=e.clientX,r=e.clientY;return t.every((function(t){var e=t.popperRect,o=t.popperState,l=t.props.interactiveBorder,c=Rt(o.placement),d=o.modifiersData.offset;if(!d)return!0;var h="bottom"===c?d.top.y:0,f="top"===c?d.bottom.y:0,m="right"===c?d.left.x:0,v="left"===c?d.right.x:0,y=e.top-r+h>l,x=r-e.bottom-f>l,w=e.left-n+m>l,k=n-e.right-v>l;return y||x||w||k}))})(r,t)&&(V(),ut(t))}}function nt(t){ot(t)||M.props.trigger.indexOf("click")>=0&&v||(M.props.interactive?M.hideWithInteractivity(t):ut(t))}function it(t){M.props.trigger.indexOf("focusin")<0&&t.target!==N()||M.props.interactive&&t.relatedTarget&&T.contains(t.relatedTarget)||ut(t)}function ot(t){return!!Jt.isTouch&&A()!==t.type.indexOf("touch")>=0}function st(){at();var e=M.props,n=e.popperOptions,r=e.placement,o=e.offset,l=e.getReferenceClientRect,c=e.moveTransition,h=I()?de(T).arrow:null,f=l?{getBoundingClientRect:l,contextElement:l.contextElement||N()}:t,m={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(I()){var n=R().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}},v=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!c}},m];I()&&h&&v.push({name:"arrow",options:{element:h,padding:3}}),v.push.apply(v,(null==n?void 0:n.modifiers)||[]),M.popperInstance=Ot(f,T,Object.assign({},n,{placement:r,onFirstUpdate:d,modifiers:v}))}function at(){M.popperInstance&&(M.popperInstance.destroy(),M.popperInstance=null)}function lt(){return Bt(T.querySelectorAll("[data-tippy-root]"))}function ct(t){M.clearDelayTimeouts(),t&&z("onTrigger",[M,t]),K();var e=B(!0),r=j(),o=r[0],l=r[1];Jt.isTouch&&"hold"===o&&l&&(e=l),e?n=setTimeout((function(){M.show()}),e):M.show()}function ut(t){if(M.clearDelayTimeouts(),z("onUntrigger",[M,t]),M.state.isVisible){if(!(M.props.trigger.indexOf("mouseenter")>=0&&M.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&v)){var e=B(!1);e?r=setTimeout((function(){M.state.isVisible&&M.hide()}),e):o=requestAnimationFrame((function(){M.hide()}))}}else J()}}function ge(t,e){void 0===e&&(e={});var n=ne.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",Xt,Et),window.addEventListener("blur",Qt);var r=Object.assign({},e,{plugins:n}),o=Vt(t).reduce((function(t,e){var n=e&&me(e,r);return n&&t.push(n),t}),[]);return zt(t)?o[0]:o}ge.defaultProps=ne,ge.setDefaultProps=function(t){Object.keys(t).forEach((function(e){ne[e]=t[e]}))},ge.currentInput=Jt;Object.assign({},lt,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}});ge.setDefaultProps({render:ue});e.a=ge},1072:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneOfProp=void 0;const r=n(940),o=n(972);e.oneOfProp=(t,e)=>(0,r.propOptionsGenerator)((t=>{const e=[...new Set(t.flatMap((t=>{var e;return null==t?[]:null!==(e=t.constructor)&&void 0!==e?e:[]})))];if(0!==e.length)return 1===e.length?e[0]:e})(t),e,(0,o.isOneOf)(t))},1085:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return d}));var r=n(932),o=n(992),l=n(1048);class c{constructor({editor:t,element:element,view:view,tippyOptions:e={},updateDelay:n=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:view,state:t,from:e,to:n})=>{const{doc:o,selection:l}=t,{empty:c}=l,d=!o.textBetween(e,n).length&&Object(r.q)(t.selection),h=this.element.contains(document.activeElement);return!(!view.hasFocus()&&!h||c||d||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.tippyBlurHandler=t=>{this.blurHandler({event:t})},this.handleDebouncedUpdate=(view,t)=>{const e=!(null==t?void 0:t.selection.eq(view.state.selection)),n=!(null==t?void 0:t.doc.eq(view.state.doc));(e||n)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout((()=>{this.updateHandler(view,e,n,t)}),this.updateDelay))},this.updateHandler=(view,t,e,n)=>{var o,l,c;const{state:d,composing:h}=view,{selection:f}=d;if(h||!t&&!e)return;this.createTooltip();const{ranges:m}=f,v=Math.min(...m.map((t=>t.$from.pos))),y=Math.max(...m.map((t=>t.$to.pos)));(null===(o=this.shouldShow)||void 0===o?void 0:o.call(this,{editor:this.editor,view:view,state:d,oldState:n,from:v,to:y}))?(null===(l=this.tippy)||void 0===l||l.setProps({getReferenceClientRect:(null===(c=this.tippyOptions)||void 0===c?void 0:c.getReferenceClientRect)||(()=>{if(Object(r.p)(d.selection)){let t=view.nodeDOM(v);const e=t.dataset.nodeViewWrapper?t:t.querySelector("[data-node-view-wrapper]");if(e&&(t=e.firstChild),t)return t.getBoundingClientRect()}return Object(r.w)(view,v,y)})}),this.show()):this.hide()},this.editor=t,this.element=element,this.view=view,this.updateDelay=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=e,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;!this.tippy&&e&&(this.tippy=Object(l.a)(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(view,t){const{state:e}=view,n=e.selection.$from.pos!==e.selection.$to.pos;if(this.updateDelay>0&&n)return void this.handleDebouncedUpdate(view,t);const r=!(null==t?void 0:t.selection.eq(view.state.selection)),o=!(null==t?void 0:t.doc.eq(view.state.doc));this.updateHandler(view,r,o,t)}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t,e;(null===(t=this.tippy)||void 0===t?void 0:t.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(e=this.tippy)||void 0===e||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const d=t=>new o.c({key:"string"==typeof t.pluginKey?new o.d(t.pluginKey):t.pluginKey,view:view=>new c({view:view,...t})}),h=r.b.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[d({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}})},1089:function(t,e,n){var content=n(1090);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("4a3d717c",content,!0,{sourceMap:!1})},1090:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-time-picker-clock{background:#e0e0e0}.theme--light.v-time-picker-clock .v-time-picker-clock__item--disabled{color:rgba(0,0,0,.26)}.theme--light.v-time-picker-clock .v-time-picker-clock__item--disabled.v-time-picker-clock__item--active{color:hsla(0,0%,100%,.3)}.theme--light.v-time-picker-clock--indeterminate .v-time-picker-clock__hand{background-color:#bdbdbd}.theme--light.v-time-picker-clock--indeterminate:after{color:#bdbdbd}.theme--light.v-time-picker-clock--indeterminate .v-time-picker-clock__item--active{background-color:#bdbdbd}.theme--dark.v-time-picker-clock{background:#616161}.theme--dark.v-time-picker-clock .v-time-picker-clock__item--disabled,.theme--dark.v-time-picker-clock .v-time-picker-clock__item--disabled.v-time-picker-clock__item--active{color:hsla(0,0%,100%,.3)}.theme--dark.v-time-picker-clock--indeterminate .v-time-picker-clock__hand{background-color:#757575}.theme--dark.v-time-picker-clock--indeterminate:after{color:#757575}.theme--dark.v-time-picker-clock--indeterminate .v-time-picker-clock__item--active{background-color:#757575}.v-time-picker-clock{border-radius:100%;flex:1 0 auto;padding-top:100%;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1);-webkit-user-select:none;user-select:none;width:100%}.v-time-picker-clock__container{display:flex;flex-basis:290px;flex-direction:column;justify-content:center;padding:10px}.v-time-picker-clock__ampm{align-items:flex-end;display:flex;flex-direction:row;height:100%;justify-content:space-between;left:0;margin:0;padding:10px;position:absolute;top:0;width:100%}.v-time-picker-clock__hand{bottom:50%;height:calc(50% - 4px);left:calc(50% - 1px);position:absolute;transform-origin:center bottom;width:2px;will-change:transform;z-index:1}.v-time-picker-clock__hand:before{background:transparent;border:2px solid;border-color:inherit;height:10px;top:-4px;width:10px}.v-time-picker-clock__hand:after,.v-time-picker-clock__hand:before{border-radius:100%;content:"";left:50%;position:absolute;transform:translate(-50%,-50%)}.v-time-picker-clock__hand:after{background-color:inherit;border-color:inherit;border-style:solid;height:8px;top:100%;width:8px}.v-time-picker-clock__hand--inner:after{height:14px}.v-picker--full-width .v-time-picker-clock__container{max-width:290px}.v-time-picker-clock__inner{bottom:27px;left:27px;position:absolute;right:27px;top:27px}.v-time-picker-clock__item{align-items:center;border-radius:100%;cursor:default;display:flex;font-size:16px;height:40px;justify-content:center;position:absolute;text-align:center;transform:translate(-50%,-50%);-webkit-user-select:none;user-select:none;width:40px}.v-time-picker-clock__item>span{z-index:1}.v-time-picker-clock__item:after,.v-time-picker-clock__item:before{border-radius:100%;content:"";height:14px;height:40px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:14px;width:40px}.v-time-picker-clock__item--active{color:#fff;cursor:default;z-index:2}.v-time-picker-clock__item--disabled{pointer-events:none}.v-picker--landscape .v-time-picker-clock__container{flex-direction:row}.v-picker--landscape .v-time-picker-clock__ampm{flex-direction:column}',""]),v.locals={},t.exports=v},1091:function(t,e,n){var content=n(1092);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("454d4730",content,!0,{sourceMap:!1})},1092:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.v-time-picker-title{color:#fff;display:flex;justify-content:flex-end;line-height:1}.v-time-picker-title__time{direction:ltr;white-space:nowrap}.v-time-picker-title__time .v-picker__title__btn,.v-time-picker-title__time span{align-items:center;display:inline-flex;font-size:70px;height:70px;justify-content:center}.v-time-picker-title__ampm{align-self:flex-end;display:flex;flex-direction:column;font-size:16px;text-transform:uppercase}.v-application--is-ltr .v-time-picker-title__ampm{margin:0 0 6px 8px}.v-application--is-rtl .v-time-picker-title__ampm{margin:0 8px 6px 0}.v-time-picker-title__ampm div:only-child{flex-direction:row}.v-time-picker-title__ampm--readonly .v-picker__title__btn.v-picker__title__btn--active{opacity:.6}.v-picker__title--landscape .v-time-picker-title{flex-direction:column;height:100%;justify-content:center}.v-picker__title--landscape .v-time-picker-title__time{text-align:right}.v-picker__title--landscape .v-time-picker-title__time .v-picker__title__btn,.v-picker__title--landscape .v-time-picker-title__time span{font-size:55px;height:55px}.v-picker__title--landscape .v-time-picker-title__ampm{align-self:auto;margin:16px 0 0;text-align:center}.v-picker--time .v-picker__title--landscape{padding:0}.v-picker--time .v-picker__title--landscape .v-time-picker-title__time{text-align:center}',""]),v.locals={},t.exports=v},1093:function(t,e,n){"use strict";var r=n(1038);n.d(e,"a",(function(){return r.a})),n.d(e,"b",(function(){return r.b})),n.d(e,"c",(function(){return r.c}))},1101:function(t,e,n){"use strict";var r=n(2),o=(n(45),n(1015),n(392)),l=n(49),c=n(387),d=n(391),h=n(1076),f=n(0),m=n(16),v=n(7);e.a=Object(v.a)(l.a,c.a,d.a,h.a).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,content=t.content,n=!(this.bottom||this.left||this.top||this.right),r=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||n?o=r+e.width/2-content.width/2:(this.left||this.right)&&(o=r+(this.right?e.width:-content.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,content=t.content,n=!1!==this.attach?e.offsetTop:e.top,r=0;return this.top||this.bottom?r=n+(this.bottom?e.height:-content.height)+(this.bottom?10:-10):(this.left||this.right)&&(r=n+e.height/2-content.height/2),this.nudgeTop&&(r-=parseInt(this.nudgeTop)),this.nudgeBottom&&(r+=parseInt(this.nudgeBottom)),!1===this.attach&&(r+=this.pageYOffset),"".concat(this.calcYOverflow(r),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(f.i)(this.maxWidth),minWidth:Object(f.i)(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(f.u)(this,"activator",!0)&&Object(m.b)("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=o.a.options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")}),e.keydown=function(e){e.keyCode===f.z.esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var content=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[content]):content},genContent:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:Object(r.a)(Object(r.a)(Object(r.a)({},this.contentClass,!0),"menuable__content__active",this.isActive),"v-tooltip__content--fixed",this.activatorFixed),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},1102:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return r}));const r=n(932).d.create({name:"doc",topNode:!0,content:"block+"})},1103:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return r}));const r=n(932).d.create({name:"text",group:"inline"})},1107:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(13);var r=n(83),o=n(2),l=(n(55),n(89),n(45),n(1009),n(5),n(72),n(73),n(1020),n(54)),c=n(264),d=n(49),h=n(395),f=n(44),m=n(7);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=Object(m.a)(d.a,Object(h.a)({onVisible:["init"]}),f.a).extend({name:"v-pagination",directives:{Resize:c.a},props:{circle:Boolean,disabled:Boolean,navigationColor:String,navigationTextColor:String,length:{type:Number,default:0,validator:function(t){return t%1==0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var n=e%2==0?1:0,o=Math.floor(e/2),l=this.length-o+1+n;if(this.value>o&&this.value<l){var c=this.length,d=this.value-o+2,h=this.value+o-2-n,f=h+1===c-1?h+1:"...";return[1,d-1==2?2:"..."].concat(Object(r.a)(this.range(d,h)),[f,this.length])}if(this.value===o){var m=this.value+o-1-n;return[].concat(Object(r.a)(this.range(1,m)),["...",this.length])}if(this.value===l){var v=this.value-o+1;return[1,"..."].concat(Object(r.a)(this.range(v,this.length)))}return[].concat(Object(r.a)(this.range(1,o)),["..."],Object(r.a)(this.range(l,this.length)))}},watch:{value:function(){this.init()}},beforeMount:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){for(var n=[],i=t=t>0?t:1;i<=e;i++)n.push(i);return n},genIcon:function(t,e,n,r,label){return t("li",[t("button",this.setBackgroundColor(this.navigationColor,{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":n},attrs:{disabled:n,type:"button","aria-label":label},on:n?{}:{click:r}}),[t(l.a,{props:{color:this.navigationTextColor}},[e])])])},genItem:function(t,i){var e=this,n=i===this.value&&(this.color||"primary"),r=i===this.value,o=r?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(n,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":i===this.value},attrs:{type:"button","aria-current":r,"aria-label":this.$vuetify.lang.t(o,i)},on:{click:function(){return e.$emit("input",i)}}}),[i.toString()])},genItems:function(t){var e=this;return this.items.map((function(i,n){return t("li",{key:n},[isNaN(Number(i))?t("span",{class:"v-pagination__more"},[i.toString()]):e.genItem(t,i)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},1109:function(t,e,n){"use strict";(function(t){n(152),n(89),n(65),n(45),n(5),n(13);var r=n(179),o=n(1176);e.a={components:{StreamItemScheduleInsert:o.a,ModalToolbar:r.a},props:{id:{type:Number,default:0},visible:Boolean,stream:{type:Object,default:function(){}}},data:function(){return{isLoading:!1,query:null,emptyList:!1,errors:[],results:[],recentEntiresSuggestion:[],planIn:!1,dateIn:new Date,planOut:!1,dateOut:new Date}},computed:{streamTypesList:function(){return this.stream.entityTypes.map((function(t){return t.name})).join(", ")}},watch:{query:t.debounce((function(){var t=this;null!=this.query&&(this.query.length<3?this.errors.push("Der Suchbegriff muss mindestens 3 Zeichen umfassen."):(this.errors=[],this.isLoading=!0,this.$axios("streams/"+this.id+"/search?query="+encodeURIComponent(this.query)).then((function(e){0==e.data.length&&(t.emptyList=!0),t.results=e.data.map((function(t){return t.isLoading=!1,t.added=!1,t.scheduleadded=!1,t.overlay=!1,t})),t.isLoading=!1}))))}),750),visible:function(t,e){t&&(this.results=[],this.query=null)}},mounted:function(){var t=this,e=[];this.$store.state.recentitems.recentItems.forEach((function(n){var r=!1;t.stream.entityTypes.forEach((function(t){t.type==n.entityType&&(r=!0),"schema"==t.type&&n.hasOwnProperty("schemaId")&&t.pk_id==n.schemaId&&(r=!0)})),r&&e.push({id:n.id,title:n.title,type:n.entityType,typeLabel:n.type,image:n.image,overlay:!1,scheduleadded:!1,isLoading:!1,added:!1})})),this.recentEntiresSuggestion=e},created:function(){var t=this;this.$nuxt.$on("queueDone",(function(e){t.$emit("newitem",!0)}))},beforeDestroy:function(){this.$nuxt.$off("queueDone")},methods:{insertScheduled:function(t){t.isLoading=!1,t.added=t.added,t.scheduleadded=!0,t.overlay=!1,this.$emit("scheduleditem",!0)},insertNow:function(t){var e=this;t.isLoading=!0,this.$axios.post("streams/"+this.id+"/item-create",{pk_id:t.id,type:t.type,date_in:null,date_out:null}).then((function(n){e.$store.dispatch("successQueue/start",{id:n.data.lastQueueId,title:t.title+" wurde hinzugefügt.",closeOnly:!0}),t.isLoading=!1,t.added=!0,t.result=!1,t.scheduleadded=t.scheduleadded})).catch((function(e){t.isLoading=!1}))}}}}).call(this,n(552))},1110:function(t,e,n){"use strict";(function(t){var r=n(9),o=(n(58),n(45),n(15),n(5),n(13),n(1003)),l=n(179);e.a={components:{ModalToolbar:l.a,ModalFooter:o.a},props:{id:{type:[Number,String],default:""}},data:function(){return{isLoading:!0,isSaving:!1,items:[],trigger:null,triggers:[],config:{},conditions:[]}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:case"end":return e.stop()}}),e)})))()},computed:{isSubmitDisabled:function(){if(0==this.conditions.length)return!0;var t=!1;return this.conditions.forEach((function(e){(!e.op||e.value&&0==e.value.length)&&(t=!0)})),t},isTriggerButtonDisabled:function(){if(0==this.trigger.configAttributes.length)return!1;var e=!1;return 0==Object.keys(this.config).length||(t.forEach(this.config,(function(t){t&&""!=t&&0!=t.length||(e=!0)})),e)}},methods:{addCondition:function(t){this.conditions.push({op:null,value:null,attribute:t})},closeAndClear:function(){this.trigger=null,this.config={},this.conditions=[],this.$emit("close")},remove:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.delete("stream-items/"+e.id+"/triggers/"+t.id);case 2:return n.next=4,e.fetchData();case 4:e.$store.dispatch("snackbar/success","Eintrag wurde entfernt."),e.$emit("save");case 6:case"end":return n.stop()}}),n)})))()},update:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.put("stream-items/"+e.id+"/triggers/"+t.id+"?expand=lastQueueId",t);case 2:r=n.sent,e.$store.dispatch("queue/start",{id:r.data.lastQueueId,title:"Automation wird aktualisiert"}),e.$emit("save"),e.$store.dispatch("snackbar/success","Änderung wurde gespeichert.");case 6:case"end":return n.stop()}}),n)})))()},save:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSaving=!0,e.next=3,t.$axios.post("stream-items/"+t.id+"/triggers?expand=lastQueueId",{config:t.config,trigger:t.trigger,conditions:t.conditions});case 3:return n=e.sent,t.$store.dispatch("queue/start",{id:n.data.lastQueueId,title:"Die Automation wird eingerichtet."}),t.trigger=null,t.config={},t.conditions=[],e.next=10,t.fetchData();case 10:t.$store.dispatch("snackbar/success","Automation wurde erstellt."),t.$emit("save"),t.isSaving=!1;case 13:case"end":return e.stop()}}),e)})))()},fetchData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$axios.get("stream-items/"+t.id+"/available-triggers");case 3:return n=e.sent,t.triggers=n.data,e.next=7,t.$axios.get("stream-items/"+t.id+"/triggers?expand=stringify,triggerObject");case 7:r=e.sent,t.items=r.data,t.isLoading=!1;case 10:case"end":return e.stop()}}),e)})))()}}}}).call(this,n(552))},1111:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNonPositive=e.isNonNegative=e.isPositive=e.isNegative=e.instanceOfProp=e.oneOfTypesProp=e.oneOfObjectKeysProp=e.oneOfProp=e.functionProp=e.objectProp=e.arrayProp=e.anyProp=e.vueComponentProp=e.symbolProp=e.integerProp=e.numberProp=e.booleanProp=e.stringProp=void 0;var r=n(1112);Object.defineProperty(e,"stringProp",{enumerable:!0,get:function(){return r.stringProp}});var o=n(1117);Object.defineProperty(e,"booleanProp",{enumerable:!0,get:function(){return o.booleanProp}});var l=n(1118);Object.defineProperty(e,"numberProp",{enumerable:!0,get:function(){return l.numberProp}});var c=n(1119);Object.defineProperty(e,"integerProp",{enumerable:!0,get:function(){return c.integerProp}});var d=n(1120);Object.defineProperty(e,"symbolProp",{enumerable:!0,get:function(){return d.symbolProp}});var h=n(1121);Object.defineProperty(e,"vueComponentProp",{enumerable:!0,get:function(){return h.vueComponentProp}});var f=n(1122);Object.defineProperty(e,"anyProp",{enumerable:!0,get:function(){return f.anyProp}});var m=n(1123);Object.defineProperty(e,"arrayProp",{enumerable:!0,get:function(){return m.arrayProp}});var v=n(1124);Object.defineProperty(e,"objectProp",{enumerable:!0,get:function(){return v.objectProp}});var y=n(1125);Object.defineProperty(e,"functionProp",{enumerable:!0,get:function(){return y.functionProp}});var x=n(1072);Object.defineProperty(e,"oneOfProp",{enumerable:!0,get:function(){return x.oneOfProp}});var w=n(1126);Object.defineProperty(e,"oneOfObjectKeysProp",{enumerable:!0,get:function(){return w.oneOfObjectKeysProp}});var k=n(1127);Object.defineProperty(e,"oneOfTypesProp",{enumerable:!0,get:function(){return k.oneOfTypesProp}});var _=n(1128);Object.defineProperty(e,"instanceOfProp",{enumerable:!0,get:function(){return _.instanceOfProp}});var O=n(1129);Object.defineProperty(e,"isNegative",{enumerable:!0,get:function(){return O.isNegative}});var S=n(1130);Object.defineProperty(e,"isPositive",{enumerable:!0,get:function(){return S.isPositive}});var M=n(1131);Object.defineProperty(e,"isNonNegative",{enumerable:!0,get:function(){return M.isNonNegative}});var C=n(1132);Object.defineProperty(e,"isNonPositive",{enumerable:!0,get:function(){return C.isNonPositive}})},1112:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringProp=void 0;const r=n(940);e.stringProp=t=>(0,r.propOptionsGenerator)(String,t)},1113:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isInstanceOf=void 0;e.isInstanceOf=t=>e=>{if(!(e instanceof t))return`value should be an instance of ${t.name}`}},1114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isInteger=void 0;e.isInteger=t=>{if("number"!=typeof t||!Number.isInteger(t))return"value should be an integer"}},1115:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isOneOf=void 0;e.isOneOf=t=>e=>{if(!t.includes(e))return`value should be one of "${t.join('", "')}"`}},1116:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSymbol=void 0;e.isSymbol=t=>{if("symbol"!=typeof t)return"value should be a symbol"}},1117:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.booleanProp=void 0;const r=n(940);e.booleanProp=t=>(0,r.propOptionsGenerator)(Boolean,t)},1118:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.numberProp=void 0;const r=n(940);e.numberProp=t=>(0,r.propOptionsGenerator)(Number,t)},1119:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.integerProp=void 0;const r=n(940),o=n(972);e.integerProp=t=>(0,r.propOptionsGenerator)(Number,t,o.isInteger)},1120:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.symbolProp=void 0;const r=n(940),o=n(972);e.symbolProp=t=>(0,r.propOptionsGenerator)(void 0,t,o.isSymbol)},1121:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vueComponentProp=void 0;const r=n(940);e.vueComponentProp=t=>(0,r.propOptionsGenerator)([Object,String],t)},1122:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.anyProp=void 0;const r=n(940);e.anyProp=t=>(0,r.propOptionsGenerator)(void 0,t)},1123:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrayProp=void 0;const r=n(940);e.arrayProp=t=>(0,r.propOptionsGenerator)(Array,t)},1124:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.objectProp=void 0;const r=n(940);e.objectProp=t=>(0,r.propOptionsGenerator)(Object,t)},1125:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.functionProp=void 0;const r=n(972);e.functionProp=t=>({optional:{type:Function,required:!1,default:void 0,validator:(0,r.vuePropValidator)(t)},nullable:{type:Function,required:!1,default:null,validator:(0,r.vuePropValidator)(t)},required:{type:Function,required:!0,validator:(0,r.vuePropValidator)(t)}})},1126:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneOfObjectKeysProp=void 0;const r=n(1072);e.oneOfObjectKeysProp=(object,t)=>(0,r.oneOfProp)(Object.keys(object),t)},1127:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneOfTypesProp=void 0;const r=n(940);e.oneOfTypesProp=(t,e)=>(0,r.propOptionsGenerator)(t,e)},1128:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instanceOfProp=void 0;const r=n(940),o=n(972);e.instanceOfProp=(t,e)=>(0,r.propOptionsGenerator)(t,e,(0,o.isInstanceOf)(t))},1129:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNegative=void 0;e.isNegative=t=>{if("number"!=typeof t||t>=0||Number.isNaN(t))return"value should be a negative number"}},1130:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPositive=void 0;e.isPositive=t=>{if("number"!=typeof t||t<=0||Number.isNaN(t))return"value should be a positive number"}},1131:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNonNegative=void 0;e.isNonNegative=t=>{if("number"!=typeof t||t<0||Number.isNaN(t))return"value should be a non-negative number"}},1132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNonPositive=void 0;e.isNonPositive=t=>{if("number"!=typeof t||t>0||Number.isNaN(t))return"value should be a non-positive number"}},1138:function(t,e,n){"use strict";var r=n(396);e.a=r.a.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem:function(){var t=r.a.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},1144:function(t,e,n){var content=n(1221);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("64309e12",content,!0,{sourceMap:!1})},1152:function(t,e,n){"use strict";var r=n(2),o=(n(17),n(14),n(124),n(60),n(82),n(20),n(21),n(15),n(5),n(51),n(390),n(13),n(93),n(270),n(3));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=o.default.extend({name:"mouse",methods:{getDefaultMouseEventHandlers:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object.keys(this.$listeners).filter((function(e){return e.endsWith(t)})).reduce((function(e,n){return e[n]={event:n.slice(0,-t.length)},e}),{});return this.getMouseEventHandlers(c(c({},o),{},Object(r.a)({},"contextmenu"+t,{event:"contextmenu",prevent:!0,result:!1})),e,n)},getMouseEventHandlers:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},l=function(l){var c=t[l];if(!n.$listeners[l])return 1;var d=(c.passive?"&":(c.once?"~":"")+(c.capture?"!":""))+c.event,h=function(t){var o,d,h=t;if(void 0===c.button||h.buttons>0&&h.button===c.button){if(c.prevent&&t.preventDefault(),c.stop&&t.stopPropagation(),t&&"touches"in t){var f=null===(o=t.currentTarget)||void 0===o?void 0:o.className.split(" "),m=document.elementsFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY).find((function(t){return t.className.split(" ").some((function(t){return f.includes(t)}))}));if(m&&!(null===(d=t.target)||void 0===d?void 0:d.isSameNode(m)))return void m.dispatchEvent(new TouchEvent(t.type,{changedTouches:t.changedTouches,targetTouches:t.targetTouches,touches:t.touches}))}r?n.$emit(l,t,e(t)):n.$emit(l,e(t),t)}return c.result};d in o?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h};for(var c in t)l(c);return o}}})},1166:function(t,e,n){"use strict";(function(t){var r=n(9),o=(n(58),n(45),n(5),n(13),n(1314)),l=n(947);e.a={components:{CommentTextarea:o.a,InfoIconWiki:l.a},props:{id:{type:[String,Number],default:0},type:{type:String,default:""},visible:{type:Boolean,default:!1}},data:function(){return{replyComments:{},commentText:"",isLoading:!1,isLoadingUsers:!1,saving:!1,comments:[],admins:[],isVisible:!1}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:if(t.comments.length>0&&t.$emit("hasComments",!0),!t.visible){e.next=6;break}return e.next=6,t.toggleVisibility();case 6:case"end":return e.stop()}}),e)})))()},computed:{threads:function(){var e=t.groupBy(this.comments,(function(t){return t.reply_to_comment_id?t.reply_to_comment_id:t.id})),n=[];return t.forEach(e,(function(t,e){n.push({id:e,items:t})})),t.orderBy(n,["id"],["desc"])}},watch:{visible:function(){this.toggleVisibility()}},methods:{toggleVisibility:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isVisible||0!=t.admins.length){e.next=3;break}return e.next=3,t.fetchAdmins();case 3:t.isVisible=!t.isVisible;case 4:case"end":return e.stop()}}),e)})))()},updateAssignee:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.put("entity-comments/"+e.type+"/"+e.id+"?commentId="+t.id,{assignee_user_id:t.assignee_user_id});case 2:return n.next=4,e.fetchData();case 4:case"end":return n.stop()}}),n)})))()},fetchAdmins:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoadingUsers=!0,e.next=3,t.$axios("organisation/admins?fields=id,user_id,user.firstname,user.lastname");case 3:n=e.sent,t.admins=n.data,t.isLoadingUsers=!1;case 6:case"end":return e.stop()}}),e)})))()},converToComment:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.isLoading=!0,n.next=3,e.$axios.put("entity-comments/"+e.type+"/"+e.id+"?commentId="+t.id,{is_todo:0});case 3:return n.next=5,e.fetchData();case 5:case"end":return n.stop()}}),n)})))()},convertToTodo:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.isLoading=!0,n.next=3,e.$axios.put("entity-comments/"+e.type+"/"+e.id+"?commentId="+t.id,{is_todo:1});case 3:return n.next=5,e.fetchData();case 5:case"end":return n.stop()}}),n)})))()},isEmpty:function(text){return!(text&&!this.isLoading&&"<p></p>"!=text)},remove:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.isLoading=!0,n.next=3,e.$axios.delete("entity-comments/"+e.type+"/"+e.id+"?commentId="+t.id);case 3:return n.next=5,e.fetchData();case 5:case"end":return n.stop()}}),n)})))()},fetchData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$axios("entity-comments/"+t.type+"/"+t.id+"?expand=createUser.entityImage,assigneeUser");case 3:n=e.sent,t.comments=n.data,t.isLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.saving=!0,e.next=3,t.$axios.post("entity-comments/"+t.type+"/"+t.id,{comment:t.commentText});case 3:t.$store.dispatch("snackbar/success","Kommentar wurde gespeichert"),t.commentText="",t.fetchData(),t.saving=!1;case 7:case"end":return e.stop()}}),e)})))()},saveReply:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.saving=!0,n.next=3,e.$axios.post("entity-comments/"+e.type+"/"+e.id,{comment:e.replyComments[t],reply_to_comment_id:t});case 3:e.$store.dispatch("snackbar/success","Buzz wurde gespeichert"),e.replyComments={},e.fetchData(),e.saving=!1;case 7:case"end":return n.stop()}}),n)})))()}}}}).call(this,n(552))},1167:function(t,e,n){var content=n(1168);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("72ac4b2f",content,!0,{sourceMap:!1})},1168:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-btn-toggle:not(.v-btn-toggle--group){background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn{border-color:rgba(0,0,0,.12)!important}.theme--light.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn:focus:not(:active){border-color:rgba(0,0,0,.26)}.theme--light.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn .v-icon{color:#000}.theme--dark.v-btn-toggle:not(.v-btn-toggle--group){background:#1e1e1e;color:#fff}.theme--dark.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn{border-color:hsla(0,0%,100%,.12)!important}.theme--dark.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn:focus:not(:active){border-color:hsla(0,0%,100%,.3)}.theme--dark.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn .v-icon{color:#fff}.v-btn-toggle{border-radius:15px;display:inline-flex;max-width:100%}.v-btn-toggle>.v-btn.v-btn{border-radius:0;border-style:solid;border-width:thin;box-shadow:none;opacity:.8;padding:0 12px}.v-application--is-ltr .v-btn-toggle>.v-btn.v-btn:first-child{border-bottom-left-radius:inherit;border-top-left-radius:inherit}.v-application--is-ltr .v-btn-toggle>.v-btn.v-btn:last-child,.v-application--is-rtl .v-btn-toggle>.v-btn.v-btn:first-child{border-bottom-right-radius:inherit;border-top-right-radius:inherit}.v-application--is-rtl .v-btn-toggle>.v-btn.v-btn:last-child{border-bottom-left-radius:inherit;border-top-left-radius:inherit}.v-btn-toggle>.v-btn.v-btn--active{color:inherit;opacity:1}.v-btn-toggle>.v-btn.v-btn:after{display:none}.v-application--is-ltr .v-btn-toggle>.v-btn.v-btn:not(:first-child),.v-application--is-rtl .v-btn-toggle>.v-btn.v-btn:not(:last-child){border-left-width:0}.v-btn-toggle .v-btn.v-btn.v-size--default{min-height:0;min-width:48px}.v-btn-toggle:not(.v-btn-toggle--dense) .v-btn.v-btn.v-size--default{height:48px}.v-btn-toggle--borderless>.v-btn.v-btn{border-width:0}.v-btn-toggle--dense>.v-btn.v-btn{padding:0 8px}.v-btn-toggle--group{border-radius:0}.v-btn-toggle--group>.v-btn.v-btn{background-color:transparent!important;border-color:transparent;margin:4px;min-width:auto}.v-btn-toggle--rounded{border-radius:24px}.v-btn-toggle--shaped{border-radius:24px 15px}.v-btn-toggle--tile{border-radius:0}',""]),v.locals={},t.exports=v},1176:function(t,e,n){"use strict";var r=n(367),o=n(12),l=n(9),c=(n(58),n(45),n(1003)),d={components:{ModalToolbar:n(179).a,ModalFooter:c.a},props:{entityId:{type:[Number,String],default:""},entityType:{type:[Number,String],default:""},streamId:{type:[Number,String],default:""}},data:function(){return{dateOut:null,dateIn:null,isLoading:!1}},computed:{dateNow:function(){return this.$moment().format("YYYY-MM-DD")}},methods:{minNow:function(){return this.$moment().format("YYYY-MM-DD")},minDate:function(){return this.$moment(this.dateIn).format("YYYY-MM-DD")},save:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$axios.post("streams/"+t.streamId+"/item-create",{pk_id:t.entityId,type:t.entityType,date_in:t.dateIn,date_out:t.dateOut?t.dateOut:null});case 3:t.$store.dispatch("snackbar/success","Eintrag wurde geplant."),t.isLoading=!1,t.$emit("scheduleditem",!0),t.$emit("close",!0);case 7:case"end":return e.stop()}}),e)})))()}}},h=n(42),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e(r.a,{attrs:{width:"375"}},[e("modal-toolbar",{attrs:{icon:"clock",title:"Planen"},on:{close:function(e){return t.$emit("close",!0)}}}),t._v(" "),e(o.c,{staticClass:"text-caption mt-0 pt-0"},[t._v("\n    Wenn du den Eintrag nicht sofort hinzufügen möchtest, kannst du einen Zeitpunkt angeben, an welchem der Eintrag zum Content Pool hinzugefügt werden soll. Optional kannst du einen zweiten Zeitpunkt erfassen, an welchem der Eintrag wieder aus dem Content Pool entfernt werden soll.\n    "),e("b",[t._v("Der Eintrag wird immer an erster Position hinzugefügt.")])]),t._v(" "),e(o.c,{staticClass:"mb-0 pb-0",attrs:{"data-cy":"dateTimePlan"}},[e("hub-datetimepicker",{attrs:{"data-cy":"streamItemDateIn",label:"Hinzufügen planen","text-field-props":{dense:!0},"date-picker-props":{min:t.minNow()},clearable:""},model:{value:t.dateIn,callback:function(e){t.dateIn=e},expression:"dateIn"}}),t._v(" "),e("hub-datetimepicker",{attrs:{label:"Entfernen planen",disabled:!t.dateIn,"text-field-props":{dense:!0},"date-picker-props":{min:t.minDate()},clearable:"","data-cy":"streamItemDateOut"},model:{value:t.dateOut,callback:function(e){t.dateOut=e},expression:"dateOut"}})],1),t._v(" "),e("modal-footer",{attrs:{saving:t.isLoading},on:{click:t.save}})],1)}),[],!1,null,null,null);e.a=component.exports;installComponents(component,{HubDatetimepicker:n(1032).default})},1177:function(t,e,n){"use strict";var r=n(367),o=n(12),l=n(9),c=(n(58),n(45),n(1032)),d=n(1003),h=n(179),f={components:{HubDatetimepicker:c.default,ModalToolbar:h.a,ModalFooter:d.a},props:{id:{type:[Number,String],default:""},streamId:{type:[Number,String],default:""}},data:function(){return{dateOut:null,isSaving:!1}},computed:{dateNow:function(){return this.$moment().format("YYYY-MM-DD")}},methods:{insertScheduled:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSaving=!0,e.next=3,t.$axios.post("streams/"+t.streamId+"/schedule-item-removal/"+t.id,{date_out:t.dateOut});case 3:t.$store.dispatch("snackbar/success","Entfernung wurde geplant."),t.$emit("scheduleditem",!0),t.isSaving=!1,t.$emit("close",!0);case 7:case"end":return e.stop()}}),e)})))()}}},m=n(42),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e(r.a,{attrs:{width:"400"}},[e("modal-toolbar",{attrs:{title:"Entfernen planen"},on:{close:function(e){return t.$emit("close",!0)}}}),t._v(" "),e(o.b,{staticClass:"mt-0 pt-0 text-caption"},[t._v("\n    Diesen Eintrag zu einem bestimmten Zeitpunkt aus dem Content Pool entfernen.\n  ")]),t._v(" "),e(o.c,[e("hub-datetimepicker",{attrs:{label:"Zeitpunkt auswählen","text-field-props":{dense:!0},"date-picker-props":{min:t.dateNow},"hide-details":""},model:{value:t.dateOut,callback:function(e){t.dateOut=e},expression:"dateOut"}})],1),t._v(" "),e("modal-footer",{attrs:{disabled:!t.dateOut,saving:t.isSaving},on:{click:t.insertScheduled}})],1)}),[],!1,null,null,null);e.a=component.exports;installComponents(component,{HubDatetimepicker:n(1032).default})},1186:function(t,e,n){"use strict";var r,o=n(47),l=(n(55),n(124),n(60),n(89),n(45),n(5),n(51),n(93),n(263),n(143),n(1091),n(1034)),c=n(1031),d=n(7);!function(t){t[t.Hour=1]="Hour",t[t.Minute=2]="Minute",t[t.Second=3]="Second"}(r||(r={}));var h=Object(d.a)(l.a).extend({name:"v-time-picker-title",props:{ampm:Boolean,ampmReadonly:Boolean,disabled:Boolean,hour:Number,minute:Number,second:Number,period:{type:String,validator:function(t){return"am"===t||"pm"===t}},readonly:Boolean,useSeconds:Boolean,selecting:Number},methods:{genTime:function(){var t=this.hour;this.ampm&&(t=t?(t-1)%12+1:12);var e=null==this.hour?"--":this.ampm?String(t):Object(c.a)(t),n=null==this.minute?"--":Object(c.a)(this.minute),o=[this.genPickerButton("selecting",r.Hour,e,this.disabled),this.$createElement("span",":"),this.genPickerButton("selecting",r.Minute,n,this.disabled)];if(this.useSeconds){var l=null==this.second?"--":Object(c.a)(this.second);o.push(this.$createElement("span",":")),o.push(this.genPickerButton("selecting",r.Second,l,this.disabled))}return this.$createElement("div",{class:"v-time-picker-title__time"},o)},genAmPm:function(){return this.$createElement("div",{staticClass:"v-time-picker-title__ampm",class:{"v-time-picker-title__ampm--readonly":this.ampmReadonly}},[this.ampmReadonly&&"am"!==this.period?null:this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.ampmReadonly&&"pm"!==this.period?null:this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])}},render:function(t){var e=[this.genTime()];return this.ampm&&e.push(this.genAmPm()),t("div",{staticClass:"v-time-picker-title"},e)}}),f=n(2),m=(n(17),n(14),n(559),n(20),n(21),n(15),n(13),n(1089),n(49)),v=n(44);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w=Object(d.a)(m.a,v.a).extend({name:"v-time-picker-clock",props:{allowedValues:Function,ampm:Boolean,disabled:Boolean,double:Boolean,format:{type:Function,default:function(t){return t}},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},value:Number},data:function(){return{inputValue:this.value,isDragging:!1,valueOnMouseDown:null,valueOnMouseUp:null}},computed:{count:function(){return this.max-this.min+1},degreesPerUnit:function(){return 360/this.roundCount},degrees:function(){return this.degreesPerUnit*Math.PI/180},displayedValue:function(){return null==this.value?this.min:this.value},innerRadiusScale:function(){return.62},roundCount:function(){return this.double?this.count/2:this.count}},watch:{value:function(t){this.inputValue=t}},methods:{wheel:function(t){t.preventDefault();var e=Math.sign(-t.deltaY||1),n=this.displayedValue;do{n=((n+=e)-this.min+this.count)%this.count+this.min}while(!this.isAllowed(n)&&n!==this.displayedValue);n!==this.displayedValue&&this.update(n)},isInner:function(t){return this.double&&t-this.min>=this.roundCount},handScale:function(t){return this.isInner(t)?this.innerRadiusScale:1},isAllowed:function(t){return!this.allowedValues||this.allowedValues(t)},genValues:function(){for(var t=[],e=this.min;e<=this.max;e+=this.step){var n=e===this.value&&(this.color||"accent");t.push(this.$createElement("span",this.setBackgroundColor(n,{staticClass:"v-time-picker-clock__item",class:{"v-time-picker-clock__item--active":e===this.displayedValue,"v-time-picker-clock__item--disabled":this.disabled||!this.isAllowed(e)},style:this.getTransform(e),domProps:{innerHTML:"<span>".concat(this.format(e),"</span>")}})))}return t},genHand:function(){var t="scaleY(".concat(this.handScale(this.displayedValue),")"),e=this.rotate+this.degreesPerUnit*(this.displayedValue-this.min),n=null!=this.value&&(this.color||"accent");return this.$createElement("div",this.setBackgroundColor(n,{staticClass:"v-time-picker-clock__hand",class:{"v-time-picker-clock__hand--inner":this.isInner(this.value)},style:{transform:"rotate(".concat(e,"deg) ").concat(t)}}))},getTransform:function(i){var t=this.getPosition(i),e=t.x,n=t.y;return{left:"".concat(50+50*e,"%"),top:"".concat(50+50*n,"%")}},getPosition:function(t){var e=this.rotate*Math.PI/180;return{x:Math.sin((t-this.min)*this.degrees+e)*this.handScale(t),y:-Math.cos((t-this.min)*this.degrees+e)*this.handScale(t)}},onMouseDown:function(t){t.preventDefault(),this.valueOnMouseDown=null,this.valueOnMouseUp=null,this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(t){t.stopPropagation(),this.isDragging=!1,null!==this.valueOnMouseUp&&this.isAllowed(this.valueOnMouseUp)&&this.$emit("change",this.valueOnMouseUp)},onDragMove:function(t){if(t.preventDefault(),(this.isDragging||"click"===t.type)&&this.$refs.clock)for(var e,n=this.$refs.clock.getBoundingClientRect(),r=n.width,o=n.top,l=n.left,c=this.$refs.innerClock.getBoundingClientRect().width,d=("touches"in t?t.touches[0]:t),h={x:r/2,y:-r/2},f={x:d.clientX-l,y:o-d.clientY},m=Math.round(this.angle(h,f)-this.rotate+360)%360,v=this.double&&this.euclidean(h,f)<(c+c*this.innerRadiusScale)/4,y=Math.ceil(15/this.degreesPerUnit),i=0;i<y;i++){if(e=this.angleToValue(m+i*this.degreesPerUnit,v),this.isAllowed(e))return this.setMouseDownValue(e);if(e=this.angleToValue(m-i*this.degreesPerUnit,v),this.isAllowed(e))return this.setMouseDownValue(e)}},angleToValue:function(t,e){var n=(Math.round(t/this.degreesPerUnit)+(e?this.roundCount:0))%this.count+this.min;return t<360-this.degreesPerUnit/2?n:e?this.max-this.roundCount+1:this.min},setMouseDownValue:function(t){null===this.valueOnMouseDown&&(this.valueOnMouseDown=t),this.valueOnMouseUp=t,this.update(t)},update:function(t){this.inputValue!==t&&(this.inputValue=t,this.$emit("input",t))},euclidean:function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},angle:function(t,e){var n=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*n/Math.PI)}},render:function(t){var e=this,data={staticClass:"v-time-picker-clock",class:x({"v-time-picker-clock--indeterminate":null==this.value},this.themeClasses),on:this.readonly||this.disabled?void 0:{mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:function(t){return e.isDragging&&e.onMouseUp(t)},touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},ref:"clock"};return this.scrollable&&data.on&&(data.on.wheel=this.wheel),t("div",data,[t("div",{staticClass:"v-time-picker-clock__inner",ref:"innerClock"},[this.genHand(),this.genValues()])])}}),k=n(1088),_=n(0),O=Object(_.j)(24),S=Object(_.j)(12),M=S.map((function(t){return t+12})),C=Object(_.j)(60),T={1:"hour",2:"minute",3:"second"};e.a=Object(d.a)(k.a,l.a).extend({name:"v-time-picker",props:{activePicker:String,allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm",validator:function(t){return["ampm","24hr"].includes(t)}},min:String,max:String,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,value:null,ampmInTitle:Boolean},data:function(){return{inputHour:null,inputMinute:null,inputSecond:null,lazyInputHour:null,lazyInputMinute:null,lazyInputSecond:null,period:"am",selecting:r.Hour}},computed:{selectingHour:{get:function(){return this.selecting===r.Hour},set:function(t){this.selecting=r.Hour}},selectingMinute:{get:function(){return this.selecting===r.Minute},set:function(t){this.selecting=r.Minute}},selectingSecond:{get:function(){return this.selecting===r.Second},set:function(t){this.selecting=r.Second}},isAllowedHourCb:function(){var t,e=this;if(t=this.allowedHours instanceof Array?function(t){return e.allowedHours.includes(t)}:this.allowedHours,!this.min&&!this.max)return t;var n=this.min?Number(this.min.split(":")[0]):0,r=this.max?Number(this.max.split(":")[0]):23;return function(e){return e>=1*n&&e<=1*r&&(!t||t(e))}},isAllowedMinuteCb:function(){var t,e=this,n=!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour);if(t=this.allowedMinutes instanceof Array?function(t){return e.allowedMinutes.includes(t)}:this.allowedMinutes,!this.min&&!this.max)return n?t:function(){return!1};var r=this.min?this.min.split(":").map(Number):[0,0],l=Object(o.a)(r,2),c=l[0],d=l[1],h=this.max?this.max.split(":").map(Number):[23,59],f=Object(o.a)(h,2),m=f[0],v=f[1],y=60*c+1*d,x=60*m+1*v;return function(r){var time=60*e.inputHour+r;return time>=y&&time<=x&&n&&(!t||t(r))}},isAllowedSecondCb:function(){var t,e=this,n=(!this.isAllowedHourCb||null===this.inputHour||this.isAllowedHourCb(this.inputHour))&&(!this.isAllowedMinuteCb||null===this.inputMinute||this.isAllowedMinuteCb(this.inputMinute));if(t=this.allowedSeconds instanceof Array?function(t){return e.allowedSeconds.includes(t)}:this.allowedSeconds,!this.min&&!this.max)return n?t:function(){return!1};var r=this.min?this.min.split(":").map(Number):[0,0,0],l=Object(o.a)(r,3),c=l[0],d=l[1],h=l[2],f=this.max?this.max.split(":").map(Number):[23,59,59],m=Object(o.a)(f,3),v=m[0],y=m[1],x=m[2],w=3600*c+60*d+1*(h||0),k=3600*v+60*y+1*(x||0);return function(r){var time=3600*e.inputHour+60*e.inputMinute+r;return time>=w&&time<=k&&n&&(!t||t(r))}},isAmPm:function(){return"ampm"===this.format}},watch:{activePicker:"setPicker",selecting:"emitPicker",value:"setInputData"},mounted:function(){this.setInputData(this.value),this.$on("update:period",this.setPeriod)},methods:{genValue:function(){return null==this.inputHour||null==this.inputMinute||this.useSeconds&&null==this.inputSecond?null:"".concat(Object(c.a)(this.inputHour),":").concat(Object(c.a)(this.inputMinute))+(this.useSeconds?":".concat(Object(c.a)(this.inputSecond)):"")},emitValue:function(){var t=this.genValue();null!==t&&this.$emit("input",t)},emitPicker:function(t){var e="HOUR";t===r.Minute?e="MINUTE":t===r.Second&&(e="SECOND"),this.$emit("update:active-picker",e)},setPicker:function(t){"HOUR"===t?this.selecting=r.Hour:"MINUTE"===t?this.selecting=r.Minute:"SECOND"===t&&this.useSeconds&&(this.selecting=r.Second)},setPeriod:function(t){if(this.period=t,null!=this.inputHour){var e=this.inputHour+("am"===t?-12:12);this.inputHour=this.firstAllowed("hour",e),this.emitValue()}},setInputData:function(t){if(null==t||""===t)this.inputHour=null,this.inputMinute=null,this.inputSecond=null;else if(t instanceof Date)this.inputHour=t.getHours(),this.inputMinute=t.getMinutes(),this.inputSecond=t.getSeconds();else{var e=t.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6),n=Object(o.a)(e,6),r=n[1],l=n[2],c=n[4],d=n[5];this.inputHour=d?this.convert12to24(parseInt(r,10),d):parseInt(r,10),this.inputMinute=parseInt(l,10),this.inputSecond=parseInt(c||0,10)}this.period=null==this.inputHour||this.inputHour<12?"am":"pm"},convert24to12:function(t){return t?(t-1)%12+1:12},convert12to24:function(t,e){return t%12+("pm"===e?12:0)},onInput:function(t){this.selecting===r.Hour?this.inputHour=this.isAmPm?this.convert12to24(t,this.period):t:this.selecting===r.Minute?this.inputMinute=t:this.inputSecond=t,this.emitValue()},onChange:function(t){this.$emit("click:".concat(T[this.selecting]),t);var e=this.selecting===(this.useSeconds?r.Second:r.Minute);if(this.selecting===r.Hour?this.selecting=r.Minute:this.useSeconds&&this.selecting===r.Minute&&(this.selecting=r.Second),this.inputHour!==this.lazyInputHour||this.inputMinute!==this.lazyInputMinute||this.useSeconds&&this.inputSecond!==this.lazyInputSecond){var time=this.genValue();null!==time&&(this.lazyInputHour=this.inputHour,this.lazyInputMinute=this.inputMinute,this.useSeconds&&(this.lazyInputSecond=this.inputSecond),e&&this.$emit("change",time))}},firstAllowed:function(t,e){var n="hour"===t?this.isAllowedHourCb:"minute"===t?this.isAllowedMinuteCb:this.isAllowedSecondCb;if(!n)return e;var r="minute"===t||"second"===t?C:this.isAmPm?e<12?S:M:O;return((r.find((function(t){return n((t+e)%r.length+r[0])}))||0)+e)%r.length+r[0]},genClock:function(){return this.$createElement(w,{props:{allowedValues:this.selecting===r.Hour?this.isAllowedHourCb:this.selecting===r.Minute?this.isAllowedMinuteCb:this.isAllowedSecondCb,color:this.color,dark:this.dark,disabled:this.disabled,double:this.selecting===r.Hour&&!this.isAmPm,format:this.selecting===r.Hour?this.isAmPm?this.convert24to12:function(t){return t}:function(t){return Object(c.a)(t,2)},light:this.light,max:this.selecting===r.Hour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selecting===r.Hour&&this.isAmPm&&"pm"===this.period?12:0,readonly:this.readonly,scrollable:this.scrollable,size:Number(this.width)-(!this.fullWidth&&this.landscape?80:20),step:this.selecting===r.Hour?1:5,value:this.selecting===r.Hour?this.inputHour:this.selecting===r.Minute?this.inputMinute:this.inputSecond},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genClockAmPm:function(){return this.$createElement("div",this.setTextColor(this.color||"primary",{staticClass:"v-time-picker-clock__ampm"}),[this.genPickerButton("period","am",this.$vuetify.lang.t("$vuetify.timePicker.am"),this.disabled||this.readonly),this.genPickerButton("period","pm",this.$vuetify.lang.t("$vuetify.timePicker.pm"),this.disabled||this.readonly)])},genPickerBody:function(){return this.$createElement("div",{staticClass:"v-time-picker-clock__container",key:this.selecting},[!this.ampmInTitle&&this.isAmPm&&this.genClockAmPm(),this.genClock()])},genPickerTitle:function(){var t=this;return this.$createElement(h,{props:{ampm:this.isAmPm,ampmReadonly:this.isAmPm&&!this.ampmInTitle,disabled:this.disabled,hour:this.inputHour,minute:this.inputMinute,second:this.inputSecond,period:this.period,readonly:this.readonly,useSeconds:this.useSeconds,selecting:this.selecting},on:{"update:selecting":function(e){return t.selecting=e},"update:period":function(e){return t.$emit("update:period",e)}},ref:"title",slot:"title"})}},render:function(){return this.genPicker("v-picker--time")}})},1217:function(t,e,n){var content=n(1218);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("675951d4",content,!0,{sourceMap:!1})},1218:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-timeline:before{background:rgba(0,0,0,.12)}.theme--light.v-timeline .v-timeline-item__dot{background:#fff}.theme--light.v-timeline .v-timeline-item .v-card:not(.v-card--link):before{border-right-color:rgba(0,0,0,.12)}.theme--dark.v-timeline:before{background:hsla(0,0%,100%,.12)}.theme--dark.v-timeline .v-timeline-item__dot{background:#1e1e1e}.theme--dark.v-timeline .v-timeline-item .v-card:not(.v-card--link):before{border-right-color:rgba(0,0,0,.12)}.v-timeline{padding-top:24px;position:relative}.v-timeline:before{bottom:0;content:"";height:100%;position:absolute;top:0;width:2px}.v-timeline-item{display:flex;padding-bottom:24px}.v-timeline-item__body{flex:1 1 auto;height:100%;position:relative}.v-timeline-item__divider{align-items:center;display:flex;justify-content:center;min-width:60px;position:relative}.v-timeline-item__dot{border-radius:50%;box-shadow:0 2px 1px -1px rgba(78,78,78,.2),0 1px 1px 0 rgba(53,53,53,.14),0 1px 3px 0 rgba(0,0,0,.12);height:38px;left:calc(50% - 19px);width:38px;z-index:2}.v-timeline-item__dot .v-timeline-item__inner-dot{height:30px;margin:4px;width:30px}.v-timeline-item__dot--small{height:24px;left:calc(50% - 12px);width:24px}.v-timeline-item__dot--small .v-timeline-item__inner-dot{height:18px;margin:3px;width:18px}.v-timeline-item__dot--large{height:52px;left:calc(50% - 26px);width:52px}.v-timeline-item__dot--large .v-timeline-item__inner-dot{height:42px;margin:5px;width:42px}.v-timeline-item__inner-dot{align-items:center;border-radius:50%;display:flex;justify-content:center}.v-timeline-item__opposite{align-self:center;flex:1 1 auto;max-width:calc(50% - 30px)}.v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--after,.v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(odd):not(.v-timeline-item--before){flex-direction:row-reverse}.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--after .v-timeline-item__opposite,.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(odd):not(.v-timeline-item--before) .v-timeline-item__opposite{text-align:right}.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--after .v-timeline-item__opposite,.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(odd):not(.v-timeline-item--before) .v-timeline-item__opposite{text-align:left}.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--after .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--after .v-timeline-item__body>.v-card:not(.v-card--link):before,.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(odd):not(.v-timeline-item--before) .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(odd):not(.v-timeline-item--before) .v-timeline-item__body>.v-card:not(.v-card--link):before{left:-10px;right:auto;transform:rotate(0)}.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--after .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--after .v-timeline-item__body>.v-card:not(.v-card--link):before,.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(odd):not(.v-timeline-item--before) .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(odd):not(.v-timeline-item--before) .v-timeline-item__body>.v-card:not(.v-card--link):before{left:auto;right:-10px;transform:rotate(180deg)}.v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--after .v-timeline-item__body,.v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(odd):not(.v-timeline-item--before) .v-timeline-item__body{max-width:calc(50% - 30px)}.v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--before,.v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(2n):not(.v-timeline-item--after){flex-direction:row}.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--before .v-timeline-item__opposite,.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(2n):not(.v-timeline-item--after) .v-timeline-item__opposite{text-align:left}.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--before .v-timeline-item__opposite,.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(2n):not(.v-timeline-item--after) .v-timeline-item__opposite{text-align:right}.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--before .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--before .v-timeline-item__body>.v-card:not(.v-card--link):before,.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(2n):not(.v-timeline-item--after) .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(2n):not(.v-timeline-item--after) .v-timeline-item__body>.v-card:not(.v-card--link):before{left:auto;right:-10px;transform:rotate(180deg)}.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--before .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--before .v-timeline-item__body>.v-card:not(.v-card--link):before,.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(2n):not(.v-timeline-item--after) .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(2n):not(.v-timeline-item--after) .v-timeline-item__body>.v-card:not(.v-card--link):before{left:-10px;right:auto;transform:rotate(0)}.v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item--before .v-timeline-item__body,.v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse) .v-timeline-item:nth-child(2n):not(.v-timeline-item--after) .v-timeline-item__body{max-width:calc(50% - 30px)}.v-timeline-item__body>.v-card:not(.v-card--flat):after,.v-timeline-item__body>.v-card:not(.v-card--flat):not(.v-card--link):before{border-bottom:10px solid transparent;border-right:10px solid #000;border-top:10px solid transparent;content:"";position:absolute;top:calc(50% - 10px)}.v-timeline-item__body>.v-card:not(.v-card--flat):after{border-right-color:inherit}.v-timeline-item__body>.v-card:not(.v-card--flat):not(.v-card--link):before{top:calc(50% - 8px)}.v-timeline--align-top .v-timeline-item__dot{align-self:start}.v-timeline--align-top .v-timeline-item__body>.v-card:after{top:10px}.v-timeline--align-top .v-timeline-item__body>.v-card:not(.v-card--link):before{top:12px}.v-application--is-ltr .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse):before{left:calc(50% - 1px);right:auto}.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense):before,.v-application--is-rtl .v-timeline:not(.v-timeline--dense):not(.v-timeline--reverse):before{left:auto;right:calc(50% - 1px)}.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense):before{left:calc(50% - 1px);right:auto}.v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--before,.v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(odd):not(.v-timeline-item--after){flex-direction:row}.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--before .v-timeline-item__opposite,.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(odd):not(.v-timeline-item--after) .v-timeline-item__opposite{text-align:left}.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--before .v-timeline-item__opposite,.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(odd):not(.v-timeline-item--after) .v-timeline-item__opposite{text-align:right}.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--before .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--before .v-timeline-item__body>.v-card:not(.v-card--link):before,.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(odd):not(.v-timeline-item--after) .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(odd):not(.v-timeline-item--after) .v-timeline-item__body>.v-card:not(.v-card--link):before{left:auto;right:-10px;transform:rotate(180deg)}.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--before .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--before .v-timeline-item__body>.v-card:not(.v-card--link):before,.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(odd):not(.v-timeline-item--after) .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(odd):not(.v-timeline-item--after) .v-timeline-item__body>.v-card:not(.v-card--link):before{left:-10px;right:auto;transform:rotate(0)}.v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--before .v-timeline-item__body,.v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(odd):not(.v-timeline-item--after) .v-timeline-item__body{max-width:calc(50% - 30px)}.v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--after,.v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(2n):not(.v-timeline-item--before){flex-direction:row-reverse}.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--after .v-timeline-item__opposite,.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(2n):not(.v-timeline-item--before) .v-timeline-item__opposite{text-align:right}.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--after .v-timeline-item__opposite,.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(2n):not(.v-timeline-item--before) .v-timeline-item__opposite{text-align:left}.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--after .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--after .v-timeline-item__body>.v-card:not(.v-card--link):before,.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(2n):not(.v-timeline-item--before) .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(2n):not(.v-timeline-item--before) .v-timeline-item__body>.v-card:not(.v-card--link):before{left:-10px;right:auto;transform:rotate(0)}.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--after .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--after .v-timeline-item__body>.v-card:not(.v-card--link):before,.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(2n):not(.v-timeline-item--before) .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(2n):not(.v-timeline-item--before) .v-timeline-item__body>.v-card:not(.v-card--link):before{left:auto;right:-10px;transform:rotate(180deg)}.v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item--after .v-timeline-item__body,.v-timeline--reverse:not(.v-timeline--dense) .v-timeline-item:nth-child(2n):not(.v-timeline-item--before) .v-timeline-item__body{max-width:calc(50% - 30px)}.v-application--is-ltr .v-timeline--reverse.v-timeline--dense:before{left:auto;right:29px}.v-application--is-ltr .v-timeline--dense:not(.v-timeline--reverse):before,.v-application--is-rtl .v-timeline--reverse.v-timeline--dense:before{left:29px;right:auto}.v-application--is-rtl .v-timeline--dense:not(.v-timeline--reverse):before{left:auto;right:29px}.v-timeline--dense .v-timeline-item{flex-direction:row-reverse!important}.v-application--is-ltr .v-timeline--dense .v-timeline-item .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline--dense .v-timeline-item .v-timeline-item__body>.v-card:not(.v-card--link):before{left:-10px;right:auto;transform:rotate(0)}.v-application--is-rtl .v-timeline--dense .v-timeline-item .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline--dense .v-timeline-item .v-timeline-item__body>.v-card:not(.v-card--link):before{left:auto;right:-10px;transform:rotate(180deg)}.v-timeline--dense .v-timeline-item__body{max-width:calc(100% - 60px)}.v-timeline--dense .v-timeline-item__opposite{display:none}.v-timeline--reverse.v-timeline--dense .v-timeline-item{flex-direction:row!important}.v-application--is-ltr .v-timeline--reverse.v-timeline--dense .v-timeline-item .v-timeline-item__body>.v-card:after,.v-application--is-ltr .v-timeline--reverse.v-timeline--dense .v-timeline-item .v-timeline-item__body>.v-card:not(.v-card--link):before{left:auto;right:-10px;transform:rotate(180deg)}.v-application--is-rtl .v-timeline--reverse.v-timeline--dense .v-timeline-item .v-timeline-item__body>.v-card:after,.v-application--is-rtl .v-timeline--reverse.v-timeline--dense .v-timeline-item .v-timeline-item__body>.v-card:not(.v-card--link):before{left:-10px;right:auto;transform:rotate(0)}.v-timeline-item--fill-dot .v-timeline-item__inner-dot{height:inherit;margin:0;width:inherit}',""]),v.locals={},t.exports=v},1219:function(t,e,n){var content=n(1220);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("6cdeba5a",content,!0,{sourceMap:!1})},1220:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-calendar-events .v-event-timed{border:1px solid!important}.theme--light.v-calendar-events .v-event-more{background-color:#fff}.theme--light.v-calendar-events .v-event-more.v-outside{background-color:#f7f7f7}.theme--dark.v-calendar-events .v-event-timed{border:1px solid!important}.theme--dark.v-calendar-events .v-event-more{background-color:#303030}.theme--dark.v-calendar-events .v-event-more.v-outside{background-color:#202020}.v-calendar .v-event{border-radius:15px;line-height:20px;margin-right:-1px}.v-calendar .v-event,.v-calendar .v-event-more{cursor:pointer;font-size:12px;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;z-index:1}.v-calendar .v-event-more{font-weight:700}.v-calendar .v-event-timed-container{bottom:0;left:0;margin-right:10px;pointer-events:none;position:absolute;right:0;top:0}.v-calendar .v-event-timed{border-radius:15px;cursor:pointer;font-size:12px;pointer-events:all;position:absolute;text-overflow:ellipsis;white-space:nowrap}.v-calendar .v-event-summary{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.v-calendar.v-calendar-events .v-calendar-weekly__head-weekday{margin-right:-1px}.v-calendar.v-calendar-events .v-calendar-weekly__day{margin-right:-1px;overflow:visible}',""]),v.locals={},t.exports=v},1221:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-calendar-weekly{background-color:#fff;border-left:1px solid #e0e0e0;border-top:1px solid #e0e0e0}.theme--light.v-calendar-weekly .v-calendar-weekly__head-weekday{border-right:1px solid #e0e0e0;color:#000}.theme--light.v-calendar-weekly .v-calendar-weekly__head-weekday.v-past{color:rgba(0,0,0,.38)}.theme--light.v-calendar-weekly .v-calendar-weekly__head-weekday.v-outside{background-color:#f7f7f7}.theme--light.v-calendar-weekly .v-calendar-weekly__head-weeknumber{background-color:#f1f3f4;border-right:1px solid #e0e0e0}.theme--light.v-calendar-weekly .v-calendar-weekly__day{border-bottom:1px solid #e0e0e0;border-right:1px solid #e0e0e0;color:#000}.theme--light.v-calendar-weekly .v-calendar-weekly__day.v-outside{background-color:#f7f7f7}.theme--light.v-calendar-weekly .v-calendar-weekly__weeknumber{background-color:#f1f3f4;border-bottom:1px solid #e0e0e0;border-right:1px solid #e0e0e0;color:#000}.theme--dark.v-calendar-weekly{background-color:#303030;border-left:1px solid #9e9e9e;border-top:1px solid #9e9e9e}.theme--dark.v-calendar-weekly .v-calendar-weekly__head-weekday{border-right:1px solid #9e9e9e;color:#fff}.theme--dark.v-calendar-weekly .v-calendar-weekly__head-weekday.v-past{color:hsla(0,0%,100%,.5)}.theme--dark.v-calendar-weekly .v-calendar-weekly__head-weekday.v-outside{background-color:#202020}.theme--dark.v-calendar-weekly .v-calendar-weekly__head-weeknumber{background-color:#202020;border-right:1px solid #9e9e9e}.theme--dark.v-calendar-weekly .v-calendar-weekly__day{border-bottom:1px solid #9e9e9e;border-right:1px solid #9e9e9e;color:#fff}.theme--dark.v-calendar-weekly .v-calendar-weekly__day.v-outside{background-color:#202020}.theme--dark.v-calendar-weekly .v-calendar-weekly__weeknumber{background-color:#202020;border-bottom:1px solid #9e9e9e;border-right:1px solid #9e9e9e;color:#fff}.v-calendar-weekly{display:flex;flex-direction:column;height:100%;min-height:0;width:100%}.v-calendar-weekly__head{display:flex;-webkit-user-select:none;user-select:none}.v-calendar-weekly__head-weekday{flex:1 0 20px;font-size:11px;overflow:hidden;padding:0 4px;text-align:center;text-overflow:ellipsis;text-transform:uppercase;-webkit-user-select:none;user-select:none;white-space:nowrap}.v-calendar-weekly__head-weeknumber{flex:0 0 24px;position:relative}.v-calendar-weekly__week{display:flex;flex:1;height:auto;min-height:0}.v-calendar-weekly__weeknumber{display:flex;flex:0 0 24px;height:auto;min-height:0;padding-top:14.5px;text-align:center}.v-calendar-weekly__weeknumber>small{width:100%!important}.v-calendar-weekly__day{flex:1;min-width:0;overflow:hidden;padding:0;position:relative;-webkit-user-select:none;user-select:none;width:0}.v-calendar-weekly__day.v-present .v-calendar-weekly__day-month{color:currentColor}.v-calendar-weekly__day-label{box-shadow:none;cursor:pointer;margin:4px 0 0;text-align:center;-webkit-text-decoration:none;text-decoration:none;-webkit-user-select:none;user-select:none}.v-calendar-weekly__day-label .v-btn{font-size:12px;text-transform:none}.v-calendar-weekly__day-month{box-shadow:none;height:32px;left:36px;line-height:32px;position:absolute;-webkit-text-decoration:none;text-decoration:none;top:0;-webkit-user-select:none;user-select:none}',""]),v.locals={},t.exports=v},1222:function(t,e,n){var content=n(1223);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("2fdb762f",content,!0,{sourceMap:!1})},1223:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-calendar-daily{background-color:#fff;border-left:1px solid #e0e0e0;border-top:1px solid #e0e0e0}.theme--light.v-calendar-daily .v-calendar-daily__intervals-head{border-right:1px solid #e0e0e0}.theme--light.v-calendar-daily .v-calendar-daily__intervals-head:after{background:#e0e0e0;background:linear-gradient(90deg,transparent,#e0e0e0)}.theme--light.v-calendar-daily .v-calendar-daily_head-day{border-bottom:1px solid #e0e0e0;border-right:1px solid #e0e0e0;color:#000}.theme--light.v-calendar-daily .v-calendar-daily_head-day.v-past .v-calendar-daily_head-day-label,.theme--light.v-calendar-daily .v-calendar-daily_head-day.v-past .v-calendar-daily_head-weekday{color:rgba(0,0,0,.38)}.theme--light.v-calendar-daily .v-calendar-daily__intervals-body{border-right:1px solid #e0e0e0}.theme--light.v-calendar-daily .v-calendar-daily__intervals-body .v-calendar-daily__interval-text{color:#424242}.theme--light.v-calendar-daily .v-calendar-daily__day{border-bottom:1px solid #e0e0e0;border-right:1px solid #e0e0e0}.theme--light.v-calendar-daily .v-calendar-daily__day-interval{border-top:1px solid #e0e0e0}.theme--light.v-calendar-daily .v-calendar-daily__day-interval:first-child{border-top:none!important}.theme--light.v-calendar-daily .v-calendar-daily__interval:after{border-top:1px solid #e0e0e0}.theme--dark.v-calendar-daily{background-color:#303030;border-left:1px solid #9e9e9e;border-top:1px solid #9e9e9e}.theme--dark.v-calendar-daily .v-calendar-daily__intervals-head{border-right:1px solid #9e9e9e}.theme--dark.v-calendar-daily .v-calendar-daily__intervals-head:after{background:#9e9e9e;background:linear-gradient(90deg,transparent,#9e9e9e)}.theme--dark.v-calendar-daily .v-calendar-daily_head-day{border-bottom:1px solid #9e9e9e;border-right:1px solid #9e9e9e;color:#fff}.theme--dark.v-calendar-daily .v-calendar-daily_head-day.v-past .v-calendar-daily_head-day-label,.theme--dark.v-calendar-daily .v-calendar-daily_head-day.v-past .v-calendar-daily_head-weekday{color:hsla(0,0%,100%,.5)}.theme--dark.v-calendar-daily .v-calendar-daily__intervals-body{border-right:1px solid #9e9e9e}.theme--dark.v-calendar-daily .v-calendar-daily__intervals-body .v-calendar-daily__interval-text{color:#eee}.theme--dark.v-calendar-daily .v-calendar-daily__day{border-bottom:1px solid #9e9e9e;border-right:1px solid #9e9e9e}.theme--dark.v-calendar-daily .v-calendar-daily__day-interval{border-top:1px solid #9e9e9e}.theme--dark.v-calendar-daily .v-calendar-daily__day-interval:first-child{border-top:none!important}.theme--dark.v-calendar-daily .v-calendar-daily__interval:after{border-top:1px solid #9e9e9e}.v-calendar-daily{display:flex;flex-direction:column;height:100%;overflow:hidden}.v-calendar-daily__head{display:flex;flex:none}.v-calendar-daily__intervals-head{flex:none;position:relative}.v-calendar-daily__intervals-head:after{bottom:0;content:"";height:1px;left:0;position:absolute;right:0}.v-calendar-daily_head-day{flex:1 1 auto;position:relative;width:0}.v-calendar-daily_head-weekday{font-size:11px;padding:3px 0 0;text-align:center;text-transform:uppercase;-webkit-user-select:none;user-select:none}.v-calendar-daily_head-day-label{cursor:pointer;padding:0 0 3px;text-align:center;-webkit-user-select:none;user-select:none}.v-calendar-daily__body{display:flex;flex:1 1 60%;flex-direction:column;overflow:hidden;position:relative}.v-calendar-daily__scroll-area{align-items:flex-start;display:flex;flex:1 1 auto;overflow-y:scroll}.v-calendar-daily__pane{align-items:flex-start;display:flex;flex:none;overflow-y:hidden;width:100%}.v-calendar-daily__day-container{display:flex;flex:1;height:100%;width:100%}.v-calendar-daily__intervals-body{flex:none;-webkit-user-select:none;user-select:none}.v-calendar-daily__interval{border-bottom:none;padding-right:8px;position:relative;text-align:right}.v-calendar-daily__interval:after{bottom:-1px;content:"";display:block;height:1px;position:absolute;right:0;width:8px}.v-calendar-daily__interval-text{display:block;font-size:10px;padding-right:4px;position:relative;top:-6px}.v-calendar-daily__day{flex:1;position:relative;width:0}',""]),v.locals={},t.exports=v},1224:function(t,e,n){var content=n(1225);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("3f93f7d2",content,!0,{sourceMap:!1})},1225:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-calendar-category .v-calendar-category__column,.theme--light.v-calendar-category .v-calendar-category__column-header{border-right:1px solid #e0e0e0}.theme--light.v-calendar-category .v-calendar-daily__head,.theme--light.v-calendar-category .v-calendar-daily__intervals-body,.theme--light.v-calendar-category .v-calendar-daily__intervals-head{background:#fff}.theme--dark.v-calendar-category .v-calendar-category__column,.theme--dark.v-calendar-category .v-calendar-category__column-header{border-right:1px solid #9e9e9e}.theme--dark.v-calendar-category .v-calendar-daily__head,.theme--dark.v-calendar-category .v-calendar-daily__intervals-body,.theme--dark.v-calendar-category .v-calendar-daily__intervals-head{background:#303030}.v-calendar-category{overflow:auto;position:relative}.v-calendar-category .v-calendar-category__category{text-align:center}.v-calendar-category .v-calendar-daily__day-container{width:min-content}.v-calendar-category .v-calendar-daily__day-container .v-calendar-category__columns{height:100%;position:absolute;top:0;width:100%}.v-calendar-category .v-calendar-daily__day-body{display:flex;flex:1;height:100%;width:100%}.v-calendar-category .v-calendar-daily__head{flex-direction:row;min-width:100%;position:sticky;top:0;width:min-content;z-index:2}.v-calendar-category .v-calendar-daily_head-day{position:static;width:auto}.v-calendar-category .v-calendar-daily__intervals-head{left:0;position:sticky;top:0;z-index:2}.v-calendar-category .v-calendar-daily_head-weekday{left:50%;position:sticky;width:50px}.v-calendar-category .v-calendar-daily_head-day-label{left:50%;position:sticky;width:56px}.v-calendar-category .v-calendar-daily__day{min-width:200px}.v-calendar-category .v-calendar-daily__intervals-body{left:0;position:sticky;z-index:1}.v-calendar-category .v-calendar-daily__interval:last-of-type:after{display:none}.v-calendar-category .v-calendar-daily__body{overflow:visible}.v-calendar-category .v-calendar-daily__body .v-calendar-daily__scroll-area{flex:none;overflow-y:visible}.v-calendar-category .v-calendar-daily__pane{overflow-y:visible}.v-calendar-category .v-calendar-category__columns{display:flex;min-width:100%;width:min-content}.v-calendar-category .v-calendar-category__columns .v-calendar-category__column,.v-calendar-category .v-calendar-category__columns .v-calendar-category__column-header{flex:1 1 auto;position:relative;width:0}.v-calendar-category .v-calendar-category__columns .v-calendar-category__column-header{min-width:200px}',""]),v.locals={},t.exports=v},1226:function(t,e,n){var content=n(1258);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("5ae08a37",content,!0,{sourceMap:!1})},1236:function(t,e,n){"use strict";var r=n(1033),o=n(345),l=n(367),c=n(316),d=(n(386),n(9)),h=(n(58),n(89),n(5),n(13),n(923)),f=n(953),m=n(12),v=n(909),y=n(986),x=n(365),w=n(1107),k=n(368),_=n(905),O=n(900),S=n(314),M=(n(45),n(939),n(936)),C={props:{pool:{type:Object,default:function(){}},items:{type:Array,default:function(){return[]}},page:{type:[String,Number],default:1},pages:{type:[String,Number],default:1},isLoading:{type:Boolean,default:!1},totalItems:{type:[String,Number],default:0},isEditable:{type:Boolean,default:!1},isSelectable:{type:Boolean,default:!1}},methods:{toRoute:function(t){var e=Object(M.a)(t);return e&&Number.isInteger(this.pool.id)&&(e.query={ref:this.pool.id}),e},toggleSelectable:function(t){this.$store.commit("hub/toggleSelectedEntityItem",t)}}},T=n(42),E=Object(T.a)(C,(function(){var t=this,e=t._self._c;return e("div",[e(_.a,{staticClass:"mt-0"},[t.isLoading?e(k.a,{staticClass:"mx-3",attrs:{indeterminate:"",rounded:""}}):t._e(),t._v(" "),t.isLoading||0!=t.items.length?t._e():e(v.a,{staticClass:"pt-0",attrs:{cols:"12"}},[e("p",{staticClass:"text-caption text-center"},[t._v("\n        Es gibt noch keine Einträge\n      ")])]),t._v(" "),t._l(t.items,(function(n){return e(v.a,{key:n.id,staticClass:"pt-0 pb-5",attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[e(y.a,{scopedSlots:t._u([{key:"default",fn:function(r){var d=r.hover;return[e(l.a,{attrs:{elevation:d?5:2,height:"100%",disabled:!t.isEditable,to:t.toRoute(n),link:"",nuxt:""}},[n.entityImage?e(x.a,{attrs:{src:n.entityImageProxyAllowed?"".concat(n.entityImage,"/thumb/300x300"):n.entityImage,height:"200"}},[e(h.a,{staticClass:"white--text",staticStyle:{"background-color":"rgba(0,0,0, 0.3)"},attrs:{flat:""}},[e(S.a,{staticClass:"text-subtitle-1"},[e(f.a,{attrs:{inline:"",color:n.entityStatus?"success":"red",dot:""}}),t._v("\n                "+t._s(n.entityTitle)+"\n              ")],1),t._v(" "),e(O.a),t._v(" "),t.isSelectable?e(o.a,{attrs:{icon:"",color:"white"},on:{click:function(e){return e.preventDefault(),t.toggleSelectable(n)}}},[t.$store.getters["hub/isSelectedEntityItem"](n)?e(c.a,[t._v("\n                  icon icon-uncheck\n                ")]):e(c.a,[t._v("\n                  icon icon-check\n                ")])],1):t.isEditable?e(o.a,{attrs:{icon:"",color:"white",small:""}},[e(c.a,{attrs:{small:""}},[t._v("\n                  icon icon-edit\n                ")])],1):t._e()],1)],1):e("div",{staticStyle:{height:"200px"}},[e(h.a,{staticClass:"white--text rounded rounded-b-0",staticStyle:{"background-color":"rgba(0,0,0, 0.3)"},attrs:{flat:""}},[e(S.a,{staticClass:"text-subtitle-1"},[e(f.a,{attrs:{inline:"",color:n.entityStatus?"success":"red",dot:""}}),t._v("\n                "+t._s(n.entityTitle)+"\n              ")],1),t._v(" "),e(O.a),t._v(" "),t.isSelectable?e(o.a,{attrs:{icon:"",color:"white"},on:{click:function(e){return e.preventDefault(),t.toggleSelectable(n)}}},[t.$store.getters["hub/isSelectedEntityItem"](n)?e(c.a,[t._v("\n                  icon icon-uncheck\n                ")]):e(c.a,[t._v("\n                  icon icon-check\n                ")])],1):t.isEditable?e(o.a,{attrs:{icon:"",color:"white",small:""}},[e(c.a,{attrs:{small:""}},[t._v("\n                  icon icon-edit\n                ")])],1):t._e()],1)],1),t._v(" "),n.subtitle?e(m.c,{staticClass:"text-caption"},[t._v("\n            "+t._s(n.subtitle)+"\n          ")]):t._e()],1)]}}],null,!0)})],1)}))],2),t._v(" "),e("div",{staticClass:"text-center mt-5"},[e(w.a,{attrs:{value:t.page,length:t.pages,"total-visible":"8"},on:{input:function(e){return t.$emit("pageChange",e)}}}),t._v(" "),e("small",{staticClass:"text-caption"},[t._v("Total "+t._s(t.totalItems)+" Einträge")])],1)],1)}),[],!1,null,null,null).exports,P=n(1346),D=n(1010),j=n(112),A=(n(65),n(1018)),I={components:{EntityHoverAsync:A.a},props:{pool:{type:Object,default:function(){}},items:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1},isEditable:{type:Boolean,default:!1},scope:{type:[Number,String],default:0}},data:function(){return{type:"month",types:[{value:"month",text:"Monat"},{value:"week",text:"Woche"},{value:"day",text:"Tag"}],mode:"stack",modes:[{value:"stack",text:"Gestapelt"},{value:"column",text:"Spalten"}]}},computed:{events:function(){var t=[];return this.items.forEach((function(e){t.push({name:e.entityTitle,start:1e3*e.entityTimeStart,end:1e3*e.entityTimeEnd,timed:!0,item:e})})),t},monthNow:function(){return"day"==this.type?this.$moment(this.scope,"YYYY-MM-DD",!0).format("dd D, MMMM YYYY"):this.$moment(this.scope,"YYYY-MM-DD",!0).format("MMMM YYYY")}},methods:{prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},openDay:function(t){this.type="day",this.$emit("scopeChange",t.date)},goToItem:function(t){var e=t.event.item,n=Object(M.a)(e);n&&Number.isInteger(this.pool.id)&&(n.query={ref:this.pool.id}),this.$router.push(n)},scopeChanger:function(t){this.$emit("scopeChange",t)}}},N=Object(T.a)(I,(function(){var t=this,e=t._self._c;return e(l.a,{attrs:{loading:t.isLoading}},[e(j.a,{attrs:{flat:"",color:t.$vuetify.theme.dark?"grey darken-4":"grey lighten-4"}},[e(o.a,{attrs:{fab:"",small:"",color:"primary"},on:{click:t.prev}},[e(c.a,[t._v("\n        icon icon-arrow-left\n      ")])],1),t._v(" "),e(O.a),t._v(" "),e(S.a,[t._v("\n      "+t._s(t.monthNow)+"\n    ")]),t._v(" "),e(O.a),t._v(" "),e(o.a,{attrs:{fab:"",small:"",color:"primary"},on:{click:t.next}},[e(c.a,[t._v("\n        icon icon-arrow-right\n      ")])],1),t._v(" "),t.$vuetify.breakpoint.smAndUp?e(O.a):t._e(),t._v(" "),t.$vuetify.breakpoint.smAndUp?e(D.a,{attrs:{items:t.types,dense:"","hide-details":"",label:"Ansicht",outlined:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}):t._e(),t._v(" "),t.$vuetify.breakpoint.smAndUp?e(O.a):t._e(),t._v(" "),t.$vuetify.breakpoint.smAndUp?e(D.a,{attrs:{disabled:"month"==t.type,items:t.modes,dense:"","hide-details":"",label:"Darstellung",outlined:""},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}}):t._e()],1),t._v(" "),e(m.c,[e(P.a,{ref:"calendar",attrs:{color:"success","event-color":t.$vuetify.theme.dark?"grey darken-2":"grey",locale:"de-CH",weekdays:[1,2,3,4,5,6,0],value:t.scope,events:t.events,type:t.type,"event-overlap-mode":t.mode,"event-overlap-threshold":30},on:{"click:event":t.goToItem,"click:date":t.openDay,input:t.scopeChanger},scopedSlots:t._u([{key:"event",fn:function(n){var r=n.eventParsed;return[e("entity-hover-async",{attrs:{id:r.input.item.id,type:r.input.item.entityType},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e("div",t._g(t._b({staticClass:"pl-2"},"div",l,!1),o),[t._v("\n              "+t._s(r.input.name)+"\n            ")])]}}],null,!0)})]}}])})],1)],1)}),[],!1,null,null,null).exports,$=n(885),R=n(369),B=n(252),L=n(371),z=n(372),H=n(81),F={props:{pool:{type:Object,default:function(){}},items:{type:Array,default:function(){return[]}},page:{type:[String,Number],default:1},pages:{type:[String,Number],default:1},isLoading:{type:Boolean,default:!1},totalItems:{type:[String,Number],default:0},isEditable:{type:Boolean,default:!1},isSelectable:{type:Boolean,default:!1}},methods:{toRoute:function(t){var e=Object(M.a)(t);return e&&Number.isInteger(this.pool.id)&&(e.query={ref:this.pool.id}),e},toggleSelectable:function(t){this.$store.commit("hub/toggleSelectedEntityItem",t)}}},V=Object(T.a)(F,(function(){var t=this,e=t._self._c;return e("div",[e(l.a,{attrs:{loading:t.isLoading}},[e(R.a,[0!=t.items.length||t.isLoading?t._e():e(B.a,{staticClass:"text-center mb-0 pb-0"},[e(H.b,{staticClass:"text-caption"},[e("p",{staticClass:"text-center mb-0 pb-0"},[t._v("\n            Es gibt noch keine Einträge.\n          ")])])],1),t._v(" "),t._l(t.items,(function(n,r){return[e("div",{key:r},[r>0?e($.a):t._e(),t._v(" "),e(B.a,{attrs:{disabled:!t.isEditable,to:t.toRoute(n),nuxt:"",link:""}},[t.isSelectable?e(L.a,{staticClass:"mr-5"},[e(o.a,{attrs:{icon:""},on:{click:function(e){return e.preventDefault(),t.toggleSelectable(n)}}},[t.$store.getters["hub/isSelectedEntityItem"](n)?e(c.a,[t._v("\n                  icon icon-uncheck\n                ")]):e(c.a,[t._v("\n                  icon icon-check\n                ")])],1)],1):t._e(),t._v(" "),e(z.a,{staticClass:"mr-5",attrs:{color:t.$auth.activeOrganisationColor,size:"50"}},[n.entityImage?e(x.a,{attrs:{src:n.entityImageProxyAllowed?"".concat(n.entityImage,"/thumb/300x300"):n.entityImage}}):e("span",{staticClass:"white--text"},[t._v("\n                "+t._s(t.$organisation.avatarify(n.entityTitle))+"\n              ")])],1),t._v(" "),e(H.b,[e(H.d,[e(f.a,{staticClass:"pa-0 ma-0",attrs:{inline:"",color:n.entityStatus?"success":"red",dot:""}},[t._v("\n                  "+t._s(n.entityTitle)+"\n                ")])],1),t._v(" "),n.subtitle?e(H.c,{staticClass:"text-caption"},[t._v("\n                "+t._s(n.subtitle)+"\n              ")]):t._e()],1),t._v(" "),e(L.a,[t.isEditable?e(o.a,{attrs:{icon:""}},[e(c.a,[t._v("icon icon-edit")])],1):e("small",{staticClass:"text-caption"},[t._v("Bearbeiten nicht möglich")])],1)],1)],1)]}))],2)],1),t._v(" "),t.isLoading?t._e():e("div",{staticClass:"text-center mt-7"},[e(w.a,{attrs:{value:t.page,length:t.pages,"total-visible":"8"},on:{input:function(e){return t.$emit("pageChange",e)}}}),t._v(" "),e("small",{staticClass:"text-caption"},[t._v("Total "+t._s(t.totalItems)+" Einträge")])],1)],1)}),[],!1,null,null,null).exports,W=n(374),Y=n(211),U=n(1331),K=(n(124),n(151),n(1025)),J=(n(14),n(55),{props:{filter:{type:Object,default:function(){}}},data:function(){return{menu:!1,model:null,items:[],searchQuery:"",loading:!1}},watch:{searchQuery:function(t){t&&this.loadData(t)}},methods:{sendEvent:function(t){t?this.$emit("changed","".concat(this.filter.relationFilterName,"=").concat(t.entityId)):this.$emit("removed")},loadData:function(t){var e=this;this.loading=!0,this.$axios.get(this.filter.api+"?expand=entityTitle,entityId&fields=id&search="+t).then((function(t){e.items=t.data,e.loading=!1}))}}}),G={components:{PoolEntitiesSortToolbarFilter:Object(T.a)(J,(function(){var t=this;return(0,t._self._c)(K.a,{staticClass:"mx-1",attrs:{loading:t.loading,"search-input":t.searchQuery,items:t.items,"item-text":"entityTitle","item-value":"entityId",solo:"",dense:"","single-line":"","hide-details":"","cache-items":"",label:t.filter.label,"return-object":"",clearable:"",flat:""},on:{"update:searchInput":function(e){t.searchQuery=e},"update:search-input":function(e){t.searchQuery=e},input:t.sendEvent,focus:function(e){return t.loadData("")}},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})}),[],!1,null,null,null).exports},props:{listType:{type:[String,Number],default:""},sort:{type:[String,Number],default:0},pool:{type:Object,default:function(){}},filters:{type:Array,default:function(){return[]}},isDeletable:{type:Boolean,default:!1}},data:function(){return{menu:!1,selectableBottomSheet:!1,activeFilters:[],sorts:[{value:"-id",label:"Neu zu Alt",icon:"icon-sort-descending"},{value:"id",label:"Alt zu Neu",icon:"icon-sort-ascending"},{value:"title",label:"A-Z",icon:"icon-sort-alpha-asc"},{value:"-title",label:"Z-A",icon:"icon-sort-alpha-desc"},{value:"-updated_at",label:"Zuletzt aktualisiert",icon:"icon-clock"}]}},computed:{buttonLabel:function(){var t=this;return this.sorts.find((function(i){return i.value==t.sort})).label},buttonIcon:function(){var t=this;return this.sorts.find((function(i){return i.value==t.sort})).icon}},methods:{toggleDeleteBottomSheet:function(){this.selectableBottomSheet=!this.selectableBottomSheet,this.$emit("toggleSelectableBottomSheet",this.selectableBottomSheet)},applyFilter:function(t,e){this.activeFilters[e]={param:t},this.$emit("filtersUpdate",this.activeFilters)},removeFilter:function(t){this.activeFilters.splice(t,1),this.$emit("filtersUpdate",this.activeFilters)},switchSort:function(t){this.$emit("changeSort",t)},goToList:function(t){this.$emit("goToList",t)}}},X=Object(T.a)(G,(function(){var t=this,e=t._self._c;return e(j.a,{attrs:{color:"transparent",flat:""}},[e(o.a,{attrs:{icon:"",color:0==t.listType?"primary":"grey"},on:{click:function(e){return t.goToList(0)}}},[e(c.a,[t._v("\n      icon icon-grid\n    ")])],1),t._v(" "),e(o.a,{attrs:{icon:"",color:1==t.listType?"primary":"grey"},on:{click:function(e){return t.goToList(1)}}},[e(c.a,[t._v("\n      icon icon-list\n    ")])],1),t._v(" "),t.pool.typeEntity&&t.pool.typeEntity.isTimeEntity?e(o.a,{attrs:{icon:"",color:2==t.listType?"primary":"grey"},on:{click:function(e){return t.goToList(2)}}},[e(c.a,[t._v("\n      icon icon-eventdate\n    ")])],1):t._e(),t._v(" "),e(O.a),t._v(" "),t._l(t.filters,(function(filter,n){return e("pool-entities-sort-toolbar-filter",{key:n,attrs:{filter:filter},on:{changed:function(e){return t.applyFilter(e,n)},removed:function(e){return t.removeFilter(n)}}})})),t._v(" "),e(O.a),t._v(" "),t.isDeletable&&t.$vuetify.breakpoint.mdAndUp?e(o.a,{staticClass:"mr-3",attrs:{small:"",text:""},on:{click:t.toggleDeleteBottomSheet}},[0==t.$store.state.hub.selectedEntityItems.length?e(c.a,{attrs:{left:"",small:""}},[t._v("\n      icon icon-multi-select-clear\n    ")]):e(c.a,{attrs:{left:"",small:""}},[t._v("\n      icon icon-multi-select\n    ")]),t._v("\n    Auswählen\n  ")],1):t._e(),t._v(" "),2!=t.listType?e(U.a,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({attrs:{text:"",icon:!t.$vuetify.breakpoint.mdAndUp,small:""}},"v-btn",l,!1),r),[e(c.a,{attrs:{small:"",left:""}},[t._v("\n          icon "+t._s(t.buttonIcon)+"\n        ")]),t._v(" "),t.$vuetify.breakpoint.mdAndUp?e("span",[t._v("\n          "+t._s(t.buttonLabel)+"\n          "),t.menu?e(c.a,{attrs:{right:""}},[t._v("\n            icon icon-arrow-up\n          ")]):e(c.a,{attrs:{right:""}},[t._v("\n            icon icon-arrow-down\n          ")])],1):t._e()],1)]}}],null,!1,4294460454),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e(R.a,{attrs:{dense:""}},[e(W.a,{attrs:{value:t.sort}},t._l(t.sorts,(function(i){return e(B.a,{key:i.value,attrs:{value:i.value},on:{click:function(e){return t.switchSort(i.value)}}},[e(Y.a,[e(c.a,{attrs:{small:""}},[t._v("\n              icon "+t._s(i.icon)+"\n            ")])],1),t._v(" "),e(H.b,[e(H.d,[t._v(t._s(i.label))])],1)],1)})),1)],1)],1):t._e()],2)}),[],!1,null,null,null).exports,Z=n(886),Q=n(884),tt=n(1141),et=n(218),nt=n(1109).a,it=Object(T.a)(nt,(function(){var t=this,e=t._self._c;return e(l.a,[e("modal-toolbar",{attrs:{title:"Eintrag für ".concat(t.stream.title," hinzufügen"),"data-cy":"streamAddClose"},on:{close:function(e){return t.$emit("close",!0)}}}),t._v(" "),e(m.b,{staticClass:"mt-0"},t._l(t.stream.entityTypes,(function(n){return e(Z.a,{key:n.id,staticClass:"mx-1",attrs:{small:""}},[t._v("\n      "+t._s(n.name)+"\n    ")])})),1),t._v(" "),e(m.c,{staticClass:"pb-0"},[e(et.a,{attrs:{autofocus:"",solo:"",label:"Suchbegriff eingeben...",loading:t.isLoading,"error-messages":t.errors,"prepend-inner-icon":"icon icon-search","data-cy":"streamAddSearchTextfield"},on:{input:function(e){t.emptyList=!1}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}})],1),t._v(" "),!t.isLoading&&t.emptyList?e(m.c,{staticClass:"text-caption"},[t._v("\n    Es wurden keine Einträge für "),e("b",[t._v(t._s(t.query))]),t._v(" gefunden. Bitte passe deine Suchbegriffe an.\n  ")]):t._e(),t._v(" "),t.results.length>0?e(R.a,t._l(t.results,(function(n,r){return e("div",{key:n.entity},[e(B.a,[n.image?e(z.a,[e(x.a,{attrs:{src:n.image}})],1):t._e(),t._v(" "),e(H.b,[e(H.d,[e(f.a,{staticClass:"pa-0 ma-0",attrs:{inline:"",color:n.online?"success":"red",dot:"",left:""}},[t._v("\n              "+t._s(n.title)+"\n            ")]),t._v(" "),e(Z.a,{staticClass:"ma-0 px-2 py-0 ml-1",attrs:{label:"",outlined:"","x-small":""}},[t._v("\n              "+t._s(n.typeLabel)+"\n            ")])],1),t._v(" "),n.extra?e(H.c,[t._v("\n            "+t._s(n.extra)+"\n          ")]):t._e()],1),t._v(" "),e(L.a,[e(U.a,{attrs:{"offset-x":"","offset-y":"","max-width":"450","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(r){var l=r.on,d=r.attrs;return[e(o.a,t._g(t._b({attrs:{color:n.scheduleadded?"success":"",text:"",small:"","data-cy":"streamAddPlanButton"}},"v-btn",d,!1),l),[e(c.a,{attrs:{left:""}},[t._v("\n                  icon icon-clock\n                ")]),t._v("\n                Planen\n              ")],1)]}}],null,!0),model:{value:n.overlay,callback:function(e){t.$set(n,"overlay",e)},expression:"result.overlay"}},[t._v(" "),e("stream-item-schedule-insert",{attrs:{"entity-id":n.id,"entity-type":n.type,"stream-id":t.id},on:{scheduleditem:function(e){return t.insertScheduled(n)},close:function(t){n.overlay=!1}}})],1)],1),t._v(" "),e(L.a,[e(o.a,{attrs:{loading:n.isLoading,small:"",text:"",color:n.added?"success":"","data-cy":"streamAddInstantlyButton"},on:{click:function(e){return t.insertNow(n)}}},[n.added?e(c.a,{attrs:{left:""}},[t._v("\n              icon icon-check\n            ")]):e(c.a,{attrs:{left:""}},[t._v("\n              icon icon-add\n            ")]),t._v("\n\n            Sofort\n          ")],1)],1)],1),t._v(" "),r!=t.results.length-1?e($.a):t._e()],1)})),0):t._e(),t._v(" "),t.recentEntiresSuggestion.length>0?e("div",[e(tt.a,[t._v("Vorschläge aus dem Arbeitsverlauf")]),t._v(" "),e(R.a,{staticClass:"mt-0 pt-0",attrs:{dense:""}},t._l(t.recentEntiresSuggestion,(function(n){return e("div",{key:n.id},[e($.a),t._v(" "),e(B.a,[n.image?e(z.a,[e(x.a,{attrs:{src:n.image}})],1):t._e(),t._v(" "),e(H.b,[e(H.d,[t._v("\n              "+t._s(n.title)+"\n              "),e(Z.a,{staticClass:"ma-0 px-2 py-0 ml-1",attrs:{label:"",outlined:"","x-small":""}},[t._v("\n                "+t._s(n.typeLabel)+"\n              ")])],1)],1),t._v(" "),e(L.a,[e(U.a,{attrs:{"offset-x":"","offset-y":"","max-width":"450","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(r){var l=r.on,d=r.attrs;return[e(o.a,t._g(t._b({attrs:{color:n.scheduleadded?"success":"",text:"",small:""}},"v-btn",d,!1),l),[e(c.a,{attrs:{left:""}},[t._v("\n                    icon icon-clock\n                  ")]),t._v("\n                  Planen\n                ")],1)]}}],null,!0),model:{value:n.overlay,callback:function(e){t.$set(n,"overlay",e)},expression:"result.overlay"}},[t._v(" "),e("stream-item-schedule-insert",{attrs:{"entity-id":n.id,"entity-type":n.type,"stream-id":t.id},on:{scheduleditem:function(e){return t.insertScheduled(n)},close:function(t){n.overlay=!1}}})],1)],1),t._v(" "),e(L.a,[e(o.a,{attrs:{loading:n.isLoading,small:"",text:"",color:n.added?"success":""},on:{click:function(e){return t.insertNow(n)}}},[n.added?e(c.a,{attrs:{left:""}},[t._v("\n                icon icon-check\n              ")]):e(c.a,{attrs:{left:""}},[t._v("\n                icon icon-add\n              ")]),t._v("\n\n              Sofort\n            ")],1)],1)],1)],1)})),0)],1):t._e()],1)}),[],!1,null,null,null).exports,ot=n(987),st=n.n(ot),at=n(1177),lt=n(996),ct=n(1110).a,ut=Object(T.a)(ct,(function(){var t=this,e=t._self._c;return e(l.a,{attrs:{loading:t.isLoading}},[e("modal-toolbar",{attrs:{title:"Automation",icon:"triggers","data-cy":"triggersOverlayClose"},on:{close:function(e){return t.closeAndClear()}}}),t._v(" "),t.items.length>0?e(m.b,{staticClass:"mt-0"},[t._v("\n    Die Sichtbarkeit dieses Eintrags wurde mit folgenden Triggers automatisieren.\n  ")]):t._e(),t._v(" "),t.items.length>0?e(m.c,t._l(t.items,(function(n){return e(l.a,{key:n.id,staticClass:"mb-4",attrs:{outlined:""}},[e(m.d,{staticClass:"text-subtitle-1"},[e(c.a,{attrs:{left:""}},[t._v("\n          icon icon-"+t._s(n.trigger)+"\n        ")]),t._v("\n        "+t._s(n.stringify)+"\n      ")],1),t._v(" "),n.last_activity_json&&n.last_activity_json.stringify?e(m.b,{staticClass:"text-caption"},[t._v("\n        "+t._s(t.$moment(1e3*n.last_activity_json.time).fromNow())+": "+t._s(n.last_activity_json.stringify)+"\n      ")]):t._e(),t._v(" "),e(m.c,t._l(n.on_condition_json,(function(n,r){return e(H.c,{key:r,staticClass:"pt-3"},[e(et.a,{attrs:{dense:"",outlined:"",label:"Wenn ".concat(n[1]," ").concat(n[0]),"hide-details":""},model:{value:n[2],callback:function(e){t.$set(n,2,e)},expression:"cfg[2]"}})],1)})),1),t._v(" "),e(m.a,[e(o.a,{attrs:{text:""},on:{click:function(e){return t.update(n)}}},[e(c.a,{attrs:{left:""}},[t._v("\n            icon icon-save\n          ")]),t._v("\n          Speichern\n        ")],1),t._v(" "),e(O.a),t._v(" "),e(o.a,{attrs:{text:""},on:{click:function(e){return t.remove(n)}}},[e(c.a,{attrs:{left:""}},[t._v("\n            icon icon-delete\n          ")]),t._v("\n          Löschen\n        ")],1)],1)],1)})),1):t._e(),t._v(" "),t.items.length>0?e($.a,{staticClass:"mb-5"}):t._e(),t._v(" "),e(m.b,[t._v("\n    Füge eine Trigger-Automation für diesen Eintrag hinzu, um den Eintrag je nach Status des Triggers (zum Beispiel Wochentag, Uhrzeit oder Wetter) aus- oder einzublenden. Mithilfe von Trigger-Automationen kannst du die Anzeige von Inhalten auf zum Beispiel Webseiten oder Digital Signage Screens automatisiert steuern.\n  ")]),t._v(" "),e(m.c,[e(D.a,{attrs:{dense:"",outlined:"",label:"Trigger wählen",items:t.triggers,"item-value":"trigger","item-text":"label","return-object":"","hide-details":"","data-cy":"streamItemTriggerInput"},model:{value:t.trigger,callback:function(e){t.trigger=e},expression:"trigger"}}),t._v(" "),t.trigger?e("div",[t.trigger.configAttributes.length>0?e(tt.a,[t._v("\n        Konfiguration\n      ")]):t._e(),t._v(" "),t._l(t.trigger.configAttributes,(function(n){return e(et.a,{key:n.identifier,attrs:{label:n.label,dense:"",outlined:"","hide-details":"","data-cy":"streamItemCityTextfield"},model:{value:t.config[n.identifier],callback:function(e){t.$set(t.config,n.identifier,e)},expression:"config[configAttribute.identifier]"}})})),t._v(" "),e(U.a,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({staticClass:"my-5",attrs:{block:"",disabled:t.isTriggerButtonDisabled,small:"","data-cy":"streamItemConditionButton"}},"v-btn",l,!1),r),[e(c.a,{attrs:{left:""}},[t._v("\n              icon icon-add\n            ")]),t._v('\n            "Wenn"-Kondition einfügen\n          ')],1)]}}],null,!1,3497717759)},[t._v(" "),e(R.a,t._l(t.trigger.conditionAttributes,(function(n){return e(B.a,{key:n.identifier,attrs:{"data-cy":n.identifier},on:{click:function(e){return t.addCondition(n)}}},[e(H.d,[t._v(t._s(n.label))])],1)})),1)],1),t._v(" "),t._l(t.conditions,(function(n){return e(_.a,{key:n.identifier},[e(v.a,{attrs:{cols:"4"}},[e(D.a,{attrs:{dense:"",outlined:"",label:"Wenn ".concat(n.attribute.label),items:n.attribute.operators,"hide-details":"","data-cy":n.attribute.label},model:{value:n.op,callback:function(e){t.$set(n,"op",e)},expression:"condition.op"}})],1),t._v(" "),n.op?e(v.a,{attrs:{cols:"8"}},["dropdown"==n.attribute.type?e(D.a,{attrs:{items:n.attribute.items,dense:"",outlined:"","hide-details":"","data-cy":"streamItemAutomationDropdown"},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"condition.value"}}):"checkboxList"==n.attribute.type?e(D.a,{attrs:{items:n.attribute.items,dense:"",outlined:"",multiple:"","hide-details":"","data-cy":"streamItemAutomationDropdown"},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"condition.value"}}):e(et.a,{attrs:{dense:"",outlined:"","hide-details":"","data-cy":"streamItemAutomationTextfield"},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"condition.value"}})],1):t._e()],1)}))],2):t._e()],1),t._v(" "),t.conditions.length>0?e("modal-footer",{attrs:{disabled:t.isSubmitDisabled,saving:t.isSaving,"data-cy":"streamItemSaveButton"},on:{click:function(e){return t.save()}}}):t._e()],1)}),[],!1,null,null,null).exports,pt=n(1007),ht={components:{StreamAdd:it,draggable:st.a,StreamItemScheduleRemoval:at.a,DeleteConfirm:lt.a,StreamItemTrigger:ut,UserProfileBadge:pt.a,EntityHoverAsync:A.a},props:{items:{type:Array,default:function(){return[]}},triggers:{type:Array,default:function(){return[]}},timetable:{type:Array,default:function(){return[]}},pool:{type:Object,required:!0},addButton:{type:Boolean,default:!0},deleteButton:{type:Boolean,default:!0},reorderButton:{type:Boolean,default:!0},automationButton:{type:Boolean,default:!0},isLoading:{type:Boolean,default:!0}},data:function(){return{stream:!1,menu:null,isDisabled:!1}},fetch:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.pool.type){e.next=5;break}return e.next=3,t.$axios("pools/"+t.pool.id+"/entity?expand=entityTypes.name");case 3:n=e.sent,t.stream=n.data;case 5:case"end":return e.stop()}}),e)})))()},computed:{loader:function(){return this.isLoading||this.isDisabled},maxItemsIndex:function(){var t=this.pool.typeEntity.max_items;return this.items.forEach((function(e,n){e.is_visible&&e.entityStatus||!(n<t)||t++})),t-1},itemsWithTimetable:function(){var t=this;return this.items.map((function(e){e.upcoming_removals=t.timetable.filter((function(t){var n="schemarow"==t.entityType?"schema":t.entityType;return"remove"==t.action&&n==e.entityType&&t.entityId==e.entityId}))})),this.items}},methods:{extractRoute:function(t){var e=Object(M.a)(t);e&&Number.isInteger(this.pool.id)&&(e.query={ref:this.pool.id}),this.$router.push(e)},onEnd:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isDisabled=!0,n=t.items.map((function(t,e){return{id:t.id,index:e}})),e.next=4,t.$axios.put("streams/"+t.pool.type_pk_id+"/reorder",n);case 4:t.isDisabled=!1;case 5:case"end":return e.stop()}}),e)})))()},closeAndRefresh:function(t){this.isDisabled=!0,t.triggers=!1,this.blockForceAndReload()},scheduledItem:function(){this.isDisabled=!0,this.blockForceAndReload()},remove:function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.isDisabled=!0,n.next=3,e.$axios.delete("pools/"+e.pool.id+"/entity/"+t.id);case 3:e.blockForceAndReload();case 4:case"end":return n.stop()}}),n)})))()},blockForceAndReload:function(){this.$emit("refetch"),this.$emit("fetchPoolInfos"),this.isDisabled=!1},newEntry:function(){this.isDisabled=!0,this.$emit("refetch"),this.$emit("fetchPoolInfos"),this.isDisabled=!1},hasActiveTrigger:function(t){return this.triggers.find((function(e){return t.id==e.id}))}}},ft={components:{PoolEntitiesGrid:E,PoolEntitiesCalendar:N,PoolEntitiesList:V,PoolEntitiesSortToolbar:X,PoolEntitiesStream:Object(T.a)(ht,(function(){var t=this,e=t._self._c;return e(l.a,{attrs:{loading:t.loader,disabled:t.isDisabled}},[e(h.a,{attrs:{flat:""}},[e(S.a,[t._v("Einträge")]),t._v(" "),e(O.a),t._v(" "),t.addButton?e(Q.a,{attrs:{"max-width":"800px",width:"100%"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({attrs:{"data-cy":"poolEntitiesAddNewButton"}},"v-btn",l,!1),r),[e(c.a,{attrs:{left:""}},[t._v("\n            icon icon-add\n          ")]),t._v("\n          Hinzufügen\n        ")],1)]}}],null,!1,108355431),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),t.menu&&t.stream?e("stream-add",{attrs:{id:t.pool.type_pk_id,visible:t.menu,stream:t.stream},on:{close:function(e){t.menu=!1},newitem:t.newEntry,scheduleditem:t.scheduledItem}}):t._e()],1):t._e()],1),t._v(" "),0==t.items.length?e(m.c,{staticClass:"pb-0"},[t._v('\n    Es gibt noch keine Einträge in diesem Content Pool. Klicke auf "Hinzufügen", um einen Eintrag direkt oder zeitversetzt hinzuzfügen.\n  ')]):t._e(),t._v(" "),e(R.a,{attrs:{"data-cy":"poolEntitiesContent"}},[e("draggable",{attrs:{list:t.itemsWithTimetable,handle:".handle","data-cy":t.items.id},on:{end:t.onEnd}},t._l(t.itemsWithTimetable,(function(n,r){var l;return e("div",{key:r},[e(B.a,[t.$vuetify.breakpoint.mdAndUp&&n.entityImage?e(z.a,{attrs:{size:"45"}},[e(x.a,{attrs:{src:"".concat(n.entityImage,"/thumb/300x300")}})],1):t._e(),t._v(" "),e(H.b,[e(H.d,[e("div",[n.is_visible?e(f.a,{attrs:{inline:"",color:n.entityStatus?"success":"red",dot:"",left:"","data-cy":n.entityStatus}}):e(Z.a,{attrs:{dot:"",left:"",small:"","data-cy":"poolEntitiesDeactivatedBadge",label:"",outlined:""}},[e(f.a,{attrs:{inline:"",color:"red",dot:""}}),t._v("\n                  Deaktiviert durch Automation\n                ")],1),t._v(" "),e("entity-hover-async",{attrs:{id:n.entityId,type:n.entityType},scopedSlots:t._u([{key:"activator",fn:function(r){var o=r.on,l=r.attrs;return[e("a",t._g(t._b({on:{click:function(e){return t.extractRoute(n)}}},"a",l,!1),o),[t._v(t._s(n.entityTitle))])]}}],null,!0)}),t._v(" "),!t.pool.is_single_entity_type&&t.$vuetify.breakpoint.mdAndUp?e(Z.a,{staticClass:"ml-2",attrs:{small:""}},[t._v("\n                  "+t._s(n.entityTypeLabel)+"\n                ")]):t._e()],1)]),t._v(" "),n.subtitle?e(H.c,{staticClass:"text-caption"},[t._v("\n              "+t._s(n.subtitle)+"\n            ")]):t._e()],1),t._v(" "),e(H.a,{staticClass:"mx-2"},[t.reorderButton&&t.$vuetify.breakpoint.smAndUp?e(o.a,{staticClass:"handle",attrs:{icon:"","data-cy":"poolEntitiesReorderButton"}},[e(c.a,[t._v("\n                icon icon-reorder\n              ")])],1):t._e(),t._v(" "),t.automationButton&&t.$vuetify.breakpoint.smAndUp?e(Q.a,{attrs:{"max-width":"800px",width:"100%"},scopedSlots:t._u([{key:"activator",fn:function(r){var l=r.on,d=r.attrs;return[e(o.a,t._g(t._b({attrs:{icon:"",color:t.hasActiveTrigger(n)?"green":"","data-cy":"poolEntitiesTriggerButton"}},"v-btn",d,!1),l),[e(c.a,[t._v("\n                    icon icon-triggers\n                  ")])],1)]}}],null,!0),model:{value:n.triggers,callback:function(e){t.$set(n,"triggers",e)},expression:"entity.triggers"}},[t._v(" "),n.triggers?e("stream-item-trigger",{attrs:{id:n.id},on:{close:function(e){return t.closeAndRefresh(n)},save:function(e){return t.$emit("fetchPoolInfos")}}}):t._e()],1):t._e(),t._v(" "),t.deleteButton&&t.$vuetify.breakpoint.smAndUp?e(U.a,{attrs:{"close-on-content-click":!1,"offset-x":"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({attrs:{icon:"","data-cy":"poolEntitiesClockButton"}},"v-btn",l,!1),r),[e(c.a,[t._v("\n                    icon icon-clock\n                  ")])],1)]}}],null,!0),model:{value:n.overlay,callback:function(e){t.$set(n,"overlay",e)},expression:"entity.overlay"}},[t._v(" "),n.overlay?e("stream-item-schedule-removal",{attrs:{id:n.id,"stream-id":t.pool.type_pk_id},on:{scheduleditem:t.scheduledItem,close:function(t){n.overlay=!1}}}):t._e()],1):t._e(),t._v(" "),t.deleteButton?e("delete-confirm",{attrs:{title:n.entityTitle,label:"Entfernen",badge:n.upcoming_removals.length},on:{delete:function(e){return t.remove(n)}},scopedSlots:t._u([{key:"button",fn:function(){return[e(c.a,[t._v("icon icon-remove")])]},proxy:!0}],null,!0)},[e(m.c,[t._v("Diesen Eintrag jetzt aus dem Content Pool "),e("b",[t._v(t._s(t.pool.name))]),t._v(" entfernen. Diese Aktion kann nicht rückgängig gemacht werden.")])],1):t._e()],1),t._v(" "),n.createdBy&&t.$vuetify.breakpoint.lgAndUp?e(H.a,{staticClass:"px-3",staticStyle:{"border-left":"1px solid #F0F0F0"}},[e("user-profile-badge",{attrs:{"user-id":(null===(l=n.createdBy)||void 0===l?void 0:l.id)||-1,label:n.createdBy?"".concat(n.createdBy.firstname," ").concat(n.createdBy.lastname):"",dense:""}})],1):t._e(),t._v(" "),n.createdBy&&t.$vuetify.breakpoint.lgAndUp?e(H.a,{attrs:{title:"Hinzugefügt am ".concat(t.$moment(1e3*n.created_at).format("DD.MM.YYYY [um] HH:mm")," von ").concat(n.createdBy.firstname," ").concat(n.createdBy.lastname)}},[t._v("\n            "+t._s(t.$moment(1e3*n.created_at).format("DD.MM.YY"))+"\n          ")]):t._e()],1),t._v(" "),r!=t.items.length-1?e($.a,{class:{"red lighten-1":r==t.maxItemsIndex}}):t._e()],1)})),0)],1)],1)}),[],!1,null,null,null).exports},props:{pool:Object,triggers:{type:Array,default:function(){return[]}},timetable:{type:Array,default:function(){return[]}},addButton:{type:Boolean,default:!0},deleteButton:{type:Boolean,default:!0},reorderButton:{type:Boolean,default:!0},automationButton:{type:Boolean,default:!0}},data:function(){var t,e;return{isLoading:!0,selectableBottomSheet:!1,items:[],totalItems:0,filtersToParam:"",sort:(null===(t=this.$route.query)||void 0===t?void 0:t.sort)||"-id",page:(null===(e=this.$route.query)||void 0===e?void 0:e.page)||1,scope:this.$moment().format("YYYY-MM-DD"),pages:0}},fetch:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:case"end":return e.stop()}}),e)})))()},computed:{isEditable:function(){return 1==this.pool.poolUserRef.can_update&&!this.pool.is_readonly},isDeletable:function(){return 2==this.pool.type&&1==this.pool.poolUserRef.can_delete&&!this.pool.is_readonly&&"schema"==this.pool.typeEntity.table_type}},watch:{selectableBottomSheet:function(){var t=this;this.$nextTick((function(){t.$refs.sheet.showScroll()}))}},created:function(){var t=this;this.$nuxt.$on("queueDone",(function(e){t.fetchData()}))},beforeDestroy:function(){this.$store.commit("hub/clearSelectedEntityItem"),this.$nuxt.$off("queueDone")},methods:{moveSelectedEntityItemsToTrash:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.selectableBottomSheet=!1,e.next=3,t.$axios.post("schemas/"+t.pool.typeEntity.table_type_pk_id+"/trash",t.$store.state.hub.selectedEntityItems);case 3:n=e.sent,t.$store.commit("hub/clearSelectedEntityItem"),t.$store.dispatch("successQueue/start",{id:n.data.lastQueueId,title:"Inhalte in den Papierkorb verschoben",closeOnly:!0});case 6:case"end":return e.stop()}}),e)})))()},filtersUpdate:function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="",t.forEach((function(t){r=r+"&"+t.param})),e.filtersToParam=r,n.next=5,e.fetchData();case 5:case"end":return n.stop()}}),n)})))()},goToList:function(t){var e=this;return Object(d.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t==e.pool.default_display_type){n.next=5;break}return e.pool.default_display_type=t,e.items=[],n.next=5,e.fetchData();case 5:case"end":return n.stop()}}),n)})))()},changeSort:function(t){this.sort=t,this.page=1,this.$router.push({path:this.$router.path,query:{page:this.page,sort:this.sort}}),this.fetchData()},changePage:function(t){this.page!=t&&(this.$router.push({path:this.$router.path,query:{page:t,sort:this.sort}}),this.page=t,this.$fetch())},changeScope:function(t){this.scope=t,this.fetchData()},fetchData:function(){var t=this;return Object(d.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="entityTitle,entityImage,entityStatus,entityId,entityType,entityImageProxyAllowed",1==t.pool.type?n+=",entityTypeLabel,entityTimeStart,createdBy,subtitle":n+=",entityTimeStart,entityTimeEnd",t.isLoading=!0,e.next=5,t.$axios("pools/"+t.pool.id+"/entities?expand="+n+t.filtersToParam+"&fields=id,subtitle,is_visible,created_at&per-page=24&page="+t.page+"&scope="+t.scope+"&type="+t.pool.default_display_type+"&sort="+t.sort);case 5:r=e.sent,t.items=r.data.map((function(t){return t.triggers=!1,t.upcoming_removals=0,t})),r.headers.hasOwnProperty("x-pagination-current-page")&&(t.page=+r.headers["x-pagination-current-page"]),r.headers.hasOwnProperty("x-pagination-page-count")&&(t.pages=+r.headers["x-pagination-page-count"]),r.headers.hasOwnProperty("x-pagination-total-count")&&(t.totalItems=r.headers["x-pagination-total-count"]),t.isLoading=!1;case 11:case"end":return e.stop()}}),e)})))()}}},mt=Object(T.a)(ft,(function(){var t=this,e=t._self._c;return e("div",[2==t.pool.type?e("pool-entities-sort-toolbar",{attrs:{sort:t.sort,pool:t.pool,"list-type":t.pool.default_display_type,filters:t.pool.relationFilters,"is-deletable":t.isDeletable},on:{changeSort:t.changeSort,goToList:t.goToList,filtersUpdate:t.filtersUpdate,toggleSelectableBottomSheet:function(e){t.selectableBottomSheet=e}}}):t._e(),t._v(" "),t.pool&&2==t.pool.type&&0==t.pool.default_display_type?e("pool-entities-grid",{attrs:{pool:t.pool,items:t.items,page:t.page,pages:t.pages,"is-loading":t.isLoading,sort:t.sort,"total-items":t.totalItems,"is-editable":t.isEditable,"is-deletable":t.isDeletable,"is-selectable":t.selectableBottomSheet&&t.isDeletable},on:{pageChange:t.changePage}}):t.pool&&2==t.pool.type&&1==t.pool.default_display_type?e("pool-entities-list",{attrs:{pool:t.pool,items:t.items,page:t.page,pages:t.pages,"is-loading":t.isLoading,sort:t.sort,"total-items":t.totalItems,"is-editable":t.isEditable,"is-deletable":t.isDeletable,"is-selectable":t.selectableBottomSheet&&t.isDeletable},on:{pageChange:t.changePage}}):t.pool&&2==t.pool.type&&2==t.pool.default_display_type&&t.pool.typeEntity.isTimeEntity?e("pool-entities-calendar",{attrs:{pool:t.pool,items:t.items,scope:t.scope,"is-loading":t.isLoading},on:{scopeChange:t.changeScope}}):t.pool&&1==t.pool.type?e("pool-entities-stream",{attrs:{pool:t.pool,items:t.items,scope:t.scope,"is-loading":t.isLoading,triggers:t.triggers,timetable:t.timetable},on:{fetchPoolInfos:function(e){return t.$emit("fetchPoolInfos")},refetch:t.$fetch}}):t._e(),t._v(" "),e(r.a,{ref:"sheet",attrs:{inset:"","hide-overlay":"",persistent:"","no-click-animation":"","retain-focus":!1,"max-width":"800"},model:{value:t.selectableBottomSheet,callback:function(e){t.selectableBottomSheet=e},expression:"selectableBottomSheet"}},[e(l.a,{attrs:{tile:""}},[e("div",{staticClass:"pa-4"},[e("div",{staticClass:"text-center text-caption mb-3"},[t._v("\n          Markierte Inhalte werden aus dem Content Editor sowie allen Content Pools gelöscht und in den Papierkorb verschoben. Dort können sie für 90 Tage wiederhergestellt werden, bevor sie automatisch unwiederbringlich gelöscht werden.\n        ")]),t._v(" "),e("div",{staticClass:"d-flex justify-center"},[e(o.a,{attrs:{color:"error",disabled:0==t.$store.state.hub.selectedEntityItems.length},on:{click:t.moveSelectedEntityItemsToTrash}},[e(c.a,{attrs:{left:""}},[t._v("\n              icon icon-delete\n            ")]),t._v("\n            "+t._s(t.$store.state.hub.selectedEntityItems.length)+" Inhalte in den Papierkorb\n          ")],1)],1)])])],1)],1)}),[],!1,null,null,null);e.a=mt.exports},1237:function(t,e,n){"use strict";n.d(e,"a",(function(){return It}));var r=n(932);const o=/^\s*>\s$/,l=r.d.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Object(r.y)({find:o,type:this.type})]}}),c=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,d=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,h=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,f=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,m=r.c.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Object(r.r)({find:c,type:this.type}),Object(r.r)({find:h,type:this.type})]},addPasteRules(){return[Object(r.s)({find:d,type:this.type}),Object(r.s)({find:f,type:this.type})]}}),v=r.d.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",Object(r.t)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),y=r.c.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:element=>!!element.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Object(r.m)(t,this.type);return!!Object.entries(n).some((([,t])=>!!t))||e.unsetMark(this.name)}}}}),x=/^\s*([-+*])\s$/,w=r.d.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(v.name,this.editor.getAttributes(y.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Object(r.y)({find:x,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Object(r.y)({find:x,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(y.name),editor:this.editor})),[t]}}),k=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,_=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,O=r.c.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Object(r.r)({find:k,type:this.type})]},addPasteRules(){return[Object(r.s)({find:_,type:this.type})]}});var S=n(992);const M=/^```([a-z]+)?[\s\n]$/,C=/^~~~([a-z]+)?[\s\n]$/,T=r.d.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:element=>{var t;const{languageClassPrefix:e}=this.options,n=[...(null===(t=element.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter((t=>t.startsWith(e))).map((t=>t.replace(e,"")))[0];return n||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:e}){return["pre",Object(r.t)(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&(!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const l=r.parentOffset===r.parent.nodeSize-2,c=r.parent.textContent.endsWith("\n\n");return!(!l||!c)&&t.chain().command((({tr:tr})=>(tr.delete(r.pos-2,r.pos),!0))).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:o,empty:l}=n;if(!l||o.parent.type!==this.type)return!1;if(!(o.parentOffset===o.parent.nodeSize-2))return!1;const c=o.after();if(void 0===c)return!1;return!r.nodeAt(c)&&t.commands.exitCode()}}},addInputRules(){return[Object(r.x)({find:M,type:this.type,getAttributes:t=>({language:t[1]})}),Object(r.x)({find:C,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new S.c({key:new S.d("codeBlockVSCodeHandler"),props:{handlePaste:(view,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const text=t.clipboardData.getData("text/plain"),e=t.clipboardData.getData("vscode-editor-data"),n=e?JSON.parse(e):void 0,r=null==n?void 0:n.mode;if(!text||!r)return!1;const{tr:tr}=view.state;return view.state.selection.from===view.state.doc.nodeSize-(1+2*view.state.selection.$to.depth)?tr.insert(view.state.selection.from-1,this.type.create({language:r})):tr.replaceSelectionWith(this.type.create({language:r})),tr.setSelection(S.f.near(tr.doc.resolve(Math.max(0,tr.selection.from-2)))),tr.insertText(text.replace(/\r\n?/g,"\n")),tr.setMeta("paste",!0),view.dispatch(tr),!0}}})]}});var E=n(1102),P=n(958),D=n(962);function j(t={}){return new P.d({view:e=>new A(e,t)})}class A{constructor(t,e){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=e.width)&&void 0!==n?n:1,this.color=!1===e.color?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map((e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}destroy(){this.handlers.forEach((({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e)))}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let rect,t=this.editorView.state.doc.resolve(this.cursorPos),e=!t.parent.inlineContent;if(e){let e=t.nodeBefore,n=t.nodeAfter;if(e||n){let t=this.editorView.nodeDOM(this.cursorPos-(e?e.nodeSize:0));if(t){let r=t.getBoundingClientRect(),o=e?r.bottom:r.top;e&&n&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),rect={left:r.left,right:r.right,top:o-this.width/2,bottom:o+this.width/2}}}}if(!rect){let t=this.editorView.coordsAtPos(this.cursorPos);rect={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let n,r,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",e),this.element.classList.toggle("prosemirror-dropcursor-inline",!e),!o||o==document.body&&"static"==getComputedStyle(o).position)n=-pageXOffset,r=-pageYOffset;else{let rect=o.getBoundingClientRect();n=rect.left-o.scrollLeft,r=rect.top-o.scrollTop}this.element.style.left=rect.left-n+"px",this.element.style.top=rect.top-r+"px",this.element.style.width=rect.right-rect.left+"px",this.element.style.height=rect.bottom-rect.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,e,t):r;if(e&&!o){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let e=Object(D.g)(this.editorView.state.doc,t,this.editorView.dragging.slice);null!=e&&(t=e)}this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const I=r.b.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[j(this.options)]}});var N=n(1041),$=n(959),R=n(1038);class B extends P.f{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return B.valid(n)?new B(n):P.f.near(n)}content(){return $.j.empty}eq(t){return t instanceof B&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new B(t.resolve(e.pos))}getBookmark(){return new L(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!function(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(0!=n)for(let t=r.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t)||!function(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(let t=r.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,e,n=!1){t:for(;;){if(!n&&B.valid(t))return t;let r=t.pos,o=null;for(let n=t.depth;;n--){let l=t.node(n);if(e>0?t.indexAfter(n)<l.childCount:t.index(n)>0){o=l.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;r+=e;let c=t.doc.resolve(r);if(B.valid(c))return c}for(;;){let l=e>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!P.c.isSelectable(o)){t=t.doc.resolve(r+o.nodeSize*e),n=!1;continue t}break}o=l,r+=e;let c=t.doc.resolve(r);if(B.valid(c))return c}return null}}}B.prototype.visible=!1,B.findFrom=B.findGapCursorFrom,P.f.jsonID("gapcursor",B);class L{constructor(t){this.pos=t}map(t){return new L(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return B.valid(e)?new B(e):P.f.near(e)}}const z=Object(N.a)({ArrowLeft:H("horiz",-1),ArrowRight:H("horiz",1),ArrowUp:H("vert",-1),ArrowDown:H("vert",1)});function H(t,e){const n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,view){let o=t.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof P.g){if(!view.endOfTextblock(n)||0==l.depth)return!1;c=!1,l=t.doc.resolve(e>0?l.after():l.before())}let d=B.findGapCursorFrom(l,e,c);return!!d&&(r&&r(t.tr.setSelection(new B(d))),!0)}}function F(view,t,e){if(!view||!view.editable)return!1;let n=view.state.doc.resolve(t);if(!B.valid(n))return!1;let r=view.posAtCoords({left:e.clientX,top:e.clientY});return!(r&&r.inside>-1&&P.c.isSelectable(view.state.doc.nodeAt(r.inside)))&&(view.dispatch(view.state.tr.setSelection(new B(n))),!0)}function V(view,t){if("insertCompositionText"!=t.inputType||!(view.state.selection instanceof B))return!1;let{$from:e}=view.state.selection,n=e.parent.contentMatchAt(e.index()).findWrapping(view.state.schema.nodes.text);if(!n)return!1;let r=$.c.empty;for(let i=n.length-1;i>=0;i--)r=$.c.from(n[i].createAndFill(null,r));let tr=view.state.tr.replace(e.pos,e.pos,new $.j(r,0,0));return tr.setSelection(P.g.near(tr.doc.resolve(e.pos+1))),view.dispatch(tr),!1}function W(t){if(!(t.selection instanceof B))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",R.b.create(t.doc,[R.a.widget(t.selection.head,e,{key:"gapcursor"})])}const Y=r.b.create({name:"gapCursor",addProseMirrorPlugins:()=>[new P.d({props:{decorations:W,createSelectionBetween:(t,e,n)=>e.pos==n.pos&&B.valid(n)?new B(n):null,handleClick:F,handleKeyDown:z,handleDOMEvents:{beforeinput:V}}})],extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!==(e=Object(r.f)(Object(r.l)(t,"allowGapCursor",n)))&&void 0!==e?e:null}}}),U=r.d.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",Object(r.t)(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:t,storedMarks:o}=n;if(t.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,d=o||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command((({tr:tr,dispatch:t})=>{if(t&&d&&l){const t=d.filter((mark=>c.includes(mark.type.name)));tr.ensureMarks(t)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),K=r.d.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((t=>({tag:`h${t}`,attrs:{level:t}})))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Object(r.t)(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce(((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})})),{})},addInputRules(){return this.options.levels.map((t=>Object(r.x)({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}})))}});var J=200,G=function(){};G.prototype.append=function(t){return t.length?(t=G.from(t),!this.length&&t||t.length<J&&this.leafAppend(t)||this.length<J&&t.leafPrepend(this)||this.appendInner(t)):this},G.prototype.prepend=function(t){return t.length?G.from(t).append(this):this},G.prototype.appendInner=function(t){return new Z(this,t)},G.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?G.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},G.prototype.get=function(i){if(!(i<0||i>=this.length))return this.getInner(i)},G.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},G.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,i){return r.push(t(e,i))}),e,n),r},G.from=function(t){return t instanceof G?t:t&&t.length?new X(t):G.empty};var X=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=J)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=J)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(G);G.empty=new X([]);var Z=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(G),Q=G;class tt{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}e&&(n=this.remapping(o,this.items.length),r=n.maps.length);let l,c,d=t.tr,h=[],f=[];return this.items.forEach(((t,i)=>{if(!t.step)return n||(n=this.remapping(o,i+1),r=n.maps.length),r--,void f.push(t);if(n){f.push(new et(t.map));let map,e=t.step.map(n.slice(r));e&&d.maybeStep(e).doc&&(map=d.mapping.maps[d.mapping.maps.length-1],h.push(new et(map,void 0,void 0,h.length+f.length))),r--,map&&n.appendMap(map,r)}else d.maybeStep(t.step);return t.selection?(l=n?t.selection.map(n.slice(r)):t.selection,c=new tt(this.items.slice(0,o).append(f.reverse().concat(h)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:c,transform:d,selection:l}}addTransform(t,e,n,r){let o=[],l=this.eventCount,c=this.items,d=!r&&c.length?c.get(c.length-1):null;for(let i=0;i<t.steps.length;i++){let n,h=t.steps[i].invert(t.docs[i]),f=new et(t.mapping.maps[i],h,e);(n=d&&d.merge(f))&&(f=n,i?o.pop():c=c.slice(0,c.length-1)),o.push(f),e&&(l++,e=void 0),r||(d=f)}let h=l-n.depth;return h>it&&(c=function(t,e){let n;return t.forEach(((t,i)=>{if(t.selection&&0==e--)return n=i,!1})),t.slice(n)}(c,h),l-=h),new tt(c.append(o),l)}remapping(t,e){let n=new D.a;return this.items.forEach(((e,i)=>{let r=null!=e.mirrorOffset&&i-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,r)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new tt(this.items.append(t.map((map=>new et(map)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),o=t.mapping,l=t.steps.length,c=this.eventCount;this.items.forEach((t=>{t.selection&&c--}),r);let d=e;this.items.forEach((e=>{let r=o.getMirror(--d);if(null==r)return;l=Math.min(l,r);let map=o.maps[r];if(e.step){let l=t.steps[r].invert(t.docs[r]),h=e.selection&&e.selection.map(o.slice(d+1,r));h&&c++,n.push(new et(map,l,h))}else n.push(new et(map))}),r);let h=[];for(let i=e;i<l;i++)h.push(new et(o.maps[i]));let f=this.items.slice(0,r).append(h).append(n),m=new tt(f,c);return m.emptyItemCount()>500&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach(((l,i)=>{if(i>=t)r.push(l),l.selection&&o++;else if(l.step){let t=l.step.map(e.slice(n)),map=t&&t.getMap();if(n--,map&&e.appendMap(map,n),t){let c=l.selection&&l.selection.map(e.slice(n));c&&o++;let d,h=new et(map.invert(),t,c),f=r.length-1;(d=r.length&&r[f].merge(h))?r[f]=d:r.push(h)}}else l.map&&n--}),this.items.length,0),new tt(Q.from(r.reverse()),o)}}tt.empty=new tt(Q.empty,0);class et{constructor(map,t,e,n){this.map=map,this.step=t,this.selection=e,this.mirrorOffset=n}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new et(e.getMap().invert(),e,this.selection)}}}class nt{constructor(t,e,n,r,o){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const it=20;function ot(map){let t=[];return map.forEach(((e,n,r,o)=>t.push(r,o))),t}function st(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let r=e.map(t[i],1),o=e.map(t[i+1],-1);r<=o&&n.push(r,o)}return n}let at=!1,lt=null;function ct(t){let e=t.plugins;if(lt!=e){at=!1,lt=e;for(let i=0;i<e.length;i++)if(e[i].spec.historyPreserveItems){at=!0;break}}return at}const ut=new P.e("history"),pt=new P.e("closeHistory");function ht(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new P.d({key:ut,state:{init:()=>new nt(tt.empty,tt.empty,null,0,-1),apply:(tr,e,n)=>function(t,e,tr,n){let r,o=tr.getMeta(ut);if(o)return o.historyState;tr.getMeta(pt)&&(t=new nt(t.done,t.undone,null,0,-1));let l=tr.getMeta("appendedTransaction");if(0==tr.steps.length)return t;if(l&&l.getMeta(ut))return l.getMeta(ut).redo?new nt(t.done.addTransform(tr,void 0,n,ct(e)),t.undone,ot(tr.mapping.maps[tr.steps.length-1]),t.prevTime,t.prevComposition):new nt(t.done,t.undone.addTransform(tr,void 0,n,ct(e)),null,t.prevTime,t.prevComposition);if(!1===tr.getMeta("addToHistory")||l&&!1===l.getMeta("addToHistory"))return(r=tr.getMeta("rebased"))?new nt(t.done.rebased(tr,r),t.undone.rebased(tr,r),st(t.prevRanges,tr.mapping),t.prevTime,t.prevComposition):new nt(t.done.addMaps(tr.mapping.maps),t.undone.addMaps(tr.mapping.maps),st(t.prevRanges,tr.mapping),t.prevTime,t.prevComposition);{let r=tr.getMeta("composition"),o=0==t.prevTime||!l&&t.prevComposition!=r&&(t.prevTime<(tr.time||0)-n.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,r)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)})),n}(tr,t.prevRanges)),c=l?st(t.prevRanges,tr.mapping):ot(tr.mapping.maps[tr.steps.length-1]);return new nt(t.done.addTransform(tr,o?e.selection.getBookmark():void 0,n,ct(e)),tt.empty,c,tr.time,null==r?t.prevComposition:r)}}(e,n,tr,t)},config:t,props:{handleDOMEvents:{beforeinput(view,t){let e=t.inputType,n="historyUndo"==e?mt:"historyRedo"==e?gt:null;return!!n&&(t.preventDefault(),n(view.state,view.dispatch))}}}})}function ft(t,e){return(n,r)=>{let o=ut.getState(n);if(!o||0==(t?o.undone:o.done).eventCount)return!1;if(r){let tr=function(t,e,n){let r=ct(e),o=ut.get(e).spec.config,l=(n?t.undone:t.done).popEvent(e,r);if(!l)return null;let c=l.selection.resolve(l.transform.doc),d=(n?t.done:t.undone).addTransform(l.transform,e.selection.getBookmark(),o,r),h=new nt(n?d:l.remaining,n?l.remaining:d,null,0,-1);return l.transform.setSelection(c).setMeta(ut,{redo:n,historyState:h})}(o,n,t);tr&&r(e?tr.scrollIntoView():tr)}return!0}}const mt=ft(!1,!0),gt=ft(!0,!0);ft(!1,!1),ft(!0,!1);const vt=r.b.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>mt(t,e),redo:()=>({state:t,dispatch:e})=>gt(t,e)}),addProseMirrorPlugins(){return[ht(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),yt=r.d.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",Object(r.t)(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,r=t();return 0===n.parentOffset?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command((({tr:tr,dispatch:t})=>{var e;if(t){const{$to:t}=tr.selection,n=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?tr.setSelection(S.f.create(tr.doc,t.pos+1)):t.nodeAfter.isBlock?tr.setSelection(S.b.create(tr.doc,t.pos)):tr.setSelection(S.f.create(tr.doc,t.pos));else{const r=null===(e=t.parent.type.contentMatch.defaultType)||void 0===e?void 0:e.create();r&&(tr.insert(n,r),tr.setSelection(S.f.create(tr.doc,n+1)))}tr.scrollIntoView()}return!0})).run()}}},addInputRules(){return[Object(r.u)({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),bt=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,xt=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,wt=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,kt=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,_t=r.c.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Object(r.r)({find:bt,type:this.type}),Object(r.r)({find:wt,type:this.type})]},addPasteRules(){return[Object(r.s)({find:xt,type:this.type}),Object(r.s)({find:kt,type:this.type})]}}),Ot=r.d.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",Object(r.t)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),St=r.d.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",Object(r.t)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Mt=r.c.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:element=>!!element.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Object(r.m)(t,this.type);return!!Object.entries(n).some((([,t])=>!!t))||e.unsetMark(this.name)}}}}),Ct=/^(\d+)\.\s$/,Tt=r.d.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:element=>element.hasAttribute("start")?parseInt(element.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",Object(r.t)(this.options.HTMLAttributes,n),0]:["ol",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(St.name,this.editor.getAttributes(Mt.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Object(r.y)({find:Ct,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Object(r.y)({find:Ct,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Mt.name)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[t]}}),Et=r.d.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Pt=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Dt=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,jt=r.c.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:style=>!!style.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",Object(r.t)(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return Object(r.o)()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[Object(r.r)({find:Pt,type:this.type})]},addPasteRules(){return[Object(r.s)({find:Dt,type:this.type})]}});var At=n(1103);const It=r.b.create({name:"starterKit",addExtensions(){var t,e,n,r,o,c,d,h,f,v,y,x,k,_,S,M,C,P;const D=[];return!1!==this.options.blockquote&&D.push(l.configure(null===(t=this.options)||void 0===t?void 0:t.blockquote)),!1!==this.options.bold&&D.push(m.configure(null===(e=this.options)||void 0===e?void 0:e.bold)),!1!==this.options.bulletList&&D.push(w.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&D.push(O.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&D.push(T.configure(null===(o=this.options)||void 0===o?void 0:o.codeBlock)),!1!==this.options.document&&D.push(E.a.configure(null===(c=this.options)||void 0===c?void 0:c.document)),!1!==this.options.dropcursor&&D.push(I.configure(null===(d=this.options)||void 0===d?void 0:d.dropcursor)),!1!==this.options.gapcursor&&D.push(Y.configure(null===(h=this.options)||void 0===h?void 0:h.gapcursor)),!1!==this.options.hardBreak&&D.push(U.configure(null===(f=this.options)||void 0===f?void 0:f.hardBreak)),!1!==this.options.heading&&D.push(K.configure(null===(v=this.options)||void 0===v?void 0:v.heading)),!1!==this.options.history&&D.push(vt.configure(null===(y=this.options)||void 0===y?void 0:y.history)),!1!==this.options.horizontalRule&&D.push(yt.configure(null===(x=this.options)||void 0===x?void 0:x.horizontalRule)),!1!==this.options.italic&&D.push(_t.configure(null===(k=this.options)||void 0===k?void 0:k.italic)),!1!==this.options.listItem&&D.push(Ot.configure(null===(_=this.options)||void 0===_?void 0:_.listItem)),!1!==this.options.orderedList&&D.push(Tt.configure(null===(S=this.options)||void 0===S?void 0:S.orderedList)),!1!==this.options.paragraph&&D.push(Et.configure(null===(M=this.options)||void 0===M?void 0:M.paragraph)),!1!==this.options.strike&&D.push(jt.configure(null===(C=this.options)||void 0===C?void 0:C.strike)),!1!==this.options.text&&D.push(At.a.configure(null===(P=this.options)||void 0===P?void 0:P.text)),D}})},1256:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(5),n(13);var r=n(2),o=(n(1167),n(401)),l=n(49),c=n(7);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=Object(c.a)(o.a,l.a).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return h(h({},o.a.options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var data=this.setTextColor(this.color,h({},o.a.options.methods.genData.call(this)));return this.group?data:this.setBackgroundColor(this.backgroundColor,data)}}})},1257:function(t,e,n){"use strict";n(1226)},1258:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.editor .mention{background-color:hsla(0,0%,100%,.7);border-radius:.3rem;color:#000;font-weight:700;padding:.1rem .3rem}.buzzcomment div{padding-bottom:1px}',""]),v.locals={},t.exports=v},1314:function(t,e,n){"use strict";var r=n(345),o=n(1256),l=n(316),c=n(87),d=n(9),h=(n(58),n(55),n(14),n(65),n(5),n(51),n(95),n(13),n(1048)),f=n(932),m=n(1040),v=n(1237),y=n(1330),x=n(367),w=n(12),k=n(369),_=n(252),O=n(81),S={props:{items:{type:Array,default:function(){return[]},required:!0},command:{type:Function,required:!0}},data:function(){return{selectedIndex:0}},watch:{items:function(){this.selectedIndex=0}},methods:{onKeyDown:function(t){var e=t.event;return"ArrowUp"===e.key?(this.upHandler(),!0):"ArrowDown"===e.key?(this.downHandler(),!0):"Enter"===e.key&&(this.enterHandler(),!0)},upHandler:function(){this.selectedIndex=(this.selectedIndex+this.items.length-1)%this.items.length},downHandler:function(){this.selectedIndex=(this.selectedIndex+1)%this.items.length},enterHandler:function(){this.selectItem(this.selectedIndex)},selectItem:function(t){var e=this.items[t];e&&this.command({id:e.id,name:e.name})}}},M=n(42),C=Object(M.a)(S,(function(){var t=this,e=t._self._c;return e(x.a,{attrs:{"min-width":"300"}},[0==t.items.length?e(w.c,[t._v("\n    Es wurden keine Benutzer gefunden.\n  ")]):t._e(),t._v(" "),t.items.length>0?e(k.a,{attrs:{dense:""}},t._l(t.items,(function(n,r){return e("div",{key:r},[e(_.a,{attrs:{"input-value":r===t.selectedIndex},on:{click:function(e){return t.selectItem(r)}}},[e(O.d,[t._v(t._s(n.full))])],1)],1)})),0):t._e()],1)}),[],!1,null,null,null).exports,T=n(1085),E=y.a.extend({renderHTML:function(t){var e=t.node,n=t.HTMLAttributes;return["span",Object(f.t)(this.options.HTMLAttributes,n),"".concat(e.attrs.name)]},parseHTML:function(){return[{tag:"span[data-mention-id]"}]},addAttributes:function(){return{name:{default:null,parseHTML:function(element){return{name:element.getAttribute("data-mention-name")}},renderHTML:function(t){return t.name?{"data-mention-name":t.name}:{}}},id:{default:null,parseHTML:function(element){return{id:element.getAttribute("data-mention-id")}},renderHTML:function(t){return t.id?{"data-mention-id":t.id}:{}}}}}}),P={components:{EditorContent:m.c,BubbleMenu:m.a},props:{value:{type:[String,Object],default:""}},data:function(){return{editor:null}},watch:{value:function(t){this.editor.getHTML()===t||this.editor.commands.setContent(this.value,!1)}},mounted:function(){var t=this;this.editor=new m.b({extensions:[v.a,T.a.configure({pluginKey:"buzzesCommentBubbleMenu"}),E.configure({HTMLAttributes:{class:"mention"},suggestion:{items:function(){var t=Object(d.a)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$axios("organisation/admins?query="+encodeURIComponent(e.query)+"&fields=user.id,user.firstname,user.lastname,user.email,user.is_admin&sort=hb_user.firstname");case 2:return n=t.sent,r=[],n.data.filter((function(t){return!t.user.is_admin})).forEach((function(i){r.push({id:i.user.id,name:i.user.firstname,full:"".concat(i.user.firstname," ").concat(i.user.lastname),email:i.user.email})})),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}().bind(this),render:function(){var component,e;return{onStart:function(n){component=new m.g(C,{parent:t,propsData:n}),n.clientRect&&(e=Object(h.a)("body",{getReferenceClientRect:n.clientRect,appendTo:function(){return document.getElementById("app")},content:component.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate:function(t){component.updateProps(t),t.clientRect&&e[0].setProps({getReferenceClientRect:t.clientRect})},onKeyDown:function(t){var n;return"Escape"===t.event.key?(e[0].hide(),!0):null===(n=component)||void 0===n||null===(n=n.ref)||void 0===n?void 0:n.onKeyDown(t)},onExit:function(){e[0].destroy(),component.destroy()}}}}})],editorProps:{transformPastedHTML:function(html){return html.replace(/(<([^>]+)>)/gi,"")}},content:this.parsedValue,onUpdate:function(){t.$emit("input",t.editor.getHTML())}})},beforeDestroy:function(){var t;null===(t=this.editor)||void 0===t||t.destroy()}},D=P,j=(n(1257),Object(M.a)(D,(function(){var t=this,e=t._self._c;return t.editor?e(c.a,{staticClass:"editor",attrs:{color:"transparent"}},[e("div",[t.editor?e("bubble-menu",{attrs:{editor:t.editor,"plugin-key":"buzzesCommentBubbleMenu"}},[e(o.a,{attrs:{multiple:""}},[e(r.a,{attrs:{"input-value":t.editor.isActive("bold"),small:""},on:{click:function(e){t.editor.chain().focus().toggleBold().run()}}},[e(l.a,{attrs:{small:""}},[t._v("\n            icon icon-format-bold\n          ")])],1),t._v(" "),e(r.a,{attrs:{"input-value":t.editor.isActive("italic"),small:""},on:{click:function(e){t.editor.chain().focus().toggleItalic().run()}}},[e(l.a,{attrs:{small:""}},[t._v("\n            icon icon-format-italic\n          ")])],1)],1)],1):t._e()],1),t._v(" "),e("editor-content",{class:t.$vuetify.theme.dark?"rounded black white--text nooutline buzzcomment":"rounded amber lighten-4 nooutline buzzcomment",attrs:{editor:t.editor}})],1):t._e()}),[],!1,null,null,null));e.a=j.exports},1327:function(t,e,n){"use strict";var r=n(373),o=n(345),l=n(12),c=n(994),d=n(886),h=n(885),f=n(986),m=n(316),v=n(365),y=n(369),x=n(252),w=n(371),k=n(372),_=n(81),O=n(374),S=n(211),M=n(1331),C=n(900),T=n(1141),E=n(112),P=n(1166).a,D=n(42),component=Object(D.a)(P,(function(){var t=this,e=t._self._c;return t.isVisible?e("div",[e(l.c,{staticClass:"pt-0"},[e("comment-textarea",{attrs:{"data-cy":"entityCommentsTextfield"},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}}),t._v(" "),e("div",{staticClass:"mt-3"},[e(o.a,{attrs:{disabled:t.isEmpty(t.commentText),small:"",color:"success",loading:t.saving,"data-cy":"entityCommentsSaveButton"},on:{click:t.save}},[e(m.a,{attrs:{left:"",small:""}},[t._v("\n          icon icon-save\n        ")]),t._v("\n        Speichern\n      ")],1),t._v(" "),e("info-icon-wiki",{attrs:{id:"23"}})],1)],1),t._v(" "),t._l(t.threads,(function(l){return e("div",{key:l.id},[e(h.a),t._v(" "),e(y.a,{attrs:{color:"transparent"}},[t._l(l.items,(function(h){return e("div",{key:h.id,staticClass:"mb-4",class:{"ml-4":h.reply_to_comment_id==l.id}},[e(E.a,{attrs:{dense:"",flat:"",short:"",color:"transparent",height:"34"}},[h.createUser?e(d.a,{attrs:{outlined:""}},[e(r.a,{attrs:{color:"primary white--text",left:""}},[h.createUser.entityImage?e(v.a,{attrs:{src:"".concat(h.createUser.entityImage,"/thumb/300x300")}}):e("span",[t._v("\n                "+t._s(t.$organisation.avatarify(h.createUser.firstname,h.createUser.lastname))+"\n              ")])],1),t._v("\n            "+t._s(h.createUser.firstname)+" "+t._s(h.createUser.lastname)+"\n\n            "),h.createUser.is_admin?e(r.a,{attrs:{right:""}},[e("img",{attrs:{src:n(566)}})]):t._e()],1):t._e(),t._v(" "),e(C.a),t._v(" "),h.is_todo?e(f.a,{scopedSlots:t._u([{key:"default",fn:function(n){var r=n.hover;return[e(o.a,{attrs:{icon:"",small:"",color:r?"success":""},on:{click:function(e){return t.converToComment(h)}}},[e(m.a,{domProps:{textContent:t._s(r?"icon icon-check":"icon icon-uncheck")}})],1)]}}],null,!0)}):t._e(),t._v(" "),h.is_todo?e(m.a,{attrs:{small:""}},[t._v("\n            icon icon-arrow-right\n          ")]):t._e(),t._v(" "),h.is_todo?e(M.a,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var l=n.on,c=n.attrs;return[e(o.a,t._g(t._b({staticClass:"mr-1",attrs:{icon:"",small:""}},"v-btn",c,!1),l),[h.assigneeUser?e(r.a,{staticClass:"text-caption white--text",attrs:{size:"24",color:"skyblue"}},[t._v("\n                  "+t._s(t.$organisation.avatarify(h.assigneeUser.firstname,h.assigneeUser.lastname))+"\n                ")]):e(r.a,{staticClass:"text-caption white--text",attrs:{size:"24",color:"red"}},[t._v("\n                  ?\n                ")])],1)]}}],null,!0)},[t._v(" "),e(y.a,{attrs:{dense:"",subheader:""}},[e(T.a,[t._v("Aufgabe einer Person zuweisen:")]),t._v(" "),e(O.a,{on:{change:function(e){return t.updateAssignee(h)}},model:{value:h.assignee_user_id,callback:function(e){t.$set(h,"assignee_user_id",e)},expression:"cmt.assignee_user_id"}},t._l(t.admins,(function(n){return e(x.a,{key:n.user_id,attrs:{value:n.user_id},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.active;return[e(k.a,{staticClass:"white--text",attrs:{color:"primary",size:"30"}},[t._v("\n                      "+t._s(t.$organisation.avatarify(n.user.firstname,n.user.lastname))+"\n                    ")]),t._v(" "),e(_.b,[e(_.d,[t._v(t._s(n.user.firstname)+" "+t._s(n.user.lastname))])],1),t._v(" "),e(w.a,[e(c.a,{attrs:{"input-value":o,color:"success"}})],1)]}}],null,!0)})})),1)],1)],1):t._e(),t._v(" "),e(M.a,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(o.a,t._g(t._b({staticClass:"ml-1",attrs:{icon:"",small:"","data-cy":"entityCommentsdots"}},"v-btn",l,!1),r),[e(m.a,[t._v("icon icon-dots")])],1)]}}],null,!0)},[t._v(" "),e(y.a,{attrs:{dense:""}},[t.$store.state.me.managerRole||t.$auth.user.id==h.created_by?e(x.a,{attrs:{disabled:t.isLoading},on:{click:function(e){return t.remove(h)}}},[e(S.a,[e(m.a,{attrs:{small:""}},[t._v("\n                    icon icon-delete\n                  ")])],1),t._v(" "),e(_.d,[t._v("Löschen")])],1):t._e(),t._v(" "),h.is_todo?e(x.a,{on:{click:function(e){return t.converToComment(h)}}},[e(S.a,[e(m.a,{attrs:{small:""}},[t._v("\n                    icon icon-todo\n                  ")])],1),t._v(" "),e(_.d,[t._v("Aufgabe ist erledigt")])],1):e(x.a,{on:{click:function(e){return t.convertToTodo(h)}}},[e(S.a,[e(m.a,{attrs:{small:""}},[t._v("\n                    icon icon-todo\n                  ")])],1),t._v(" "),e(_.d,[t._v("In Aufgabe umwandeln")])],1)],1)],1)],1),t._v(" "),e(x.a,[e(_.b,{staticClass:"pt-2 pb-0 mb-0"},[e("div",{staticClass:"comment text-caption",domProps:{innerHTML:t._s(h.comment)}}),t._v(" "),e(_.c,{staticClass:"grey--text"},[e("small",[t._v(t._s(t.$moment(1e3*h.created_at).fromNow()))])])],1)],1)],1)})),t._v(" "),e(x.a,{staticClass:"ml-4"},[e(_.b,{staticClass:"my-0 py-0"},[e("comment-textarea",{model:{value:t.replyComments[l.id],callback:function(e){t.$set(t.replyComments,l.id,e)},expression:"replyComments[thread.id]"}}),t._v(" "),e(o.a,{attrs:{"x-small":"",text:"",disabled:t.isEmpty(t.replyComments[l.id]),loading:t.saving},on:{click:function(e){return t.saveReply(l.id)}}},[e(m.a,{attrs:{"x-small":"",left:""}},[t._v("\n              icon icon-reply\n            ")]),t._v("\n            Auf Buzz antworten\n          ")],1)],1)],1)],2)],1)}))],2):t._e()}),[],!1,null,null,null);e.a=component.exports},1330:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n(932),o=n(992),l=n(1093);function c(t){var e;const{char:n,allowSpaces:o,allowedPrefixes:l,startOfLine:c,$position:d}=t,h=Object(r.h)(n),f=new RegExp(`\\s${h}$`),m=c?"^":"",v=o?new RegExp(`${m}${h}.*?(?=\\s${h}|$)`,"gm"):new RegExp(`${m}(?:^)?${h}[^\\s${h}]*`,"gm"),text=(null===(e=d.nodeBefore)||void 0===e?void 0:e.isText)&&d.nodeBefore.text;if(!text)return null;const y=d.pos-text.length,x=Array.from(text.matchAll(v)).pop();if(!x||void 0===x.input||void 0===x.index)return null;const w=x.input.slice(Math.max(0,x.index-1),x.index),k=new RegExp(`^[${null==l?void 0:l.join("")}\0]?$`).test(w);if(null!==l&&!k)return null;const _=y+x.index;let O=_+x[0].length;return o&&f.test(text.slice(O-1,O+1))&&(x[0]+=" ",O+=1),_<d.pos&&O>=d.pos?{range:{from:_,to:O},query:x[0].slice(n.length),text:x[0]}:null}const d=new o.d("suggestion");function h({pluginKey:t=d,editor:e,char:n="@",allowSpaces:r=!1,allowedPrefixes:h=[" "],startOfLine:f=!1,decorationTag:m="span",decorationClass:v="suggestion",command:y=(()=>null),items:x=(()=>[]),render:w=(()=>({})),allow:k=(()=>!0),findSuggestionMatch:_=c}){let O;const S=null==w?void 0:w(),M=new o.c({key:t,view(){return{update:async(view,t)=>{var n,r,o,l,c,d,h;const f=null===(n=this.key)||void 0===n?void 0:n.getState(t),m=null===(r=this.key)||void 0===r?void 0:r.getState(view.state),v=f.active&&m.active&&f.range.from!==m.range.from,w=!f.active&&m.active,k=f.active&&!m.active,_=w||v,M=!w&&!k&&f.query!==m.query&&!v,C=k||v;if(!_&&!M&&!C)return;const T=C&&!_?f:m,E=view.dom.querySelector(`[data-decoration-id="${T.decorationId}"]`);O={editor:e,range:T.range,query:T.query,text:T.text,items:[],command:t=>y({editor:e,range:T.range,props:t}),decorationNode:E,clientRect:E?()=>{var t;const{decorationId:n}=null===(t=this.key)||void 0===t?void 0:t.getState(e.state),r=view.dom.querySelector(`[data-decoration-id="${n}"]`);return(null==r?void 0:r.getBoundingClientRect())||null}:null},_&&(null===(o=null==S?void 0:S.onBeforeStart)||void 0===o||o.call(S,O)),M&&(null===(l=null==S?void 0:S.onBeforeUpdate)||void 0===l||l.call(S,O)),(M||_)&&(O.items=await x({editor:e,query:T.query})),C&&(null===(c=null==S?void 0:S.onExit)||void 0===c||c.call(S,O)),M&&(null===(d=null==S?void 0:S.onUpdate)||void 0===d||d.call(S,O)),_&&(null===(h=null==S?void 0:S.onStart)||void 0===h||h.call(S,O))},destroy:()=>{var t;O&&(null===(t=null==S?void 0:S.onExit)||void 0===t||t.call(S,O))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(t,o,l,c){const{isEditable:d}=e,{composing:m}=e.view,{selection:v}=t,{empty:y,from:x}=v,w={...o};if(w.composing=m,d&&(y||e.view.composing)){!(x<o.range.from||x>o.range.to)||m||o.composing||(w.active=!1);const t=_({char:n,allowSpaces:r,allowedPrefixes:h,startOfLine:f,$position:v.$from}),l=`id_${Math.floor(4294967295*Math.random())}`;t&&k({editor:e,state:c,range:t.range})?(w.active=!0,w.decorationId=o.decorationId?o.decorationId:l,w.range=t.range,w.query=t.query,w.text=t.text):w.active=!1}else w.active=!1;return w.active||(w.decorationId=null,w.range={from:0,to:0},w.query=null,w.text=null),w}},props:{handleKeyDown(view,t){var e;const{active:n,range:r}=M.getState(view.state);return n&&(null===(e=null==S?void 0:S.onKeyDown)||void 0===e?void 0:e.call(S,{view:view,event:t,range:r}))||!1},decorations(t){const{active:e,range:n,decorationId:r}=M.getState(t);return e?l.b.create(t.doc,[l.a.inline(n.from,n.to,{nodeName:m,class:v,"data-decoration-id":r})]):null}}});return M}const f=new o.d("mention"),m=r.d.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderText({options:t,node:e}){var n;return`${t.suggestion.char}${null!==(n=e.attrs.label)&&void 0!==n?n:e.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:t,node:e}){var n;return["span",Object(r.t)(this.HTMLAttributes,t.HTMLAttributes),`${t.suggestion.char}${null!==(n=e.attrs.label)&&void 0!==n?n:e.attrs.id}`]},suggestion:{char:"@",pluginKey:f,command:({editor:t,range:e,props:n})=>{var r,o;const l=t.view.state.selection.$to.nodeAfter;(null===(r=null==l?void 0:l.text)||void 0===r?void 0:r.startsWith(" "))&&(e.to+=1),t.chain().focus().insertContentAt(e,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),null===(o=window.getSelection())||void 0===o||o.collapseToEnd()},allow:({state:t,range:e})=>{const n=t.doc.resolve(e.from),r=t.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(r)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:element=>element.getAttribute("data-id"),renderHTML:t=>t.id?{"data-id":t.id}:{}},label:{default:null,parseHTML:element=>element.getAttribute("data-label"),renderHTML:t=>t.label?{"data-label":t.label}:{}}}),parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:t,HTMLAttributes:e}){if(void 0!==this.options.renderLabel)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",Object(r.t)({"data-type":this.name},this.options.HTMLAttributes,e),this.options.renderLabel({options:this.options,node:t})];const n={...this.options};n.HTMLAttributes=Object(r.t)({"data-type":this.name},this.options.HTMLAttributes,e);const html=this.options.renderHTML({options:n,node:t});return"string"==typeof html?["span",Object(r.t)({"data-type":this.name},this.options.HTMLAttributes,e),html]:html},renderText({node:t}){return void 0!==this.options.renderLabel?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel({options:this.options,node:t})):this.options.renderText({options:this.options,node:t})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command((({tr:tr,state:t})=>{let e=!1;const{selection:n}=t,{empty:r,anchor:o}=n;return!!r&&(t.doc.nodesBetween(o-1,o,((t,n)=>{if(t.type.name===this.name)return e=!0,tr.insertText(this.options.deleteTriggerWithBackspace?"":this.options.suggestion.char||"",n,n+t.nodeSize),!1})),e)}))}},addProseMirrorPlugins(){return[h({editor:this.editor,...this.options.suggestion})]}})},1332:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(5),n(13);var r=n(2),o=(n(1217),n(7)),l=n(44),c=n(0);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=Object(o.a)(l.a).extend({name:"v-timeline",provide:function(){return{timeline:this}},props:{alignTop:Boolean,dense:Boolean,reverse:Boolean},computed:{classes:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({"v-timeline--align-top":this.alignTop,"v-timeline--dense":this.dense,"v-timeline--reverse":this.reverse},this.themeClasses)}},render:function(t){return t("div",{staticClass:"v-timeline",class:this.classes},Object(c.t)(this))}})},1333:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(5),n(13);var r=n(2),o=(n(315),n(7)),l=n(54),c=n(44),d=n(49),h=n(0);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v=Object(o.a)(d.a,c.a);e.a=v.extend().extend({name:"v-timeline-item",inject:["timeline"],props:{color:{type:String,default:"primary"},fillDot:Boolean,hideDot:Boolean,icon:String,iconColor:String,large:Boolean,left:Boolean,right:Boolean,small:Boolean},computed:{hasIcon:function(){return!!this.icon||!!this.$slots.icon}},methods:{genBody:function(){return this.$createElement("div",{staticClass:"v-timeline-item__body"},Object(h.t)(this))},genIcon:function(){return Object(h.t)(this,"icon")||this.$createElement(l.a,{props:{color:this.iconColor,dark:!this.theme.isDark,small:this.small}},this.icon)},genInnerDot:function(){var data=this.setBackgroundColor(this.color);return this.$createElement("div",m({staticClass:"v-timeline-item__inner-dot"},data),[this.hasIcon&&this.genIcon()])},genDot:function(){return this.$createElement("div",{staticClass:"v-timeline-item__dot",class:{"v-timeline-item__dot--small":this.small,"v-timeline-item__dot--large":this.large}},[this.genInnerDot()])},genDivider:function(){var t=[];return this.hideDot||t.push(this.genDot()),this.$createElement("div",{staticClass:"v-timeline-item__divider"},t)},genOpposite:function(){return this.$createElement("div",{staticClass:"v-timeline-item__opposite"},Object(h.t)(this,"opposite"))}},render:function(t){var e=[this.genBody(),this.genDivider()];return this.$slots.opposite&&e.push(this.genOpposite()),t("div",{staticClass:"v-timeline-item",class:m({"v-timeline-item--fill-dot":this.fillDot,"v-timeline-item--before":this.timeline.reverse?this.right:this.left,"v-timeline-item--after":this.timeline.reverse?this.left:this.right},this.themeClasses)},e)}})},1346:function(t,e,n){"use strict";n(17),n(20),n(21),n(15);var r=n(27),o=n(2),l=(n(14),n(5),n(13),n(55),n(89),n(386),n(1219),n(131)),c=(n(82),n(7)),d=n(49),h=n(1030),f=n(1152),m=n(44),v=n(3),y=n(973),x=v.default.extend({name:"times",props:{now:{type:String,validator:y.F}},data:function(){return{times:{now:Object(y.v)("0000-00-00 00:00",!0),today:Object(y.v)("0000-00-00",!0)}}},computed:{parsedNow:function(){return this.now?Object(y.v)(this.now,!0):null}},watch:{parsedNow:"updateTimes"},created:function(){this.updateTimes(),this.setPresent()},methods:{setPresent:function(){this.times.now.present=this.times.today.present=!0,this.times.now.past=this.times.today.past=!1,this.times.now.future=this.times.today.future=!1},updateTimes:function(){var t=this.parsedNow||this.getNow();this.updateDay(t,this.times.now),this.updateTime(t,this.times.now),this.updateDay(t,this.times.today)},getNow:function(){return Object(y.t)(new Date)},updateDay:function(t,e){t.date!==e.date&&(e.year=t.year,e.month=t.month,e.day=t.day,e.weekday=t.weekday,e.date=t.date)},updateTime:function(t,e){t.time!==e.time&&(e.hour=t.hour,e.minute=t.minute,e.time=t.time)}}}),w=n(264),k=(n(45),n(47)),_=(n(114),n(116),n(109),n(65),n(51),n(72),n(68),n(66),864e5);function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.map((function(t){return{event:t,columnCount:0,column:0,left:0,width:100}}));return n.sort((function(a,b){return Math.max(e,a.event.startTimestampIdentifier)-Math.max(e,b.event.startTimestampIdentifier)||b.event.endTimestampIdentifier-a.event.endTimestampIdentifier})),n}function S(t,e,n,r){return!(arguments.length>4&&void 0!==arguments[4])||arguments[4]?!(t>=r||e<=n):!(t>r||e<n)}function M(t){t.forEach((function(e){e.visuals.forEach((function(e){e.columnCount=t.length}))}))}function C(t){return[t.startTimestampIdentifier,t.endTimestampIdentifier]}function T(t){return[t.startIdentifier,t.endIdentifier]}function E(t,e){return[Math.max(e,t.startTimestampIdentifier),Math.min(e+_,t.endTimestampIdentifier)]}function P(t){var e={groups:[],min:-1,max:-1,reset:function(){e.groups=[],e.min=e.max=-1},getVisuals:function(n,r,o){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(n.weekday===t||l)&&e.reset();var c=O(r,Object(y.p)(n));return c.forEach((function(t){var n=o?C(t.event):T(t.event),r=Object(k.a)(n,2),l=r[0],c=r[1];e.groups.length>0&&!S(l,c,e.min,e.max,o)&&(M(e.groups),e.reset());var d=function(t,e,n,r){for(var i=0;i<t.length;i++){var o=t[i],l=!1;if(S(e,n,o.start,o.end,r))for(var c=0;c<o.visuals.length;c++){var d=o.visuals[c],h=r?C(d.event):T(d.event),f=Object(k.a)(h,2);if(S(e,n,f[0],f[1],r)){l=!0;break}}if(!l)return i}return-1}(e.groups,l,c,o);-1===d&&(d=e.groups.length,e.groups.push({start:l,end:c,visuals:[]}));var h=e.groups[d];h.visuals.push(t),h.start=Math.min(h.start,l),h.end=Math.max(h.end,c),t.column=d,-1===e.min?(e.min=l,e.max=c):(e.min=Math.min(e.min,l),e.max=Math.max(e.max,c))})),M(e.groups),o&&e.reset(),c}};return e}function D(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var A=100;function I(t,e){var n,r=D(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,l=o.visual,c=o.parent,d=H(o)+1,h=c?c.visual.left:0,f=A-h,m=Math.min(5,A/d),v=N(o,t),y=f/(d-o.index+1),x=f/(d-o.index+(o.sibling?1:0))*v;c&&(l.left=o.sibling?h+y:h+m),l.width=L(o,t,e)?A-l.left:Math.min(A-l.left,1.7*x)}}catch(t){r.e(t)}finally{r.f()}}function N(t,e){if(!t.children.length)return 1;var n=t.index+e.length;return t.children.reduce((function(t,e){return Math.min(t,e.index)}),n)-t.index}function $(t,e){var n=function(t,e){var n,r=[],o=D(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;S(t.start,t.end,l.start,l.end)&&r.push(l.index)}}catch(t){o.e(t)}finally{o.f()}return r}(t,e);n.sort();for(var i=0;i<n.length;i++)if(i<n[i])return i;return!1}function R(t,e,n,r){var o,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=[],d=D(e);try{for(d.s();!(o=d.n()).done;){var h=o.value;h.index>=n&&h.index<=r&&S(t.start,t.end,h.start,h.end)&&c.push(h)}}catch(t){d.e(t)}finally{d.f()}if(l&&c.length>0){var f=c.reduce((function(t,e){return Math.min(t,e.index)}),c[0].index);return c.filter((function(t){return t.index===f}))}return c}function B(t,e){var n,r=null,o=D(e);try{for(o.s();!(n=o.n()).done;){var l=n.value;S(t.start,t.end,l.start,l.end)&&(null===r||l.index>r.index)&&(r=l)}}catch(t){o.e(t)}finally{o.f()}return r}function L(t,e,n){var r,o=D(e);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(l!==t&&l.index>t.index&&S(t.start,F(t.start,n),l.start,l.end))return!1}}catch(t){o.e(t)}finally{o.f()}return!0}function z(t,e){var n=E(t.event,e),r=Object(k.a)(n,2);return{parent:null,sibling:!0,index:0,visual:t,start:r[0],end:r[1],children:[]}}function H(t){var e,n=t.index,r=D(t.children);try{for(r.s();!(e=r.n()).done;){var o=H(e.value);o>n&&(n=o)}}catch(t){r.e(t)}finally{r.f()}return n}function F(t,e){var n=t%100,r=n+e;return t-n+100*Math.floor(r/60)+r%60}var V={stack:function(t,e,n){var r=P(e);return function(t,e,o,l){if(!o)return r.getVisuals(t,e,o,l);var c,d=Object(y.p)(t),h=O(e,d),f=function(t,e){var n,r=[],o=D(t);try{for(o.s();!(n=o.n()).done;){var l,c=n.value,d=E(c.event,e),h=Object(k.a)(d,2),f=h[0],m=h[1],v=!1,y=D(r);try{for(y.s();!(l=y.n()).done;){var x=l.value;if(S(f,m,x.start,x.end)){x.visuals.push(c),x.end=Math.max(x.end,m),v=!0;break}}}catch(t){y.e(t)}finally{y.f()}v||r.push({start:f,end:m,visuals:[c]})}}catch(t){o.e(t)}finally{o.f()}return r}(h,d),m=D(f);try{for(m.s();!(c=m.n()).done;){var v,x=c.value,w=[],_=D(x.visuals);try{for(_.s();!(v=_.n()).done;){var M=z(v.value,d),C=$(M,w);if(!1===C){var T=B(M,w);T&&(M.parent=T,M.sibling=S(M.start,M.end,T.start,F(T.start,n)),M.index=T.index+1,T.children.push(M))}else{var P=R(M,w,C-1,C-1),j=Object(k.a)(P,1)[0],A=R(M,w,C+1,C+w.length,!0);M.children=A,M.index=C,j&&(M.parent=j,M.sibling=S(M.start,M.end,j.start,F(j.start,n)),j.children.push(M));var N,L=D(A);try{for(L.s();!(N=L.n()).done;){var H=N.value;H.parent===j&&(H.parent=M),H.index-M.index<=1&&M.sibling&&S(M.start,F(M.start,n),H.start,H.end)&&(H.sibling=!0)}}catch(t){L.e(t)}finally{L.f()}}w.push(M)}}catch(t){_.e(t)}finally{_.f()}I(w,n)}}catch(t){m.e(t)}finally{m.f()}return h.sort((function(a,b){return a.left-b.left||a.event.startTimestampIdentifier-b.event.startTimestampIdentifier})),h}},column:function(t,e,n){var r=P(e);return function(t,e,n,o){var l=r.getVisuals(t,e,n,o);return n&&l.forEach((function(t){t.left=100*t.column/t.columnCount,t.width=100/t.columnCount})),l}}},W={base:{start:{type:[String,Number,Date],validate:y.F,default:function(){return Object(y.t)(new Date).date}},end:{type:[String,Number,Date],validate:y.F},weekdays:{type:[Array,String],default:function(){return[0,1,2,3,4,5,6]},validate:function(input){"string"==typeof input&&(input=input.split(","));if(Array.isArray(input)){var t=input.map((function(t){return parseInt(t)}));if(t.length>y.b||0===t.length)return!1;for(var e={},n=!1,i=0;i<t.length;i++){var r=t[i];if(!isFinite(r)||r<0||r>=y.b)return!1;if(i>0){var o=r-t[i-1];if(o<0){if(n)return!1;n=!0}else if(0===o)return!1}if(e[r])return!1;e[r]=!0}return!0}return!1}},hideHeader:{type:Boolean},shortWeekdays:{type:Boolean,default:!0},weekdayFormat:{type:Function,default:null},dayFormat:{type:Function,default:null}},intervals:{maxDays:{type:Number,default:7},shortIntervals:{type:Boolean,default:!0},intervalHeight:{type:[Number,String],default:48,validate:Y},intervalWidth:{type:[Number,String],default:60,validate:Y},intervalMinutes:{type:[Number,String],default:60,validate:Y},firstInterval:{type:[Number,String],default:0,validate:Y},firstTime:{type:[Number,String,Object],validate:y.E},intervalCount:{type:[Number,String],default:24,validate:Y},intervalFormat:{type:Function,default:null},intervalStyle:{type:Function,default:null},showIntervalLabel:{type:Function,default:null}},weeks:{localeFirstDayOfYear:{type:[String,Number],default:0},minWeeks:{validate:Y,default:1},shortMonths:{type:Boolean,default:!0},showMonthOnFirst:{type:Boolean,default:!0},showWeek:Boolean,monthFormat:{type:Function,default:null}},calendar:{type:{type:String,default:"month"},value:{type:[String,Number,Date],validate:y.F}},category:{categories:{type:[Array,String],default:""},categoryText:{type:[String,Function]},categoryHideDynamic:{type:Boolean},categoryShowAll:{type:Boolean},categoryForInvalid:{type:String,default:""},categoryDays:{type:[Number,String],default:1,validate:function(t){return isFinite(parseInt(t))&&parseInt(t)>0}}},events:{events:{type:Array,default:function(){return[]}},eventStart:{type:String,default:"start"},eventEnd:{type:String,default:"end"},eventTimed:{type:[String,Function],default:"timed"},eventCategory:{type:[String,Function],default:"category"},eventHeight:{type:Number,default:20},eventColor:{type:[String,Function],default:"primary"},eventTextColor:{type:[String,Function],default:"white"},eventName:{type:[String,Function],default:"name"},eventOverlapThreshold:{type:[String,Number],default:60},eventOverlapMode:{type:[String,Function],default:"stack",validate:function(t){return t in V||"function"==typeof t}},eventMore:{type:Boolean,default:!0},eventMoreText:{type:String,default:"$vuetify.calendar.moreEvents"},eventRipple:{type:[Boolean,Object],default:null},eventMarginBottom:{type:Number,default:1}}};function Y(input){return isFinite(parseInt(input))}var U=Object(c.a)(d.a,h.a,f.a,m.a,x).extend({name:"calendar-base",directives:{Resize:w.a},props:W.base,computed:{parsedWeekdays:function(){return Array.isArray(this.weekdays)?this.weekdays:(this.weekdays||"").split(",").map((function(t){return parseInt(t,10)}))},weekdaySkips:function(){return Object(y.q)(this.parsedWeekdays)},weekdaySkipsReverse:function(){var t=this.weekdaySkips.slice();return t.reverse(),t},parsedStart:function(){return Object(y.v)(this.start,!0)},parsedEnd:function(){var t=this.parsedStart,e=this.end&&Object(y.v)(this.end)||t;return Object(y.p)(e)<Object(y.p)(t)?t:e},days:function(){return Object(y.f)(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips)},dayFormatter:function(){if(this.dayFormat)return this.dayFormat;var t={timeZone:"UTC",day:"numeric"};return Object(y.h)(this.currentLocale,(function(e,n){return t}))},weekdayFormatter:function(){if(this.weekdayFormat)return this.weekdayFormat;var t={timeZone:"UTC",weekday:"long"},e={timeZone:"UTC",weekday:"short"};return Object(y.h)(this.currentLocale,(function(n,r){return r?e:t}))}},methods:{getRelativeClasses:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{"v-present":t.present,"v-past":t.past,"v-future":t.future,"v-outside":e}},getStartOfWeek:function(t){return Object(y.o)(t,this.parsedWeekdays,this.times.today)},getEndOfWeek:function(t){return Object(y.m)(t,this.parsedWeekdays,this.times.today)},getFormatter:function(t){return Object(y.h)(this.locale,(function(e,n){return t}))}}});function K(t,e){return e>=t.startIdentifier&&e<=t.endIdentifier}function J(t,e,n,r){return n===t.startIdentifier||r===e.weekday&&K(t,n)}function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Z=U.extend({name:"calendar-with-events",directives:{ripple:l.a},props:X(X(X({},W.events),W.calendar),W.category),computed:{noEvents:function(){return 0===this.events.length},parsedEvents:function(){return this.events.map(this.parseEvent)},parsedEventOverlapThreshold:function(){return parseInt(this.eventOverlapThreshold)},eventTimedFunction:function(){var t=this;return"function"==typeof this.eventTimed?this.eventTimed:function(e){return!!e[t.eventTimed]}},eventCategoryFunction:function(){var t=this;return"function"==typeof this.eventCategory?this.eventCategory:function(e){return e[t.eventCategory]}},eventTextColorFunction:function(){var t=this;return"function"==typeof this.eventTextColor?this.eventTextColor:function(){return t.eventTextColor}},eventNameFunction:function(){var t=this;return"function"==typeof this.eventName?this.eventName:function(e,n){return e.input[t.eventName]||""}},eventModeFunction:function(){return"function"==typeof this.eventOverlapMode?this.eventOverlapMode:V[this.eventOverlapMode]},eventWeekdays:function(){return this.parsedWeekdays},categoryMode:function(){return"category"===this.type}},methods:{eventColorFunction:function(t){return"function"==typeof this.eventColor?this.eventColor(t):t.color||this.eventColor},parseEvent:function(input){return function(input,t,e,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=input[e],c=input[n],d=Object(y.v)(l,!0),h=c?Object(y.v)(c,!0):d,f=Object(y.r)(l)?Object(y.A)(d,r):d,m=Object(y.r)(c)?Object(y.A)(h,r):h,v=Object(y.k)(f),x=Object(y.p)(f),w=Object(y.k)(m),k=f.hasTime?0:2359;return{input:input,start:f,startIdentifier:v,startTimestampIdentifier:x,end:m,endIdentifier:w,endTimestampIdentifier:Object(y.p)(m)+k,allDay:!f.hasTime,index:t,category:o}}(input,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,this.eventStart,this.eventEnd,this.eventTimedFunction(input),!!this.categoryMode&&this.eventCategoryFunction(input))},formatTime:function(t,e){return this.getFormatter({timeZone:"UTC",hour:"numeric",minute:t.minute>0?"numeric":void 0})(t,!0)},updateEventVisibility:function(){if(!this.noEvents&&this.eventMore){var t=this.eventHeight,e=this.getEventsMap();for(var n in e){var r=e[n],o=r.parent,l=r.events,c=r.more;if(!c)break;for(var d=o.getBoundingClientRect(),h=l.length-1,f=l.map((function(t){return{event:t,bottom:t.getBoundingClientRect().bottom}})).sort((function(a,b){return a.bottom-b.bottom})),m=0,i=0;i<=h;i++){var v=f[i].bottom;(i===h?v>d.bottom:v+t>d.bottom)&&(f[i].event.style.display="none",m++)}m?(c.style.display="",c.innerHTML=this.$vuetify.lang.t(this.eventMoreText,m)):c.style.display="none"}}},getEventsMap:function(){var t={},e=this.$refs.events;return e&&e.forEach?(e.forEach((function(e){var n=e.getAttribute("data-date");e.parentElement&&n&&(n in t||(t[n]={parent:e.parentElement,more:null,events:[]}),e.getAttribute("data-more")?t[n].more=e:(t[n].events.push(e),e.style.display=""))})),t):t},genDayEvent:function(t,e){var n=t.event,r=this.eventHeight,o=this.eventMarginBottom,l=Object(y.k)(e),c=e.week,d=l===n.startIdentifier,h=l===n.endIdentifier,f=95;if(!this.categoryMode)for(var i=e.index+1;i<c.length;i++){var m=Object(y.k)(c[i]);if(!(n.endIdentifier>=m)){h=!0;break}f+=100,h=h||m===n.endIdentifier}var v={eventParsed:n,day:e,start:d,end:h,timed:!1};return this.genEvent(n,v,!1,{staticClass:"v-event",class:{"v-event-start":d,"v-event-end":h},style:{height:"".concat(r,"px"),width:"".concat(f,"%"),"margin-bottom":"".concat(o,"px")},attrs:{"data-date":e.date},key:n.index,ref:"events",refInFor:!0})},genTimedEvent:function(t,e){var n=t.event,r=t.left,o=t.width;if(e.timeDelta(n.end)<0||e.timeDelta(n.start)>=1||function(t,e){return"00:00"===t.end.time&&t.end.date===e.date&&t.start.date!==e.date}(n,e))return!1;var l=Object(y.k)(e),c=n.startIdentifier>=l,d=n.endIdentifier>l,h=c?e.timeToY(n.start):0,f=d?e.timeToY(1440):e.timeToY(n.end),m=Math.max(this.eventHeight,f-h),v={eventParsed:n,day:e,start:c,end:d,timed:!0};return this.genEvent(n,v,!0,{staticClass:"v-event-timed",style:{top:"".concat(h,"px"),height:"".concat(m,"px"),left:"".concat(r,"%"),width:"".concat(o,"%")}})},genEvent:function(t,e,n,data){var r,o=this,slot=this.$scopedSlots.event,text=this.eventTextColorFunction(t.input),l=this.eventColorFunction(t.input),c=t.start.hour<12&&t.end.hour>=12,d=Object(y.j)(t.start,t.end)<=this.parsedEventOverlapThreshold,h=this.formatTime,f=function(){return h(t.start,c)+" - "+h(t.end,!0)},m=function(){var e=o.eventNameFunction(t,n);if(t.start.hasTime){if(n){var time=f(),r=d?", ":o.$createElement("br");return o.$createElement("span",{staticClass:"v-event-summary"},[o.$createElement("strong",[e]),r,time])}var l=h(t.start,!0);return o.$createElement("span",{staticClass:"v-event-summary"},[o.$createElement("strong",[l])," ",e])}return o.$createElement("span",{staticClass:"v-event-summary"},[e])},v=X(X({},e),{},{event:t.input,outside:e.day.outside,singline:d,overlapsNoon:c,formatTime:h,timeSummary:f,eventSummary:m});return this.$createElement("div",this.setTextColor(text,this.setBackgroundColor(l,X({on:this.getDefaultMouseEventHandlers(":event",(function(t){return X(X({},v),{},{nativeEvent:t})})),directives:[{name:"ripple",value:null===(r=this.eventRipple)||void 0===r||r}]},data))),slot?slot(v):[this.genName(m)])},genName:function(t){return this.$createElement("div",{staticClass:"pl-1"},[t()])},genPlaceholder:function(t){var e=this.eventHeight+this.eventMarginBottom;return this.$createElement("div",{style:{height:"".concat(e,"px")},attrs:{"data-date":t.date},ref:"events",refInFor:!0})},genMore:function(t){var e,n=this.eventHeight,r=this.eventMarginBottom;return this.$createElement("div",{staticClass:"v-event-more pl-1",class:{"v-outside":t.outside},attrs:{"data-date":t.date,"data-more":1},directives:[{name:"ripple",value:null===(e=this.eventRipple)||void 0===e||e}],on:this.getDefaultMouseEventHandlers(":more",(function(e){return X({nativeEvent:e},t)})),style:{display:"none",height:"".concat(n,"px"),"margin-bottom":"".concat(r,"px")},ref:"events",refInFor:!0})},getVisibleEvents:function(){var t=Object(y.k)(this.days[0]),e=Object(y.k)(this.days[this.days.length-1]);return this.parsedEvents.filter((function(n){return function(t,e,n){return e<=t.endIdentifier&&n>=t.startIdentifier}(n,t,e)}))},isEventForCategory:function(t,e){return!this.categoryMode||"object"===Object(r.a)(e)&&e.categoryName&&e.categoryName===t.category||"string"==typeof t.category&&e===t.category||"string"!=typeof t.category&&null===e},getEventsForDay:function(t){var e=Object(y.k)(t),n=this.eventWeekdays[0];return this.parsedEvents.filter((function(r){return J(r,t,e,n)}))},getEventsForDayAll:function(t){var e=this,n=Object(y.k)(t),r=this.eventWeekdays[0];return this.parsedEvents.filter((function(o){return o.allDay&&(e.categoryMode?K(o,n):J(o,t,n,r))&&e.isEventForCategory(o,t.category)}))},getEventsForDayTimed:function(t){var e=this,n=Object(y.k)(t);return this.parsedEvents.filter((function(r){return!r.allDay&&K(r,n)&&e.isEventForCategory(r,t.category)}))},getScopedSlots:function(){var t=this;if(this.noEvents)return X({},this.$scopedSlots);var e=this.eventModeFunction(this.parsedEvents,this.eventWeekdays[0],this.parsedEventOverlapThreshold),n=function(input){return!!input},r=function(r,o,l,c){var d=o(r),h=e(r,d,c,t.categoryMode);if(c)return h.map((function(t){return l(t,r)})).filter(n);var f=[];return h.forEach((function(e,n){for(;f.length<e.column;)f.push(t.genPlaceholder(r));var o=l(e,r);o&&f.push(o)})),f},o=this.$scopedSlots,l=o.day,c=o["day-header"],d=o["day-body"];return X(X({},o),{},{day:function(e){var n=r(e,t.getEventsForDay,t.genDayEvent,!1);if(n&&n.length>0&&t.eventMore&&n.push(t.genMore(e)),l){var slot=l(e);slot&&(n=n?n.concat(slot):slot)}return n},"day-header":function(e){var n=r(e,t.getEventsForDayAll,t.genDayEvent,!1);if(c){var slot=c(e);slot&&(n=n?n.concat(slot):slot)}return n},"day-body":function(e){var n=r(e,t.getEventsForDayTimed,t.genTimedEvent,!0),o=[t.$createElement("div",{staticClass:"v-event-timed-container"},n)];if(d){var slot=d(e);slot&&(o=o.concat(slot))}return o}})}}}),Q=(n(1144),n(83)),tt=(n(1009),n(80)),et=n(0),nt=n(1084);function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var st=U.extend({name:"v-calendar-weekly",props:W.weeks,computed:{staticClass:function(){return"v-calendar-weekly"},classes:function(){return this.themeClasses},parsedMinWeeks:function(){return parseInt(this.minWeeks)},days:function(){var t=this.parsedMinWeeks*this.parsedWeekdays.length,e=this.getStartOfWeek(this.parsedStart),n=this.getEndOfWeek(this.parsedEnd);return Object(y.f)(e,n,this.times.today,this.weekdaySkips,Number.MAX_SAFE_INTEGER,t)},todayWeek:function(){var t=this.times.today,e=this.getStartOfWeek(t),n=this.getEndOfWeek(t);return Object(y.f)(e,n,t,this.weekdaySkips,this.parsedWeekdays.length,this.parsedWeekdays.length)},monthFormatter:function(){if(this.monthFormat)return this.monthFormat;var t={timeZone:"UTC",month:"long"},e={timeZone:"UTC",month:"short"};return Object(y.h)(this.currentLocale,(function(n,r){return r?e:t}))}},methods:{isOutside:function(t){var e=Object(y.k)(t);return e<Object(y.k)(this.parsedStart)||e>Object(y.k)(this.parsedEnd)},genHead:function(){return this.$createElement("div",{staticClass:"v-calendar-weekly__head",attrs:{role:"row"}},this.genHeadDays())},genHeadDays:function(){var header=this.todayWeek.map(this.genHeadDay);return this.showWeek&&header.unshift(this.$createElement("div",{staticClass:"v-calendar-weekly__head-weeknumber"})),header},genHeadDay:function(t,e){var n=this.isOutside(this.days[e]),r=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(r,{key:t.date,staticClass:"v-calendar-weekly__head-weekday",class:this.getRelativeClasses(t,n),attrs:{role:"columnheader"}}),this.weekdayFormatter(t,this.shortWeekdays))},genWeeks:function(){for(var t=this.days,e=this.parsedWeekdays.length,n=[],i=0;i<t.length;i+=e)n.push(this.genWeek(t.slice(i,i+e),this.getWeekNumber(t[i])));return n},genWeek:function(t,e){var n=this,r=t.map((function(e,r){return n.genDay(e,r,t)}));return this.showWeek&&r.unshift(this.genWeekNumber(e)),this.$createElement("div",{key:t[0].date,staticClass:"v-calendar-weekly__week",attrs:{role:"row"}},r)},getWeekNumber:function(t){return Object(nt.b)(t.year,t.month-1,t.day,this.parsedWeekdays[0],parseInt(this.localeFirstDayOfYear))},genWeekNumber:function(t){return this.$createElement("div",{staticClass:"v-calendar-weekly__weeknumber"},[this.$createElement("small",String(t))])},genDay:function(t,e,n){var r=this.isOutside(t);return this.$createElement("div",{key:t.date,staticClass:"v-calendar-weekly__day",class:this.getRelativeClasses(t,r),attrs:{role:"cell"},on:this.getDefaultMouseEventHandlers(":day",(function(e){return ot({nativeEvent:e},t)}))},[this.genDayLabel(t)].concat(Object(Q.a)(Object(et.t)(this,"day",(function(){return ot({outside:r,index:e,week:n},t)}))||[])))},genDayLabel:function(t){return this.$createElement("div",{staticClass:"v-calendar-weekly__day-label"},Object(et.t)(this,"day-label",t)||[this.genDayLabelButton(t)])},genDayLabelButton:function(t){var e=t.present?this.color:"transparent",n=1===t.day&&this.showMonthOnFirst;return this.$createElement(tt.a,{props:{color:e,fab:!0,depressed:!0,small:!0},on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(function(e){return ot({nativeEvent:e},t)}))},n?this.monthFormatter(t,this.shortMonths)+" "+this.dayFormatter(t,!1):this.dayFormatter(t,!1))},genDayMonth:function(t){var e=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-weekly__day-month"}),Object(et.t)(this,"day-month",t)||this.monthFormatter(t,this.shortMonths))}},render:function(t){return t("div",{staticClass:this.staticClass,class:this.classes,on:{dragstart:function(t){t.preventDefault()}}},[this.hideHeader?"":this.genHead()].concat(Object(Q.a)(this.genWeeks())))}}),at=st.extend({name:"v-calendar-monthly",computed:{staticClass:function(){return"v-calendar-monthly v-calendar-weekly"},parsedStart:function(){return Object(y.n)(Object(y.v)(this.start,!0))},parsedEnd:function(){return Object(y.l)(Object(y.v)(this.end,!0))}}}),lt=(n(1222),U.extend({name:"calendar-with-intervals",props:W.intervals,computed:{parsedFirstInterval:function(){return parseInt(this.firstInterval)},parsedIntervalMinutes:function(){return parseInt(this.intervalMinutes)},parsedIntervalCount:function(){return parseInt(this.intervalCount)},parsedIntervalHeight:function(){return parseFloat(this.intervalHeight)},parsedFirstTime:function(){return Object(y.u)(this.firstTime)},firstMinute:function(){var time=this.parsedFirstTime;return!1!==time&&time>=0&&time<=y.d?time:this.parsedFirstInterval*this.parsedIntervalMinutes},bodyHeight:function(){return this.parsedIntervalCount*this.parsedIntervalHeight},days:function(){return Object(y.f)(this.parsedStart,this.parsedEnd,this.times.today,this.weekdaySkips,this.maxDays)},intervals:function(){var t=this.days,e=this.firstMinute,n=this.parsedIntervalMinutes,r=this.parsedIntervalCount,o=this.times.now;return t.map((function(t){return Object(y.g)(t,e,n,r,o)}))},intervalFormatter:function(){if(this.intervalFormat)return this.intervalFormat;var t={timeZone:"UTC",hour:"2-digit",minute:"2-digit"},e={timeZone:"UTC",hour:"numeric",minute:"2-digit"},n={timeZone:"UTC",hour:"numeric"};return Object(y.h)(this.currentLocale,(function(r,o){return o?0===r.minute?n:e:t}))}},methods:{showIntervalLabelDefault:function(t){var e=this.intervals[0][0];return!(e.hour===t.hour&&e.minute===t.minute)},intervalStyleDefault:function(t){},getTimestampAtEvent:function(t,e){var n=Object(y.e)(e),r=t.currentTarget.getBoundingClientRect(),o=this.firstMinute,l=t,c=t,d=l.changedTouches||l.touches,h=((d&&d[0]?d[0].clientY:c.clientY)-r.top)/this.parsedIntervalHeight,f=o+Math.floor(h*this.parsedIntervalMinutes);return Object(y.B)(n,f,this.times.now)},getSlotScope:function(t){var e=Object(y.e)(t);return e.timeToY=this.timeToY,e.timeDelta=this.timeDelta,e.minutesToPixels=this.minutesToPixels,e.week=this.days,e},scrollToTime:function(time){var t=this.timeToY(time),e=this.$refs.scrollArea;return!(!1===t||!e)&&(e.scrollTop=t,!0)},minutesToPixels:function(t){return t/this.parsedIntervalMinutes*this.parsedIntervalHeight},timeToY:function(time){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=this.timeDelta(time);return!1!==e&&(e*=this.bodyHeight,t&&(e<0&&(e=0),e>this.bodyHeight&&(e=this.bodyHeight))),e},timeDelta:function(time){var t=Object(y.u)(time);return!1!==t&&(t-this.firstMinute)/(this.parsedIntervalCount*this.parsedIntervalMinutes)}}}));function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var pt=lt.extend({name:"v-calendar-daily",directives:{Resize:w.a},data:function(){return{scrollPush:0}},computed:{classes:function(){return ut({"v-calendar-daily":!0},this.themeClasses)}},mounted:function(){this.init()},methods:{init:function(){this.$nextTick(this.onResize)},onResize:function(){this.scrollPush=this.getScrollPush()},getScrollPush:function(){var area=this.$refs.scrollArea,t=this.$refs.pane;return area&&t?area.offsetWidth-t.offsetWidth:0},genHead:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__head",style:{marginRight:this.scrollPush+"px"}},[this.genHeadIntervals()].concat(Object(Q.a)(this.genHeadDays())))},genHeadIntervals:function(){var t=Object(et.i)(this.intervalWidth);return this.$createElement("div",{staticClass:"v-calendar-daily__intervals-head",style:{width:t}},Object(et.t)(this,"interval-header"))},genHeadDays:function(){return this.days.map(this.genHeadDay)},genHeadDay:function(t,e){var n=this;return this.$createElement("div",{key:t.date,staticClass:"v-calendar-daily_head-day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":day",(function(e){return ut({nativeEvent:e},n.getSlotScope(t))}))},[this.genHeadWeekday(t),this.genHeadDayLabel(t)].concat(Object(Q.a)(this.genDayHeader(t,e))))},genDayHeader:function(t,e){var n=this;return Object(et.t)(this,"day-header",(function(){return ut(ut({week:n.days},t),{},{index:e})}))||[]},genHeadWeekday:function(t){var e=t.present?this.color:void 0;return this.$createElement("div",this.setTextColor(e,{staticClass:"v-calendar-daily_head-weekday"}),this.weekdayFormatter(t,this.shortWeekdays))},genHeadDayLabel:function(t){return this.$createElement("div",{staticClass:"v-calendar-daily_head-day-label"},Object(et.t)(this,"day-label-header",t)||[this.genHeadDayButton(t)])},genHeadDayButton:function(t){var e=t.present?this.color:"transparent";return this.$createElement(tt.a,{props:{color:e,fab:!0,depressed:!0},on:this.getMouseEventHandlers({"click:date":{event:"click",stop:!0},"contextmenu:date":{event:"contextmenu",stop:!0,prevent:!0,result:!1}},(function(e){return ut({nativeEvent:e},t)}))},this.dayFormatter(t,!1))},genBody:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__body"},[this.genScrollArea()])},genScrollArea:function(){return this.$createElement("div",{ref:"scrollArea",staticClass:"v-calendar-daily__scroll-area"},[this.genPane()])},genPane:function(){return this.$createElement("div",{ref:"pane",staticClass:"v-calendar-daily__pane",style:{height:Object(et.i)(this.bodyHeight)}},[this.genDayContainer()])},genDayContainer:function(){return this.$createElement("div",{staticClass:"v-calendar-daily__day-container"},[this.genBodyIntervals()].concat(Object(Q.a)(this.genDays())))},genDays:function(){return this.days.map(this.genDay)},genDay:function(t,e){var n=this;return this.$createElement("div",{key:t.date,staticClass:"v-calendar-daily__day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":time",(function(e){return ut({nativeEvent:e},n.getSlotScope(n.getTimestampAtEvent(e,t)))}))},[].concat(Object(Q.a)(this.genDayIntervals(e)),Object(Q.a)(this.genDayBody(t))))},genDayBody:function(t){var e=this;return Object(et.t)(this,"day-body",(function(){return e.getSlotScope(t)}))||[]},genDayIntervals:function(t){return this.intervals[t].map(this.genDayInterval)},genDayInterval:function(t){var e=this,n=Object(et.i)(this.intervalHeight),r=this.intervalStyle||this.intervalStyleDefault,data={key:t.time,staticClass:"v-calendar-daily__day-interval",style:ut({height:n},r(t))},o=Object(et.t)(this,"interval",(function(){return e.getSlotScope(t)}));return this.$createElement("div",data,o)},genBodyIntervals:function(){var t=this,data={staticClass:"v-calendar-daily__intervals-body",style:{width:Object(et.i)(this.intervalWidth)},on:this.getDefaultMouseEventHandlers(":interval",(function(e){return ut({nativeEvent:e},t.getTimestampAtEvent(e,t.parsedStart))}))};return this.$createElement("div",data,this.genIntervalLabels())},genIntervalLabels:function(){return this.intervals.length?this.intervals[0].map(this.genIntervalLabel):null},genIntervalLabel:function(t){var e=Object(et.i)(this.intervalHeight),n=this.shortIntervals,label=(this.showIntervalLabel||this.showIntervalLabelDefault)(t)?this.intervalFormatter(t,n):void 0;return this.$createElement("div",{key:t.time,staticClass:"v-calendar-daily__interval",style:{height:e}},[this.$createElement("div",{staticClass:"v-calendar-daily__interval-text"},label)])}},render:function(t){return t("div",{class:this.classes,on:{dragstart:function(t){t.preventDefault()}},directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}]},[this.hideHeader?"":this.genHead(),this.genBody()])}});n(560),n(1224),n(270);function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mt(t,e){return"string"==typeof t?t.split(/\s*,\s/):Array.isArray(t)?t.map((function(t){if("string"==typeof t)return t;var n="string"==typeof t.categoryName?t.categoryName:function(t,e){return"string"==typeof e&&"object"===Object(r.a)(t)&&t?t[e]:"function"==typeof e?e(t):t}(t,e);return ft(ft({},t),{},{categoryName:n})})):[]}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var yt=pt.extend({name:"v-calendar-category",props:W.category,computed:{classes:function(){return vt({"v-calendar-daily":!0,"v-calendar-category":!0},this.themeClasses)},parsedCategories:function(){return mt(this.categories,this.categoryText)}},methods:{genDayHeader:function(t,e){var n=this,r=vt(vt({week:this.days},t),{},{index:e}),o=this.parsedCategories.map((function(e){return n.genDayHeaderCategory(t,n.getCategoryScope(r,e))}));return[this.$createElement("div",{staticClass:"v-calendar-category__columns"},o)]},getCategoryScope:function(t,e){var n="object"===Object(r.a)(e)&&e&&e.categoryName===this.categoryForInvalid?null:e;return vt(vt({},t),{},{category:n})},genDayHeaderCategory:function(t,e){var n=this,o="object"===Object(r.a)(e.category)?e.category.categoryName:e.category;return this.$createElement("div",{staticClass:"v-calendar-category__column-header",on:this.getDefaultMouseEventHandlers(":day-category",(function(r){return n.getCategoryScope(n.getSlotScope(t),e.category)}))},[Object(et.t)(this,"category",e)||this.genDayHeaderCategoryTitle(o),Object(et.t)(this,"day-header",e)])},genDayHeaderCategoryTitle:function(t){return this.$createElement("div",{staticClass:"v-calendar-category__category"},null===t?this.categoryForInvalid:t)},genDays:function(){var t=this,e=[];return this.days.forEach((function(n,r){var o=new Array(t.parsedCategories.length||1);o.fill(n),e.push.apply(e,Object(Q.a)(o.map((function(e,i){return t.genDay(e,r,i)}))))})),e},genDay:function(t,e,n){var r=this,o=this.parsedCategories[n];return this.$createElement("div",{key:t.date+"-"+n,staticClass:"v-calendar-daily__day",class:this.getRelativeClasses(t),on:this.getDefaultMouseEventHandlers(":time",(function(e){return r.getSlotScope(r.getTimestampAtEvent(e,t))}))},[].concat(Object(Q.a)(this.genDayIntervals(e,o)),Object(Q.a)(this.genDayBody(t,o))))},genDayIntervals:function(t,e){var n=this;return this.intervals[t].map((function(t){return n.genDayInterval(t,e)}))},genDayInterval:function(t,e){var n=this,r=Object(et.i)(this.intervalHeight),o=this.intervalStyle||this.intervalStyleDefault,data={key:t.time,staticClass:"v-calendar-daily__day-interval",style:vt({height:r},o(vt(vt({},t),{},{category:e})))},l=Object(et.t)(this,"interval",(function(){return n.getCategoryScope(n.getSlotScope(t),e)}));return this.$createElement("div",data,l)},genDayBody:function(t,e){var n=[this.genDayBodyCategory(t,e)];return[this.$createElement("div",{staticClass:"v-calendar-category__columns"},n)]},genDayBodyCategory:function(t,e){var n=this,data={staticClass:"v-calendar-category__column",on:this.getDefaultMouseEventHandlers(":time-category",(function(r){return n.getCategoryScope(n.getSlotScope(n.getTimestampAtEvent(r,t)),e)}))},r=Object(et.t)(this,"day-body",(function(){return n.getCategoryScope(n.getSlotScope(t),e)}));return this.$createElement("div",data,r)}}});function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=Z.extend({name:"v-calendar",props:xt(xt(xt(xt({},W.calendar),W.weeks),W.intervals),W.category),data:function(){return{lastStart:null,lastEnd:null}},computed:{parsedValue:function(){return Object(y.F)(this.value)?Object(y.v)(this.value,!0):this.parsedStart||this.times.today},parsedCategoryDays:function(){return parseInt(this.categoryDays)||1},renderProps:function(){var t=this.parsedValue,component=null,e=this.maxDays,n=this.parsedWeekdays,r=this.parsedCategories,o=t,l=t;switch(this.type){case"month":component=at,o=Object(y.n)(t),l=Object(y.l)(t);break;case"week":component=pt,o=this.getStartOfWeek(t),l=this.getEndOfWeek(t),e=7;break;case"day":component=pt,e=1,n=[o.weekday];break;case"4day":component=pt,l=Object(y.x)(Object(y.e)(l),y.s,3),Object(y.z)(l),e=4,n=[o.weekday,(o.weekday+1)%7,(o.weekday+2)%7,(o.weekday+3)%7];break;case"custom-weekly":component=st,o=this.parsedStart||t,l=this.parsedEnd;break;case"custom-daily":component=pt,o=this.parsedStart||t,l=this.parsedEnd;break;case"category":var c=this.parsedCategoryDays;component=yt,l=Object(y.x)(Object(y.e)(l),y.s,c),Object(y.z)(l),e=c,n=[];for(var i=0;i<c;i++)n.push((o.weekday+i)%7);r=this.getCategoryList(r);break;default:throw new Error(this.type+" is not a valid Calendar type")}return{component:component,start:o,end:l,maxDays:e,weekdays:n,categories:r}},eventWeekdays:function(){return this.renderProps.weekdays},categoryMode:function(){return"category"===this.type},title:function(){var t=this.renderProps,e=t.start,n=t.end,r=e.year!==n.year,o=r||e.month!==n.month;return r?this.monthShortFormatter(e,!0)+" "+e.year+" - "+this.monthShortFormatter(n,!0)+" "+n.year:o?this.monthShortFormatter(e,!0)+" - "+this.monthShortFormatter(n,!0)+" "+n.year:this.monthLongFormatter(e,!1)+" "+e.year},monthLongFormatter:function(){return this.getFormatter({timeZone:"UTC",month:"long"})},monthShortFormatter:function(){return this.getFormatter({timeZone:"UTC",month:"short"})},parsedCategories:function(){return mt(this.categories,this.categoryText)}},watch:{renderProps:"checkChange"},mounted:function(){this.updateEventVisibility(),this.checkChange()},updated:function(){window.requestAnimationFrame(this.updateEventVisibility)},methods:{checkChange:function(){var t=this.lastStart,e=this.lastEnd,n=this.renderProps,r=n.start,o=n.end;t&&e&&r.date===t.date&&o.date===e.date||(this.lastStart=r,this.lastEnd=o,this.$emit("change",{start:r,end:o}))},move:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Object(y.e)(this.parsedValue),n=t>0,r=n?y.s:y.w,o=n?y.a:y.c,l=n?t:-t;--l>=0;)switch(this.type){case"month":e.day=o,r(e);break;case"week":Object(y.x)(e,r,y.b);break;case"day":Object(y.x)(e,r,1);break;case"4day":Object(y.x)(e,r,4);break;case"category":Object(y.x)(e,r,this.parsedCategoryDays)}Object(y.D)(e),Object(y.z)(e),Object(y.C)(e,this.times.now),this.value instanceof Date?this.$emit("input",Object(y.y)(e)):"number"==typeof this.value?this.$emit("input",Object(y.y)(e).getTime()):this.$emit("input",e.date),this.$emit("moved",e)},next:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move(t)},prev:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move(-t)},timeToY:function(time){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=this.$children[0];return!(!e||!e.timeToY)&&e.timeToY(time,t)},timeDelta:function(time){var t=this.$children[0];return!(!t||!t.timeDelta)&&t.timeDelta(time)},minutesToPixels:function(t){var e=this.$children[0];return e&&e.minutesToPixels?e.minutesToPixels(t):-1},scrollToTime:function(time){var t=this.$children[0];return!(!t||!t.scrollToTime)&&t.scrollToTime(time)},parseTimestamp:function(input,t){return Object(y.v)(input,t,this.times.now)},timestampToDate:function(t){return Object(y.y)(t)},getCategoryList:function(t){var e=this;if(!this.noEvents){var n=t.reduce((function(map,t,e){return"object"===Object(r.a)(t)&&t.categoryName?map[t.categoryName]={index:e,count:0}:"string"==typeof t&&(map[t]={index:e,count:0}),map}),{});if(!this.categoryHideDynamic||!this.categoryShowAll){var o=t.length;this.parsedEvents.forEach((function(t){var r=t.category;"string"!=typeof r&&(r=e.categoryForInvalid),r&&(r in n?n[r].count++:e.categoryHideDynamic||(n[r]={index:o++,count:1}))}))}if(!this.categoryShowAll)for(var l in n)0===n[l].count&&delete n[l];t=t.filter((function(t){return"object"===Object(r.a)(t)&&t.categoryName?n.hasOwnProperty(t.categoryName):"string"==typeof t&&n.hasOwnProperty(t)}))}return t}},render:function(t){var e=this,n=this.renderProps,r=n.start,o=n.end,l=n.maxDays,component=n.component,c=n.weekdays,d=n.categories;return t(component,{staticClass:"v-calendar",class:{"v-calendar-events":!this.noEvents},props:xt(xt({},this.$props),{},{start:r.date,end:o.date,maxDays:l,weekdays:c,categories:d}),attrs:{role:"grid"},directives:[{modifiers:{quiet:!0},name:"resize",value:this.updateEventVisibility}],on:xt(xt({},this.$listeners),{},{"click:date":function(t,n){e.$listeners.input&&e.$emit("input",t.date),e.$listeners["click:date"]&&e.$emit("click:date",t,n)}}),scopedSlots:this.getScopedSlots()})}})},1428:function(t,e,n){"use strict";n.r(e);var r=n(953),o=n(345),l=n(1346),c=n(367),d=n(12),h=n(886),f=n(909),m=n(885),v=n(85),y=n(1012),x=n(1014),w=n(1013),k=n(986),_=n(316),O=n(369),S=n(370),M=n(252),C=n(372),T=n(81),E=n(905),P=n(900),D=n(1332),j=n(1333),A=n(112),I=n(314),N=n(1101),$=(n(65),n(9)),R=(n(58),n(167),n(89),n(151),n(5),n(13),n(1236)),B=n(1036),L=n(936),z=n(996),H=n(1027),F=n(1011),V={props:{value:{type:Boolean,default:!1},showButton:{type:Boolean,default:!1}},data:function(){return{panels:[],isDense:!1}},mounted:function(){this.isDense=this.value},methods:{toggleDense:function(){this.isDense=!this.isDense,this.$emit("input",this.isDense)}}},W=n(42),Y=Object(W.a)(V,(function(){var t=this,e=t._self._c;return e("div",[e(F.a,{attrs:{multiple:"",focusable:""},model:{value:t.panels,callback:function(e){t.panels=e},expression:"panels"}},[t._t("default")],2),t._v(" "),t.showButton?e(o.a,{staticClass:"mt-3",attrs:{small:"",text:"",block:""},on:{click:t.toggleDense}},[t.isDense?e(_.a,[t._v("\n      icon icon-arrow-right\n    ")]):e(_.a,[t._v("\n      icon icon-arrow-left\n    ")]),t._v(" "),t.isDense?e("span"):e("span",[t._v("\n      Minimieren\n    ")])],1):t._e()],1)}),[],!1,null,null,null).exports,U=n(1327),K={name:"Poolview",components:{PoolEntities:R.a,DeleteConfirm:z.a,CrossViewConflict:H.a,ExpansionPanelSidebar:Y,EntityCommentsComments:U.a},props:{pool:{type:Object,default:function(){}}},data:function(){return{focus:new Date,timelineMode:1,timetable:[],triggers:[],isLoading:!0,currentMonth:"",denseSidebar:!1}},fetch:function(){var t=this;return Object($.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.commit("hub/breadcrumbs",[{text:"Content Pools",to:{name:"pools-index"}},{text:t.pool.name,to:{name:"pools-index-id",params:t.$route.params}}]),t.isLoading=!0,t.pool.type!=B.d.TYPE_STREAM){e.next=11;break}return e.next=5,t.$axios("pools/"+t.pool.id+"/timeline?expand=user,entityTitle,entityId,entityType");case 5:return n=e.sent,t.timetable=n.data.map((function(t){return t.details=!1,t})),e.next=9,t.$axios("pools/"+t.pool.id+"/triggers");case 9:r=e.sent,t.triggers=r.data;case 11:t.isLoading=!1;case 12:case"end":return e.stop()}}),e)})))()},computed:{scheduledItems:function(){var t=[];return this.timetable.forEach((function(e){var n=1e3*e.time_scheduled,r=1e3*e.time_scheduled,o=t.findIndex((function(t){return t.entityId==e.entityId&&t.entityType==e.entityType&&!1===t.hasPreviousItem&&"insert"==t.action&&"remove"==e.action}));-1!==o?(t[o].end=n,t[o].hasPreviousItem=o,t[o].color="primary"):t.push({start:n,end:r,action:e.action,entityId:e.entityId,entityType:e.entityType,hasPreviousItem:!1,timed:!0,color:"remove"==e.action?"red":"success",name:e.entityTitle})})),t}},watch:{timelineMode:function(t){this.$nextTick((function(){this.checkCalendar()}))}},methods:{checkCalendar:function(){this.$refs.calendar&&(this.$refs.calendar.checkChange(),this.currentMonth=this.$moment(this.focus).format("MMMM YYYY"))},prev:function(){this.$refs.calendar.prev(),this.checkCalendar()},next:function(){this.$refs.calendar.next(),this.checkCalendar()},removeScheduledItem:function(t,e){var n=this;return Object($.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.$axios.delete("streams/"+n.pool.type_pk_id+"/job/"+t.id);case 2:r.sent,n.$store.dispatch("snackbar/success","Der Eintrag wurde aus dem Fahrplan entfernt."),n.timetable.splice(e,1);case 5:case"end":return r.stop()}}),r)})))()},extractRoute:function(t){this.$router.push(Object(L.a)(t))}}},J=Object(W.a)(K,(function(){var t=this,e=t._self._c;return e(E.a,{staticClass:"mt-2"},[e(f.a,{class:{"py-0":2==t.pool.type},attrs:{cols:"12",xl:1==t.pool.type&&t.$store.state.layout.poolSidebar?8:12,lg:1==t.pool.type&&t.$store.state.layout.poolSidebar?7:12}},[t.pool?e("pool-entities",{attrs:{pool:t.pool,triggers:t.triggers,timetable:t.timetable},on:{fetchPoolInfos:function(e){return t.$fetch()}}}):t._e()],1),t._v(" "),1==t.pool.type&&t.$store.state.layout.poolSidebar?e(f.a,{attrs:{cols:"12",xl:4,lg:5}},[e("cross-view-conflict"),t._v(" "),e("expansion-panel-sidebar",{model:{value:t.denseSidebar,callback:function(e){t.denseSidebar=e},expression:"denseSidebar"}},[e(y.a,[e(w.a,{attrs:{"data-cy":"streamScheduledList"}},[e("span",[e(r.a,{attrs:{content:0==t.timetable.length?"0":t.timetable.length,inline:""}},[e(_.a,{attrs:{small:"",left:""}},[t._v("\n                icon icon-list\n              ")])],1),t._v(" Geplante Änderungen Liste")],1)]),t._v(" "),e(x.a,[0==t.timetable.length?e("div",[t._v("\n            Aktuell sind keine Änderungen geplant. Klicke auf das Uhr-Icon "),e(_.a,[t._v("icon icon-clock")]),t._v(", um einen Eintrag zu einem bestimmten Zeitpunkt zu entfernen. Geplante Änderungen können jederzeit wieder gelöscht werden.\n          ")],1):e(D.a,{attrs:{dense:"","align-top":""}},t._l(t.timetable,(function(n,r){return e(j.a,{key:n.id,attrs:{color:"remove"==n.action?"red":"green",icon:"remove"==n.action?"icon icon-remove":"icon icon-add","fill-dot":"",small:t.$vuetify.breakpoint.smAndDown}},[e(k.a,{scopedSlots:t._u([{key:"default",fn:function(r){var l=r.hover;return[e(A.a,{staticStyle:{cursor:"pointer"},attrs:{dense:"",flat:"",rounded:"sm",height:"36",color:l?t.$vuetify.theme.dark?"grey darken-4":"grey lighten-5":"transparent","data-cy":n.entityTitle},on:{click:function(t){n.details=!n.details}}},[e("strong",{staticClass:"text-caption",staticStyle:{"min-width":"90px"}},[t._v(t._s(t.$moment(1e3*n.time_scheduled).fromNow()))]),t._v(" "),e(P.a),t._v(" "),e(I.a,{staticClass:"text-body-2 mr-3"},[t._v("\n                    "+t._s(n.entityTitle)+"\n                  ")]),t._v(" "),e(P.a),t._v(" "),e(o.a,{attrs:{fab:"","x-small":"",elevation:"0",color:l?"primary":t.$vuetify.theme.dark?"grey darken-4":"grey lighten-4"}},[n.details?e(_.a,[t._v("\n                      icon icon-arrow-up\n                    ")]):e(_.a,[t._v("\n                      icon icon-arrow-down\n                    ")])],1)],1)]}}],null,!0)}),t._v(" "),e(v.a,[n.details?e(c.a,{staticClass:"mt-2",attrs:{rounded:"",color:t.$vuetify.theme.dark?"grey darken-4":"grey lighten-5",flat:""}},[e(d.c,{staticClass:"pb-1 justify-center",attrs:{"data-cy":"poolDetailsCard"}},[e("p",{staticClass:"mb-2 text-center"},["remove"==n.action?e(h.a,{attrs:{color:"red",small:"",label:"",outlined:"","data-cy":"poolAddAtTextRemove"}},[t._v("\n                        Entfernen am "+t._s(t.$moment(1e3*n.time_scheduled).format("DD. MMM YYYY [um] HH:mm [Uhr]"))+"\n                      ")]):e(h.a,{attrs:{color:"success",small:"",label:"",outlined:"","data-cy":"poolAddAtTextSuccess"}},[t._v("\n                        Hinzufügen am "+t._s(t.$moment(1e3*n.time_scheduled).format("DD. MMM YYYY [um] HH:mm [Uhr]"))+"\n                      ")])],1),t._v(" "),e("p",{staticClass:"text-caption text-center mb-0",attrs:{"data-cy":"poolPlannedByText"}},[t._v("\n                      geplant von "+t._s(n.user.firstname)+" "+t._s(n.user.lastname)+"\n                    ")])]),t._v(" "),e(d.c,[e(E.a,[e(f.a,{attrs:{cols:"12",md:"6"}},[e(o.a,{attrs:{block:"",small:""},on:{click:function(e){return t.extractRoute(n)}}},[e(_.a,{attrs:{left:""}},[t._v("\n                            icon icon-link\n                          ")]),t._v(" Ansehen\n                        ")],1)],1),t._v(" "),e(f.a,{attrs:{cols:"12",md:"6"}},[e("delete-confirm",{attrs:{title:"Geplante Änderung Entfernen",label:"Entfernen",icon:"icon icon-remove","button-icon":!1,small:"",block:""},on:{delete:function(e){return t.removeScheduledItem(n,r)}},scopedSlots:t._u([{key:"button",fn:function(){return[e(_.a,{attrs:{left:""}},[t._v("\n                              icon icon-remove\n                            ")]),t._v(" Löschen\n                          ")]},proxy:!0}],null,!0)},[e(d.c,[t._v("Diese geplante Fahrplan-Änderung für "),e("b",[t._v(t._s(n.entityTitle))]),t._v(" jetzt löschen.")])],1)],1)],1)],1)],1):t._e()],1)],1)})),1)],1)],1),t._v(" "),e(y.a,[e(w.a,{attrs:{"data-cy":"streamScheduledCalendar"}},[e("span",[e(r.a,{attrs:{content:0==t.timetable.length?"0":t.timetable.length,inline:""}},[e(_.a,{attrs:{small:"",left:""}},[t._v("\n                icon icon-eventdate\n              ")])],1),t._v("\n            Geplante Änderungen Kalender\n          ")],1)]),t._v(" "),e(x.a,[0==t.timetable.length?e("div",[t._v("\n            Aktuell sind keine Änderungen geplant. Klicke auf das Uhr-Icon "),e(_.a,[t._v("icon icon-clock")]),t._v(", um einen Eintrag zu einem bestimmten Zeitpunkt zu entfernen. Geplante Änderungen können jederzeit wieder gelöscht werden.\n          ")],1):e("div",[e(A.a,{staticClass:"mb-3",attrs:{dense:"",flat:""}},[e(o.a,{attrs:{icon:""},on:{click:function(e){return t.prev()}}},[e(_.a,[t._v("icon icon-arrow-left")])],1),t._v(" "),e(P.a),t._v(" "),e(I.a,[t._v("\n                "+t._s(t.currentMonth)+"\n              ")]),t._v(" "),e(P.a),t._v(" "),e(o.a,{attrs:{icon:""},on:{click:function(e){return t.next()}}},[e(_.a,[t._v("icon icon-arrow-right")])],1)],1),t._v(" "),e(l.a,{ref:"calendar",attrs:{"full-width":"",events:t.scheduledItems,weekdays:[1,2,3,4,5,6,0]},scopedSlots:t._u([{key:"event",fn:function(n){var r=n.event;return[e(N.a,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e("small",t._g(t._b({staticClass:"px-2"},"small",l,!1),o),[t._v("\n                      "+t._s(r.name)+"\n                    ")])]}}],null,!0)},[t._v(" "),e("span",[!1===r.hasPreviousItem?e(h.a,{staticClass:"mr-2",attrs:{"x-small":""}},[t._v(t._s(t.$moment(r.start).format("HH:mm")))]):t._e(),t._v(" "+t._s(r.name))],1)])]}}],null,!1,405947225),model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}})],1)])],1),t._v(" "),e(y.a,[e(w.a,{attrs:{"data-cy":"streamAutomation"}},[e("span",[e(r.a,{attrs:{content:0==t.triggers.length?"0":t.triggers.length,inline:""}},[e(_.a,{attrs:{small:"",left:""}},[t._v("\n                icon icon-triggers\n              ")])],1),t._v("\n            Automationen\n          ")],1)]),t._v(" "),e(x.a,[0==t.triggers.length?e("div",[t._v("\n            Aktuell sind keine Automationen hinterlegt. Klicke auf das Zauberstab-Icon "),e(_.a,[t._v("icon icon-triggers")]),t._v(", um einen neue trigger basierte Automation zu starten.\n          ")],1):e(O.a,t._l(t.triggers,(function(n){return e(S.a,{key:n.id,scopedSlots:t._u([{key:"prependIcon",fn:function(){return[e(_.a,{attrs:{color:n.is_visible?"success":"red"},domProps:{textContent:t._s(n.is_visible?"icon icon-preview":"icon icon-hidden")}})]},proxy:!0},{key:"activator",fn:function(){return[e(T.d,[t._v(t._s(n.entity))])]},proxy:!0}],null,!0)},[t._v(" "),t._v(" "),t._l(n.items,(function(i){return e("div",{key:i.index},[e(m.a),t._v(" "),e(M.a,{attrs:{"two-line":""}},[e(C.a,{attrs:{size:"26"}},[e(_.a,[t._v("icon icon-"+t._s(i.trigger))])],1),t._v(" "),e(T.b,[e(T.d,[t._v("Anzeigen, wenn: "+t._s(i.label))]),t._v(" "),i.last_activity&&i.last_activity.stringify?e(T.c,{staticClass:"text-caption"},[t._v("\n                      "+t._s(t.$moment(1e3*i.last_activity.time).fromNow())+": "+t._s(i.last_activity.stringify)+"\n                    ")]):t._e()],1)],1)],1)}))],2)})),1)],1)],1),t._v(" "),e(y.a,{attrs:{"data-cy":"steamBuzzes"}},[e(w.a,[e("span",[e(_.a,{attrs:{left:"",small:""}},[t._v("icon icon-comment")]),t._v(" Buzzes")],1)]),t._v(" "),e(x.a,[t.pool?e("entity-comments-comments",{attrs:{id:t.pool.id,type:"pool",visible:!0}}):t._e()],1)],1)],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=J.exports},932:function(t,e,n){"use strict";n.d(e,"a",(function(){return fe})),n.d(e,"b",(function(){return kt})),n.d(e,"c",(function(){return be})),n.d(e,"d",(function(){return xe})),n.d(e,"e",(function(){return we})),n.d(e,"f",(function(){return nt})),n.d(e,"g",(function(){return Wt})),n.d(e,"h",(function(){return _e})),n.d(e,"i",(function(){return qt})),n.d(e,"j",(function(){return Jt})),n.d(e,"k",(function(){return Xt})),n.d(e,"l",(function(){return J})),n.d(e,"m",(function(){return Vt})),n.d(e,"n",(function(){return Zt})),n.d(e,"o",(function(){return Bt})),n.d(e,"p",(function(){return ne})),n.d(e,"q",(function(){return Dt})),n.d(e,"r",(function(){return me})),n.d(e,"s",(function(){return ke})),n.d(e,"t",(function(){return Q})),n.d(e,"u",(function(){return ge})),n.d(e,"v",(function(){return Oe})),n.d(e,"w",(function(){return ie})),n.d(e,"x",(function(){return ve})),n.d(e,"y",(function(){return ye}));var r=n(992),o=n(1093),l=n(1041),c=n(959),d=n(962),h=n(958);const f=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function m(t,view){let{$cursor:e}=t.selection;return!e||(view?!view.endOfTextblock("backward",t):e.parentOffset>0)?null:e}const v=(t,e,view)=>{let n=m(t,view);if(!n)return!1;let r=k(n);if(!r){let r=n.blockRange(),o=r&&Object(d.j)(r);return null!=o&&(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)}let o=r.nodeBefore;if(!o.type.spec.isolating&&I(t,r,e))return!0;if(0==n.parent.content.size&&(x(o,"end")||h.c.isSelectable(o))){let l=Object(d.k)(t.doc,n.before(),n.after(),c.j.empty);if(l&&l.slice.size<l.to-l.from){if(e){let tr=t.tr.step(l);tr.setSelection(x(o,"end")?h.f.findFrom(tr.doc.resolve(tr.mapping.map(r.pos,-1)),-1):h.c.create(tr.doc,r.pos-o.nodeSize)),e(tr.scrollIntoView())}return!0}}return!(!o.isAtom||r.depth!=n.depth-1)&&(e&&e(t.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0)};function y(t,e,n){let r=e.nodeBefore,o=e.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let t=r.lastChild;if(!t)return!1;r=t}let l=e.nodeAfter,f=e.pos+1;for(;!l.isTextblock;f++){if(l.type.spec.isolating)return!1;let t=l.firstChild;if(!t)return!1;l=t}let m=Object(d.k)(t.doc,o,f,c.j.empty);if(!m||m.from!=o||m instanceof d.c&&m.slice.size>=f-o)return!1;if(n){let tr=t.tr.step(m);tr.setSelection(h.g.create(tr.doc,o)),n(tr.scrollIntoView())}return!0}function x(t,e,n=!1){for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const w=(t,e,view)=>{let{$head:n,empty:r}=t.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(view?!view.endOfTextblock("backward",t):n.parentOffset>0)return!1;o=k(n)}let l=o&&o.nodeBefore;return!(!l||!h.c.isSelectable(l))&&(e&&e(t.tr.setSelection(h.c.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function k(t){if(!t.parent.type.spec.isolating)for(let i=t.depth-1;i>=0;i--){if(t.index(i)>0)return t.doc.resolve(t.before(i+1));if(t.node(i).type.spec.isolating)break}return null}function _(t,view){let{$cursor:e}=t.selection;return!e||(view?!view.endOfTextblock("forward",t):e.parentOffset<e.parent.content.size)?null:e}const O=(t,e,view)=>{let n=_(t,view);if(!n)return!1;let r=M(n);if(!r)return!1;let o=r.nodeAfter;if(I(t,r,e))return!0;if(0==n.parent.content.size&&(x(o,"start")||h.c.isSelectable(o))){let l=Object(d.k)(t.doc,n.before(),n.after(),c.j.empty);if(l&&l.slice.size<l.to-l.from){if(e){let tr=t.tr.step(l);tr.setSelection(x(o,"start")?h.f.findFrom(tr.doc.resolve(tr.mapping.map(r.pos)),1):h.c.create(tr.doc,tr.mapping.map(r.pos))),e(tr.scrollIntoView())}return!0}}return!(!o.isAtom||r.depth!=n.depth-1)&&(e&&e(t.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0)},S=(t,e,view)=>{let{$head:n,empty:r}=t.selection,o=n;if(!r)return!1;if(n.parent.isTextblock){if(view?!view.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;o=M(n)}let l=o&&o.nodeAfter;return!(!l||!h.c.isSelectable(l))&&(e&&e(t.tr.setSelection(h.c.create(t.doc,o.pos)).scrollIntoView()),!0)};function M(t){if(!t.parent.type.spec.isolating)for(let i=t.depth-1;i>=0;i--){let e=t.node(i);if(t.index(i)+1<e.childCount)return t.doc.resolve(t.after(i+1));if(e.type.spec.isolating)break}return null}const C=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)};function T(t){for(let i=0;i<t.edgeCount;i++){let{type:e}=t.edge(i);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const E=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),l=n.indexAfter(-1),c=T(o.contentMatchAt(l));if(!c||!o.canReplaceWith(l,l,c))return!1;if(e){let r=n.after(),tr=t.tr.replaceWith(r,r,c.createAndFill());tr.setSelection(h.f.near(tr.doc.resolve(r),1)),e(tr.scrollIntoView())}return!0},P=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof h.a||r.parent.inlineContent||o.parent.inlineContent)return!1;let l=T(o.parent.contentMatchAt(o.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,tr=t.tr.insert(n,l.createAndFill());tr.setSelection(h.g.create(tr.doc,n+1)),e(tr.scrollIntoView())}return!0},D=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Object(d.f)(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Object(d.j)(r);return null!=o&&(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};const j=(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof h.c&&t.selection.node.isBlock)return!(!n.parentOffset||!Object(d.f)(t.doc,n.pos)||(e&&e(t.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(e){let o=r.parentOffset==r.parent.content.size,tr=t.tr;(t.selection instanceof h.g||t.selection instanceof h.a)&&tr.deleteSelection();let l=0==n.depth?null:T(n.node(-1).contentMatchAt(n.indexAfter(-1))),c=A&&A(r.parent,o),f=c?[c]:o&&l?[{type:l}]:void 0,m=Object(d.f)(tr.doc,tr.mapping.map(n.pos),1,f);if(f||m||!Object(d.f)(tr.doc,tr.mapping.map(n.pos),1,l?[{type:l}]:void 0)||(l&&(f=[{type:l}]),m=!0),m&&(tr.split(tr.mapping.map(n.pos),1,f),!o&&!n.parentOffset&&n.parent.type!=l)){let t=tr.mapping.map(n.before()),e=tr.doc.resolve(t);l&&n.node(-1).canReplaceWith(e.index(),e.index()+1,l)&&tr.setNodeMarkup(tr.mapping.map(n.before()),l)}e(tr.scrollIntoView())}return!0};var A;function I(t,e,n){let r,o,l=e.nodeBefore,f=e.nodeAfter;if(l.type.spec.isolating||f.type.spec.isolating)return!1;if(function(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,l=e.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&e.parent.canReplace(l-1,l)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(l,l+1)||!o.isTextblock&&!Object(d.e)(t.doc,e.pos)||(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0;let m=e.parent.canReplace(e.index(),e.index()+1);if(m&&(r=(o=l.contentMatchAt(l.childCount)).findWrapping(f.type))&&o.matchType(r[0]||f.type).validEnd){if(n){let o=e.pos+f.nodeSize,h=c.c.empty;for(let i=r.length-1;i>=0;i--)h=c.c.from(r[i].create(null,h));h=c.c.from(l.copy(h));let tr=t.tr.step(new d.b(e.pos-1,o,e.pos,o,new c.j(h,1,0),r.length,!0)),m=o+2*r.length;Object(d.e)(tr.doc,m)&&tr.join(m),n(tr.scrollIntoView())}return!0}let v=h.f.findFrom(e,1),y=v&&v.$from.blockRange(v.$to),w=y&&Object(d.j)(y);if(null!=w&&w>=e.depth)return n&&n(t.tr.lift(y,w).scrollIntoView()),!0;if(m&&x(f,"start",!0)&&x(l,"end")){let r=l,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let h=f,m=1;for(;!h.isTextblock;h=h.firstChild)m++;if(r.canReplace(r.childCount,r.childCount,h.content)){if(n){let r=c.c.empty;for(let i=o.length-1;i>=0;i--)r=c.c.from(o[i].copy(r));n(t.tr.step(new d.b(e.pos-o.length,e.pos+f.nodeSize,e.pos+m,e.pos+f.nodeSize-m,new c.j(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function N(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,l=o.depth;for(;o.node(l).isInline;){if(!l)return!1;l--}return!!o.node(l).isTextblock&&(n&&n(e.tr.setSelection(h.g.create(e.doc,t<0?o.start(l):o.end(l)))),!0)}}const $=N(-1),R=N(1);function B(t,e=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:r},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(r,l,((r,l)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)o=!0;else{let e=n.doc.resolve(l),r=e.index();o=e.parent.canReplaceWith(r,r+1,t)}}))}if(!o)return!1;if(r){let tr=n.tr;for(let i=0;i<n.selection.ranges.length;i++){let{$from:{pos:r},$to:{pos:o}}=n.selection.ranges[i];tr.setBlockType(r,o,t,e)}r(tr.scrollIntoView())}return!0}}function L(...t){return function(e,n,view){for(let i=0;i<t.length;i++)if(t[i](e,n,view))return!0;return!1}}let z=L(f,v,w),del=L(f,O,S);const H={Enter:L(C,P,D,j),"Mod-Enter":E,Backspace:z,"Mod-Backspace":z,"Shift-Backspace":z,Delete:del,"Mod-Delete":del,"Mod-a":(t,e)=>(e&&e(t.tr.setSelection(new h.a(t.doc))),!0)},F={"Ctrl-h":H.Backspace,"Alt-Backspace":H["Mod-Backspace"],"Ctrl-d":H.Delete,"Ctrl-Alt-Backspace":H["Mod-Delete"],"Alt-Delete":H["Mod-Delete"],"Alt-d":H["Mod-Delete"],"Ctrl-a":$,"Ctrl-e":R};for(let t in H)F[t]=H[t];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function V(t,e=null){return function(n,r){let{$from:o,$to:l}=n.selection,h=o.blockRange(l),f=!1,m=h;if(!h)return!1;if(h.depth>=2&&o.node(h.depth-1).type.compatibleContent(t)&&0==h.startIndex){if(0==o.index(h.depth-1))return!1;let t=n.doc.resolve(h.start-2);m=new c.g(t,t,h.depth),h.endIndex<h.parent.childCount&&(h=new c.g(o,n.doc.resolve(l.end(h.depth)),h.depth)),f=!0}let v=Object(d.h)(m,t,e,h);return!!v&&(r&&r(function(tr,t,e,n,r){let content=c.c.empty;for(let i=e.length-1;i>=0;i--)content=c.c.from(e[i].type.create(e[i].attrs,content));tr.step(new d.b(t.start-(n?2:0),t.end,t.start,t.end,new c.j(content,0,0),e.length,!0));let o=0;for(let i=0;i<e.length;i++)e[i].type==r&&(o=i+1);let l=e.length-o,h=t.start+e.length-(n?2:0),f=t.parent;for(let i=t.startIndex,e=t.endIndex,n=!0;i<e;i++,n=!1)!n&&Object(d.f)(tr.doc,h,l)&&(tr.split(h,l),h+=2*l),h+=f.child(i).nodeSize;return tr}(n.tr,h,v,f,t).scrollIntoView()),!0)}}function W(t){return function(e,n){let{$from:r,$to:o}=e.selection,l=r.blockRange(o,(e=>e.childCount>0&&e.firstChild.type==t));return!!l&&(!n||(r.node(l.depth-1).type==t?function(t,e,n,r){let tr=t.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(tr.step(new d.b(o-1,l,o,l,new c.j(c.c.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new c.g(tr.doc.resolve(r.$from.pos),tr.doc.resolve(l),r.depth));const h=Object(d.j)(r);if(null==h)return!1;tr.lift(r,h);let f=tr.mapping.map(o,-1)-1;Object(d.e)(tr.doc,f)&&tr.join(f);return e(tr.scrollIntoView()),!0}(e,n,t,l):function(t,e,n){let tr=t.tr,r=n.parent;for(let t=n.end,i=n.endIndex-1,e=n.startIndex;i>e;i--)t-=r.child(i).nodeSize,tr.delete(t-1,t+1);let o=tr.doc.resolve(n.start),l=o.nodeAfter;if(tr.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let h=0==n.startIndex,f=n.endIndex==r.childCount,m=o.node(-1),v=o.index(-1);if(!m.canReplace(v+(h?0:1),v+1,l.content.append(f?c.c.empty:c.c.from(r))))return!1;let y=o.pos,x=y+l.nodeSize;return tr.step(new d.b(y-(h?1:0),x+(f?1:0),y+1,x-1,new c.j((h?c.c.empty:c.c.from(r.copy(c.c.empty))).append(f?c.c.empty:c.c.from(r.copy(c.c.empty))),h?0:1,f?0:1),h?0:1)),e(tr.scrollIntoView()),!0}(e,n,l)))}}function Y(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:o}=n,{storedMarks:l}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,l=n.storedMarks,n}}}class U{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:view}=e,{tr:tr}=n,r=this.buildProps(tr);return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,(...t)=>{const n=e(...t)(r);return tr.getMeta("preventDispatch")||this.hasCustomState||view.dispatch(tr),n}])))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:o}=this,{view:view}=r,l=[],c=!!t,tr=t||o.tr,d={...Object.fromEntries(Object.entries(n).map((([t,n])=>[t,(...t)=>{const r=this.buildProps(tr,e),o=n(...t)(r);return l.push(o),d}]))),run:()=>(c||!e||tr.getMeta("preventDispatch")||this.hasCustomState||view.dispatch(tr),l.every((t=>!0===t)))};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,tr=t||n.tr,o=this.buildProps(tr,r),l=Object.fromEntries(Object.entries(e).map((([t,e])=>[t,(...t)=>e(...t)({...o,dispatch:void 0})])));return{...l,chain:()=>this.createChain(tr,r)}}buildProps(tr,t=!0){const{rawCommands:e,editor:n,state:r}=this,{view:view}=n,o={tr:tr,editor:n,view:view,state:Y({state:r,transaction:tr}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(tr,t),can:()=>this.createCan(tr),get commands(){return Object.fromEntries(Object.entries(e).map((([t,e])=>[t,(...t)=>e(...t)(o)])))}};return o}}class K{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach((t=>t.apply(this,e))),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter((t=>t!==e)):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function J(t,e,n){if(void 0===t.config[e]&&t.parent)return J(t.parent,e,n);if("function"==typeof t.config[e]){return t.config[e].bind({...n,parent:t.parent?J(t.parent,e,n):null})}return t.config[e]}function G(t){return{baseExtensions:t.filter((t=>"extension"===t.type)),nodeExtensions:t.filter((t=>"node"===t.type)),markExtensions:t.filter((t=>"mark"===t.type))}}function X(t){const e=[],{nodeExtensions:n,markExtensions:r}=G(t),o=[...n,...r],l={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach((t=>{const n=J(t,"addGlobalAttributes",{name:t.name,options:t.options,storage:t.storage});if(!n)return;n().forEach((t=>{t.types.forEach((n=>{Object.entries(t.attributes).forEach((([t,r])=>{e.push({type:n,name:t,attribute:{...l,...r}})}))}))}))})),o.forEach((t=>{const n={name:t.name,options:t.options,storage:t.storage},r=J(t,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach((([n,r])=>{const o={...l,...r};"function"==typeof(null==o?void 0:o.default)&&(o.default=o.default()),(null==o?void 0:o.isRequired)&&void 0===(null==o?void 0:o.default)&&delete o.default,e.push({type:t.name,name:n,attribute:o})}))})),e}function Z(t,e){if("string"==typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Q(...t){return t.filter((t=>!!t)).reduce(((t,e)=>{const n={...t};return Object.entries(e).forEach((([t,e])=>{if(n[t])if("class"===t){const r=e?e.split(" "):[],o=n[t]?n[t].split(" "):[],l=r.filter((t=>!o.includes(t)));n[t]=[...o,...l].join(" ")}else n[t]="style"===t?[n[t],e].join("; "):e;else n[t]=e})),n}),{})}function tt(t,e){return e.filter((t=>t.attribute.rendered)).map((e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]})).reduce(((t,e)=>Q(t,e)),{})}function et(t){return"function"==typeof t}function nt(t,e=void 0,...n){return et(t)?e?t.bind(e)(...n):t(...n):t}function it(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(!1===r)return!1;const o=e.reduce(((t,e)=>{const r=e.attribute.parseHTML?e.attribute.parseHTML(n):function(t){return"string"!=typeof t?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):"true"===t||"false"!==t&&t}(n.getAttribute(e.name));return null==r?t:{...t,[e.name]:r}}),{});return{...r,...o}}}}function ot(data){return Object.fromEntries(Object.entries(data).filter((([t,e])=>("attrs"!==t||!function(t={}){return 0===Object.keys(t).length&&t.constructor===Object}(e))&&null!=e)))}function st(t,e){var n;const r=X(t),{nodeExtensions:o,markExtensions:l}=G(t),d=null===(n=o.find((t=>J(t,"topNode"))))||void 0===n?void 0:n.name,h=Object.fromEntries(o.map((n=>{const o=r.filter((t=>t.type===n.name)),l={name:n.name,options:n.options,storage:n.storage,editor:e},c=ot({...t.reduce(((t,e)=>{const r=J(e,"extendNodeSchema",l);return{...t,...r?r(n):{}}}),{}),content:nt(J(n,"content",l)),marks:nt(J(n,"marks",l)),group:nt(J(n,"group",l)),inline:nt(J(n,"inline",l)),atom:nt(J(n,"atom",l)),selectable:nt(J(n,"selectable",l)),draggable:nt(J(n,"draggable",l)),code:nt(J(n,"code",l)),defining:nt(J(n,"defining",l)),isolating:nt(J(n,"isolating",l)),attrs:Object.fromEntries(o.map((t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),d=nt(J(n,"parseHTML",l));d&&(c.parseDOM=d.map((t=>it(t,o))));const h=J(n,"renderHTML",l);h&&(c.toDOM=t=>h({node:t,HTMLAttributes:tt(t,o)}));const f=J(n,"renderText",l);return f&&(c.toText=f),[n.name,c]}))),f=Object.fromEntries(l.map((n=>{const o=r.filter((t=>t.type===n.name)),l={name:n.name,options:n.options,storage:n.storage,editor:e},c=ot({...t.reduce(((t,e)=>{const r=J(e,"extendMarkSchema",l);return{...t,...r?r(n):{}}}),{}),inclusive:nt(J(n,"inclusive",l)),excludes:nt(J(n,"excludes",l)),group:nt(J(n,"group",l)),spanning:nt(J(n,"spanning",l)),code:nt(J(n,"code",l)),attrs:Object.fromEntries(o.map((t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]})))}),d=nt(J(n,"parseHTML",l));d&&(c.parseDOM=d.map((t=>it(t,o))));const h=J(n,"renderHTML",l);return h&&(c.toDOM=mark=>h({mark:mark,HTMLAttributes:tt(mark,o)})),[n.name,c]})));return new c.i({topNode:d,nodes:h,marks:f})}function at(t,e){return e.nodes[t]||e.marks[t]||null}function lt(t,e){return Array.isArray(e)?e.some((e=>("string"==typeof e?e:e.name)===t.name)):e}const ct=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,((t,e,o,l)=>{var c,d;const h=(null===(d=(c=t.type.spec).toText)||void 0===d?void 0:d.call(c,{node:t,pos:e,parent:o,index:l}))||t.textContent||"%leaf%";n+=h.slice(0,Math.max(0,r-e))})),n};function ut(t){return"[object RegExp]"===Object.prototype.toString.call(t)}class pt{constructor(t){this.find=t.find,this.handler=t.handler}}const ht=(text,t)=>{if(ut(t))return t.exec(text);const e=t(text);if(!e)return null;const n=[e.text];return n.index=e.index,n.input=text,n.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(e.replaceWith)),n};function ft(t){var e;const{editor:n,from:r,to:o,text:text,rules:l,plugin:c}=t,{view:view}=n;if(view.composing)return!1;const d=view.state.doc.resolve(r);if(d.parent.type.spec.code||(null===(e=d.nodeBefore||d.nodeAfter)||void 0===e?void 0:e.marks.find((mark=>mark.type.spec.code))))return!1;let h=!1;const f=ct(d)+text;return l.forEach((t=>{if(h)return;const e=ht(f,t.find);if(!e)return;const tr=view.state.tr,l=Y({state:view.state,transaction:tr}),d={from:r-(e[0].length-text.length),to:o},{commands:m,chain:v,can:y}=new U({editor:n,state:l});null!==t.handler({state:l,range:d,match:e,commands:m,chain:v,can:y})&&tr.steps.length&&(tr.setMeta(c,{transform:tr,from:r,to:o,text:text}),view.dispatch(tr),h=!0)})),h}function mt(t){const{editor:e,rules:n}=t,o=new r.c({state:{init:()=>null,apply(tr,t){const r=tr.getMeta(o);if(r)return r;const l=tr.getMeta("applyInputRules");return!!l&&setTimeout((()=>{const{from:t,text:text}=l,r=t+text.length;ft({editor:e,from:t,to:r,text:text,rules:n,plugin:o})})),tr.selectionSet||tr.docChanged?null:t}},props:{handleTextInput:(view,t,r,text)=>ft({editor:e,from:t,to:r,text:text,rules:n,plugin:o}),handleDOMEvents:{compositionend:view=>(setTimeout((()=>{const{$cursor:t}=view.state.selection;t&&ft({editor:e,from:t.pos,to:t.pos,text:"",rules:n,plugin:o})})),!1)},handleKeyDown(view,t){if("Enter"!==t.key)return!1;const{$cursor:r}=view.state.selection;return!!r&&ft({editor:e,from:r.pos,to:r.pos,text:"\n",rules:n,plugin:o})}},isInputRules:!0});return o}class gt{constructor(t){this.find=t.find,this.handler=t.handler}}const vt=(text,t,e)=>{if(ut(t))return[...text.matchAll(t)];const n=t(text,e);return n?n.map((t=>{const e=[t.text];return e.index=t.index,e.input=text,e.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),e.push(t.replaceWith)),e})):[]};function yt(t){const{editor:e,rules:n}=t;let o=null,l=!1,c=!1,d="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,h="undefined"!=typeof DragEvent?new DragEvent("drop"):null;const f=({state:t,from:n,to:r,rule:o,pasteEvt:l})=>{const tr=t.tr,c=Y({state:t,transaction:tr}),f=function(t){const{editor:e,state:n,from:r,to:o,rule:l,pasteEvent:c,dropEvent:d}=t,{commands:h,chain:f,can:m}=new U({editor:e,state:n}),v=[];return n.doc.nodesBetween(r,o,((t,e)=>{if(!t.isTextblock||t.type.spec.code)return;const y=Math.max(r,e),x=Math.min(o,e+t.content.size),w=t.textBetween(y-e,x-e,void 0,"￼");vt(w,l.find,c).forEach((t=>{if(void 0===t.index)return;const e=y+t.index+1,r=e+t[0].length,o={from:n.tr.mapping.map(e),to:n.tr.mapping.map(r)},x=l.handler({state:n,range:o,match:t,commands:h,chain:f,can:m,pasteEvent:c,dropEvent:d});v.push(x)}))})),v.every((t=>null!==t))}({editor:e,state:c,from:Math.max(n-1,0),to:r.b-1,rule:o,pasteEvent:l,dropEvent:h});if(f&&tr.steps.length)return h="undefined"!=typeof DragEvent?new DragEvent("drop"):null,d="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,tr};return n.map((t=>new r.c({view(view){const t=t=>{var e;o=(null===(e=view.dom.parentElement)||void 0===e?void 0:e.contains(t.target))?view.dom.parentElement:null};return window.addEventListener("dragstart",t),{destroy(){window.removeEventListener("dragstart",t)}}},props:{handleDOMEvents:{drop:(view,t)=>(c=o===view.dom.parentElement,h=t,!1),paste:(t,e)=>{var n;const html=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text/html");return d=e,l=!!(null==html?void 0:html.includes("data-pm-slice")),!1}}},appendTransaction:(e,n,r)=>{const o=e[0],h="paste"===o.getMeta("uiEvent")&&!l,m="drop"===o.getMeta("uiEvent")&&!c,v=o.getMeta("applyPasteRules"),y=!!v;if(!h&&!m&&!y)return;if(y){const{from:e,text:text}=v,n=e+text.length,o=(text=>{var t;const e=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null===(t=e.clipboardData)||void 0===t||t.setData("text/html",text),e})(text);return f({rule:t,state:r,from:e,to:{b:n},pasteEvt:o})}const x=n.doc.content.findDiffStart(r.doc.content),w=n.doc.content.findDiffEnd(r.doc.content);return"number"==typeof x&&w&&x!==w.b?f({rule:t,state:r,from:x,to:w,pasteEvt:d}):void 0}})))}class bt{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=bt.resolve(t),this.schema=st(this.extensions,e),this.extensions.forEach((t=>{var e;this.editor.extensionStorage[t.name]=t.storage;const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:at(t.name,this.schema)};if("mark"===t.type){(null===(e=nt(J(t,"keepOnSplit",n)))||void 0===e||e)&&this.splittableMarks.push(t.name)}const r=J(t,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const o=J(t,"onCreate",n);o&&this.editor.on("create",o);const l=J(t,"onUpdate",n);l&&this.editor.on("update",l);const c=J(t,"onSelectionUpdate",n);c&&this.editor.on("selectionUpdate",c);const d=J(t,"onTransaction",n);d&&this.editor.on("transaction",d);const h=J(t,"onFocus",n);h&&this.editor.on("focus",h);const f=J(t,"onBlur",n);f&&this.editor.on("blur",f);const m=J(t,"onDestroy",n);m&&this.editor.on("destroy",m)}))}static resolve(t){const e=bt.sort(bt.flatten(t)),n=function(t){const e=t.filter(((e,n)=>t.indexOf(e)!==n));return[...new Set(e)]}(e.map((t=>t.name)));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((t=>`'${t}'`)).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map((t=>{const e=J(t,"addExtensions",{name:t.name,options:t.options,storage:t.storage});return e?[t,...this.flatten(e())]:t})).flat(10)}static sort(t){return t.sort(((a,b)=>{const t=J(a,"priority")||100,e=J(b,"priority")||100;return t>e?-1:t<e?1:0}))}get commands(){return this.extensions.reduce(((t,e)=>{const n=J(e,"addCommands",{name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:at(e.name,this.schema)});return n?{...t,...n()}:t}),{})}get plugins(){const{editor:t}=this,e=bt.sort([...this.extensions].reverse()),n=[],r=[],o=e.map((e=>{const o={name:e.name,options:e.options,storage:e.storage,editor:t,type:at(e.name,this.schema)},c=[],d=J(e,"addKeyboardShortcuts",o);let h={};if("mark"===e.type&&e.config.exitable&&(h.ArrowRight=()=>be.handleExit({editor:t,mark:e})),d){const e=Object.fromEntries(Object.entries(d()).map((([e,n])=>[e,()=>n({editor:t})])));h={...h,...e}}const f=Object(l.b)(h);c.push(f);const m=J(e,"addInputRules",o);lt(e,t.options.enableInputRules)&&m&&n.push(...m());const v=J(e,"addPasteRules",o);lt(e,t.options.enablePasteRules)&&v&&r.push(...v());const y=J(e,"addProseMirrorPlugins",o);if(y){const t=y();c.push(...t)}return c})).flat();return[mt({editor:t,rules:n}),...yt({editor:t,rules:r}),...o]}get attributes(){return X(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=G(this.extensions);return Object.fromEntries(e.filter((t=>!!J(t,"addNodeView"))).map((e=>{const n=this.attributes.filter((t=>t.type===e.name)),r={name:e.name,options:e.options,storage:e.storage,editor:t,type:Z(e.name,this.schema)},o=J(e,"addNodeView",r);if(!o)return[];return[e.name,(r,view,l,c)=>{const d=tt(r,n);return o()({editor:t,node:r,getPos:l,decorations:c,HTMLAttributes:d,extension:e})}]})))}}function xt(t){return"Object"===function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)&&(t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype)}function wt(t,source){const output={...t};return xt(t)&&xt(source)&&Object.keys(source).forEach((e=>{xt(source[e])?e in t?output[e]=wt(t[e],source[e]):Object.assign(output,{[e]:source[e]}):Object.assign(output,{[e]:source[e]})})),output}class kt{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=nt(J(this,"addOptions",{name:this.name}))),this.storage=nt(J(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new kt(t)}configure(t={}){const e=this.extend();return e.options=wt(this.options,t),e.storage=nt(J(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new kt({...this.config,...t});return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=nt(J(e,"addOptions",{name:e.name})),e.storage=nt(J(e,"addStorage",{name:e.name,options:e.options})),e}}function _t(t,e,n){const{from:r,to:o}=e,{blockSeparator:l="\n\n",textSerializers:c={}}=n||{};let text="",d=!0;return t.nodesBetween(r,o,((t,n,h,f)=>{var m;const v=null==c?void 0:c[t.type.name];if(v)return t.isBlock&&!d&&(text+=l,d=!0),h&&(text+=v({node:t,pos:n,parent:h,index:f,range:e})),!1;t.isText?(text+=null===(m=null==t?void 0:t.text)||void 0===m?void 0:m.slice(Math.max(r,n)-n,o-n),d=!1):t.isBlock&&!d&&(text+=l,d=!0)})),text}function Ot(t){return Object.fromEntries(Object.entries(t.nodes).filter((([,t])=>t.spec.toText)).map((([t,e])=>[t,e.spec.toText])))}const St=kt.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new r.c({key:new r.d("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:o}=e,{ranges:l}=o,c=Math.min(...l.map((t=>t.$from.pos))),d=Math.max(...l.map((t=>t.$to.pos))),h=Ot(n);return _t(r,{from:c,to:d},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:h})}}})]}});function Mt(t,e,n={strict:!0}){const r=Object.keys(e);return!r.length||r.every((r=>n.strict?e[r]===t[r]:ut(e[r])?e[r].test(t[r]):e[r]===t[r]))}function Ct(t,e,n={}){return t.find((t=>t.type===e&&Mt(t.attrs,n)))}function Tt(t,e,n={}){return!!Ct(t,e,n)}function Et(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&0!==r.offset&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const mark=Ct([...r.node.marks],e,n);if(!mark)return;let o=r.index,l=t.start()+r.offset,c=o+1,d=l+r.node.nodeSize;for(Ct([...r.node.marks],e,n);o>0&&mark.isInSet(t.parent.child(o-1).marks);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&Tt([...t.parent.child(c).marks],e,n);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function Pt(t,e){if("string"==typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function Dt(t){return t instanceof r.f}function jt(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function At(t,e=null){if(!e)return null;const n=r.e.atStart(t),o=r.e.atEnd(t);if("start"===e||!0===e)return n;if("end"===e)return o;const l=n.from,c=o.to;return"all"===e?r.f.create(t,jt(0,l,c),jt(t.content.size,l,c)):r.f.create(t,jt(e,l,c),jt(e,l,c))}function It(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Nt=t=>{const e=t.childNodes;for(let i=e.length-1;i>=0;i-=1){const n=e[i];3===n.nodeType&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):1===n.nodeType&&Nt(n)}return t};function $t(t){const e=`<body>${t}</body>`,html=(new window.DOMParser).parseFromString(e,"text/html").body;return Nt(html)}function Rt(content,t,e){if(e={slice:!0,parseOptions:{},...e},"object"==typeof content&&null!==content)try{return Array.isArray(content)&&content.length>0?c.c.fromArray(content.map((e=>t.nodeFromJSON(e)))):t.nodeFromJSON(content)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",content,"Error:",n),Rt("",t,e)}if("string"==typeof content){const n=c.a.fromSchema(t);return e.slice?n.parseSlice($t(content),e.parseOptions).content:n.parse($t(content),e.parseOptions)}return Rt("",t,e)}function Bt(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function Lt(t,e,n={}){const{from:r,to:o,empty:l}=t.selection,c=e?Z(e,t.schema):null,d=[];t.doc.nodesBetween(r,o,((t,e)=>{if(t.isText)return;const n=Math.max(r,e),l=Math.min(o,e+t.nodeSize);d.push({node:t,from:n,to:l})}));const h=o-r,f=d.filter((t=>!c||c.name===t.node.type.name)).filter((t=>Mt(t.node.attrs,n,{strict:!1})));if(l)return!!f.length;return f.reduce(((t,e)=>t+e.to-e.from),0)>=h}function zt(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Ht(t,e){const n="string"==typeof e?[e]:e;return Object.keys(t).reduce(((e,r)=>(n.includes(r)||(e[r]=t[r]),e)),{})}function Ft(content,t,e={}){return Rt(content,t,{slice:!1,parseOptions:e})}function Vt(t,e){const n=Pt(e,t.schema),{from:r,to:o,empty:l}=t.selection,c=[];l?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,o,(t=>{c.push(...t.marks)}));const mark=c.find((t=>t.type.name===n.name));return mark?{...mark.attrs}:{}}function Wt(t,e){const n=new d.d(t);return e.forEach((t=>{t.steps.forEach((t=>{n.step(t)}))})),n}function qt(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,((t,e)=>{n(t)&&r.push({node:t,pos:e})})),r}function Yt(t){return e=>function(t,e){for(let i=t.depth;i>0;i-=1){const n=t.node(i);if(e(n))return{pos:i>0?t.before(i):0,start:t.start(i),depth:i,node:n}}}(e.$from,t)}function Ut(t,e){const n=c.b.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function Kt(t,e){return _t(t,{from:0,to:t.content.size},e)}function Jt(t,e){const n=zt("string"==typeof e?e:e.name,t.schema);return"node"===n?function(t,e){const n=Z(e,t.schema),{from:r,to:o}=t.selection,l=[];t.doc.nodesBetween(r,o,(t=>{l.push(t)}));const c=l.reverse().find((t=>t.type.name===n.name));return c?{...c.attrs}:{}}(t,e):"mark"===n?Vt(t,e):{}}function Gt(t){const e=function(t,e=JSON.stringify){const n={};return t.filter((t=>{const r=e(t);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)}))}(t);return 1===e.length?e:e.filter(((t,n)=>!e.filter(((t,i)=>i!==n)).some((e=>t.oldRange.from>=e.oldRange.from&&t.oldRange.to<=e.oldRange.to&&t.newRange.from>=e.newRange.from&&t.newRange.to<=e.newRange.to))))}function Xt(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach(((t,o)=>{const l=[];if(t.ranges.length)t.forEach(((t,e)=>{l.push({from:t,to:e})}));else{const{from:t,to:e}=n[o];if(void 0===t||void 0===e)return;l.push({from:t,to:e})}l.forEach((({from:t,to:n})=>{const l=e.slice(o).map(t,-1),c=e.slice(o).map(n),d=e.invert().map(l,-1),h=e.invert().map(c);r.push({oldRange:{from:d,to:h},newRange:{from:l,to:c}})}))})),Gt(r)}function Zt(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach((mark=>{const e=Et(n.resolve(t-1),mark.type);e&&r.push({mark:mark,...e})})):n.nodesBetween(t,e,((t,e)=>{t&&void 0!==(null==t?void 0:t.nodeSize)&&r.push(...t.marks.map((mark=>({from:e,to:e+t.nodeSize,mark:mark}))))})),r}function Qt(t,e,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const r=t.find((t=>t.type===e&&t.name===n));return!!r&&r.attribute.keepOnSplit})))}function te(t,e,n={}){const{empty:r,ranges:o}=t.selection,l=e?Pt(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter((mark=>!l||l.name===mark.type.name)).find((mark=>Mt(mark.attrs,n,{strict:!1})));let c=0;const d=[];if(o.forEach((({$from:e,$to:n})=>{const r=e.pos,o=n.pos;t.doc.nodesBetween(r,o,((t,e)=>{if(!t.isText&&!t.marks.length)return;const n=Math.max(r,e),l=Math.min(o,e+t.nodeSize);c+=l-n,d.push(...t.marks.map((mark=>({mark:mark,from:n,to:l}))))}))})),0===c)return!1;const h=d.filter((t=>!l||l.name===t.mark.type.name)).filter((t=>Mt(t.mark.attrs,n,{strict:!1}))).reduce(((t,e)=>t+e.to-e.from),0),f=d.filter((t=>!l||t.mark.type!==l&&t.mark.type.excludes(l))).reduce(((t,e)=>t+e.to-e.from),0);return(h>0?h+f:h)>=c}function ee(t,e){const{nodeExtensions:n}=G(e),r=n.find((e=>e.name===t));if(!r)return!1;const o=nt(J(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof o&&o.split(" ").includes("list")}function ne(t){return t instanceof r.b}function ie(view,t,e){const n=view.state.doc.content.size,r=jt(t,0,n),o=jt(e,0,n),l=view.coordsAtPos(r),c=view.coordsAtPos(o,-1),d=Math.min(l.top,c.top),h=Math.max(l.bottom,c.bottom),f=Math.min(l.left,c.left),m=Math.max(l.right,c.right),data={top:d,bottom:h,left:f,right:m,width:m-f,height:h-d,x:f,y:d};return{...data,toJSON:()=>data}}function re(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter((mark=>null==e?void 0:e.includes(mark.type.name)));t.tr.ensureMarks(r)}}const oe=(tr,t)=>{const e=Yt((e=>e.type===t))(tr.selection);if(!e)return!0;const n=tr.doc.resolve(Math.max(0,e.pos-1)).before(e.depth);if(void 0===n)return!0;const r=tr.doc.nodeAt(n);return e.node.type!==(null==r?void 0:r.type)||!Object(d.e)(tr.doc,e.pos)||(tr.join(e.pos),!0)},se=(tr,t)=>{const e=Yt((e=>e.type===t))(tr.selection);if(!e)return!0;const n=tr.doc.resolve(e.start).after(e.depth);if(void 0===n)return!0;const r=tr.doc.nodeAt(n);return e.node.type!==(null==r?void 0:r.type)||!Object(d.e)(tr.doc,n)||(tr.join(n),!0)};var ae=Object.freeze({__proto__:null,blur:()=>({editor:t,view:view})=>(requestAnimationFrame((()=>{var e;t.isDestroyed||(view.dom.blur(),null===(e=null===window||void 0===window?void 0:window.getSelection())||void 0===e||e.removeAllRanges())})),!0),clearContent:(t=!1)=>({commands:e})=>e.setContent("",t),clearNodes:()=>({state:t,tr:tr,dispatch:e})=>{const{selection:n}=tr,{ranges:r}=n;return!e||(r.forEach((({$from:e,$to:n})=>{t.doc.nodesBetween(e.pos,n.pos,((t,e)=>{if(t.type.isText)return;const{doc:n,mapping:r}=tr,o=n.resolve(r.map(e)),l=n.resolve(r.map(e+t.nodeSize)),c=o.blockRange(l);if(!c)return;const h=Object(d.j)(c);if(t.type.isTextblock){const{defaultType:t}=o.parent.contentMatchAt(o.index());tr.setNodeMarkup(c.start,t)}(h||0===h)&&tr.lift(c,h)}))})),!0)},command:t=>e=>t(e),createParagraphNear:()=>({state:t,dispatch:e})=>P(t,e),cut:(t,e)=>({editor:n,tr:tr})=>{const{state:o}=n,l=o.doc.slice(t.from,t.to);tr.deleteRange(t.from,t.to);const c=tr.mapping.map(e);return tr.insert(c,l.content),tr.setSelection(new r.f(tr.doc.resolve(c-1))),!0},deleteCurrentNode:()=>({tr:tr,dispatch:t})=>{const{selection:e}=tr,n=e.$anchor.node();if(n.content.size>0)return!1;const r=tr.selection.$anchor;for(let e=r.depth;e>0;e-=1){if(r.node(e).type===n.type){if(t){const t=r.before(e),n=r.after(e);tr.delete(t,n).scrollIntoView()}return!0}}return!1},deleteNode:t=>({tr:tr,state:e,dispatch:n})=>{const r=Z(t,e.schema),o=tr.selection.$anchor;for(let t=o.depth;t>0;t-=1){if(o.node(t).type===r){if(n){const e=o.before(t),n=o.after(t);tr.delete(e,n).scrollIntoView()}return!0}}return!1},deleteRange:t=>({tr:tr,dispatch:e})=>{const{from:n,to:r}=t;return e&&tr.delete(n,r),!0},deleteSelection:()=>({state:t,dispatch:e})=>f(t,e),enter:()=>({commands:t})=>t.keyboardShortcut("Enter"),exitCode:()=>({state:t,dispatch:e})=>E(t,e),extendMarkRange:(t,e={})=>({tr:tr,state:n,dispatch:o})=>{const l=Pt(t,n.schema),{doc:c,selection:d}=tr,{$from:h,from:f,to:m}=d;if(o){const t=Et(h,l,e);if(t&&t.from<=f&&t.to>=m){const e=r.f.create(c,t.from,t.to);tr.setSelection(e)}}return!0},first:t=>e=>{const n="function"==typeof t?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1},focus:(t=null,e={})=>({editor:n,view:view,tr:tr,dispatch:r})=>{e={scrollIntoView:!0,...e};const o=()=>{It()&&view.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(view.focus(),(null==e?void 0:e.scrollIntoView)&&n.commands.scrollIntoView())}))};if(view.hasFocus()&&null===t||!1===t)return!0;if(r&&null===t&&!Dt(n.state.selection))return o(),!0;const l=At(tr.doc,t)||n.state.selection,c=n.state.selection.eq(l);return r&&(c||tr.setSelection(l),c&&tr.storedMarks&&tr.setStoredMarks(tr.storedMarks),o()),!0},forEach:(t,e)=>n=>t.every(((t,r)=>e(t,{...n,index:r}))),insertContent:(t,e)=>({tr:tr,commands:n})=>n.insertContentAt({from:tr.selection.from,to:tr.selection.to},t,e),insertContentAt:(t,e,n)=>({tr:tr,dispatch:o,editor:l})=>{if(o){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};const content=Rt(e,l.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===content.toString())return!0;let{from:o,to:c}="number"==typeof t?{from:t,to:t}:{from:t.from,to:t.to},h=!0,f=!0;if((content.toString().startsWith("<")?content:[content]).forEach((t=>{t.check(),h=!!h&&(t.isText&&0===t.marks.length),f=!!f&&t.isBlock})),o===c&&f){const{parent:t}=tr.doc.resolve(o);t.isTextblock&&!t.type.spec.code&&!t.childCount&&(o-=1,c+=1)}let m;h?(m=Array.isArray(e)?e.map((t=>t.text||"")).join(""):"object"==typeof e&&e&&e.text?e.text:e,tr.insertText(m,o,c)):(m=content,tr.replaceWith(o,c,m)),n.updateSelection&&function(tr,t,e){const n=tr.steps.length-1;if(n<t)return;const o=tr.steps[n];if(!(o instanceof d.c||o instanceof d.b))return;const map=tr.mapping.maps[n];let l=0;map.forEach(((t,e,n,r)=>{0===l&&(l=r)})),tr.setSelection(r.e.near(tr.doc.resolve(l),e))}(tr,tr.steps.length-1,-1),n.applyInputRules&&tr.setMeta("applyInputRules",{from:o,text:m}),n.applyPasteRules&&tr.setMeta("applyPasteRules",{from:o,text:m})}return!0},joinUp:()=>({state:t,dispatch:e})=>((t,e)=>{let n,r=t.selection,o=r instanceof h.c;if(o){if(r.node.isTextblock||!Object(d.e)(t.doc,r.from))return!1;n=r.from}else if(n=Object(d.i)(t.doc,r.from,-1),null==n)return!1;if(e){let tr=t.tr.join(n);o&&tr.setSelection(h.c.create(tr.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(tr.scrollIntoView())}return!0})(t,e),joinDown:()=>({state:t,dispatch:e})=>((t,e)=>{let n,r=t.selection;if(r instanceof h.c){if(r.node.isTextblock||!Object(d.e)(t.doc,r.to))return!1;n=r.to}else if(n=Object(d.i)(t.doc,r.to,1),null==n)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0})(t,e),joinBackward:()=>({state:t,dispatch:e})=>v(t,e),joinForward:()=>({state:t,dispatch:e})=>O(t,e),joinItemBackward:()=>({tr:tr,state:t,dispatch:e})=>{try{const n=Object(d.i)(t.doc,t.selection.$from.pos,-1);return null!=n&&(tr.join(n,2),e&&e(tr),!0)}catch{return!1}},joinItemForward:()=>({state:t,dispatch:e,tr:tr})=>{try{const n=Object(d.i)(t.doc,t.selection.$from.pos,1);return null!=n&&(tr.join(n,2),e&&e(tr),!0)}catch(t){return!1}},joinTextblockBackward:()=>({state:t,dispatch:e})=>((t,e,view)=>{let n=m(t,view);if(!n)return!1;let r=k(n);return!!r&&y(t,r,e)})(t,e),joinTextblockForward:()=>({state:t,dispatch:e})=>((t,e,view)=>{let n=_(t,view);if(!n)return!1;let r=M(n);return!!r&&y(t,r,e)})(t,e),keyboardShortcut:t=>({editor:e,view:view,tr:tr,dispatch:n})=>{const r=function(t){const e=t.split(/-(?!$)/);let n,r,o,meta,l=e[e.length-1];"Space"===l&&(l=" ");for(let i=0;i<e.length-1;i+=1){const t=e[i];if(/^(cmd|meta|m)$/i.test(t))meta=!0;else if(/^a(lt)?$/i.test(t))n=!0;else if(/^(c|ctrl|control)$/i.test(t))r=!0;else if(/^s(hift)?$/i.test(t))o=!0;else{if(!/^mod$/i.test(t))throw new Error(`Unrecognized modifier name: ${t}`);It()||Bt()?meta=!0:r=!0}}return n&&(l=`Alt-${l}`),r&&(l=`Ctrl-${l}`),meta&&(l=`Meta-${l}`),o&&(l=`Shift-${l}`),l}(t).split(/-(?!$)/),o=r.find((t=>!["Alt","Ctrl","Meta","Shift"].includes(t))),l=new KeyboardEvent("keydown",{key:"Space"===o?" ":o,altKey:r.includes("Alt"),ctrlKey:r.includes("Ctrl"),metaKey:r.includes("Meta"),shiftKey:r.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction((()=>{view.someProp("handleKeyDown",(t=>t(view,l)))}));return null==c||c.steps.forEach((t=>{const e=t.map(tr.mapping);e&&n&&tr.maybeStep(e)})),!0},lift:(t,e={})=>({state:n,dispatch:r})=>!!Lt(n,Z(t,n.schema),e)&&((t,e)=>{let{$from:n,$to:r}=t.selection,o=n.blockRange(r),l=o&&Object(d.j)(o);return null!=l&&(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)})(n,r),liftEmptyBlock:()=>({state:t,dispatch:e})=>D(t,e),liftListItem:t=>({state:e,dispatch:n})=>W(Z(t,e.schema))(e,n),newlineInCode:()=>({state:t,dispatch:e})=>C(t,e),resetAttributes:(t,e)=>({tr:tr,state:n,dispatch:r})=>{let o=null,l=null;const c=zt("string"==typeof t?t:t.name,n.schema);return!!c&&("node"===c&&(o=Z(t,n.schema)),"mark"===c&&(l=Pt(t,n.schema)),r&&tr.selection.ranges.forEach((t=>{n.doc.nodesBetween(t.$from.pos,t.$to.pos,((t,n)=>{o&&o===t.type&&tr.setNodeMarkup(n,void 0,Ht(t.attrs,e)),l&&t.marks.length&&t.marks.forEach((mark=>{l===mark.type&&tr.addMark(n,n+t.nodeSize,l.create(Ht(mark.attrs,e)))}))}))})),!0)},scrollIntoView:()=>({tr:tr,dispatch:t})=>(t&&tr.scrollIntoView(),!0),selectAll:()=>({tr:tr,commands:t})=>t.setTextSelection({from:0,to:tr.doc.content.size}),selectNodeBackward:()=>({state:t,dispatch:e})=>w(t,e),selectNodeForward:()=>({state:t,dispatch:e})=>S(t,e),selectParentNode:()=>({state:t,dispatch:e})=>((t,e)=>{let n,{$from:r,to:o}=t.selection,l=r.sharedDepth(o);return 0!=l&&(n=r.before(l),e&&e(t.tr.setSelection(h.c.create(t.doc,n))),!0)})(t,e),selectTextblockEnd:()=>({state:t,dispatch:e})=>R(t,e),selectTextblockStart:()=>({state:t,dispatch:e})=>$(t,e),setContent:(content,t=!1,e={})=>({tr:tr,editor:n,dispatch:r})=>{const{doc:o}=tr,l=Ft(content,n.schema,e);return r&&tr.replaceWith(0,o.content.size,l).setMeta("preventUpdate",!t),!0},setMark:(t,e={})=>({tr:tr,state:n,dispatch:r})=>{const{selection:o}=tr,{empty:l,ranges:c}=o,d=Pt(t,n.schema);if(r)if(l){const t=Vt(n,d);tr.addStoredMark(d.create({...t,...e}))}else c.forEach((t=>{const r=t.$from.pos,o=t.$to.pos;n.doc.nodesBetween(r,o,((t,n)=>{const l=Math.max(n,r),c=Math.min(n+t.nodeSize,o);t.marks.find((mark=>mark.type===d))?t.marks.forEach((mark=>{d===mark.type&&tr.addMark(l,c,d.create({...mark.attrs,...e}))})):tr.addMark(l,c,d.create(e))}))}));return function(t,tr,e){var n;const{selection:r}=tr;let cursor=null;if(Dt(r)&&(cursor=r.$cursor),cursor){const r=null!==(n=t.storedMarks)&&void 0!==n?n:cursor.marks();return!!e.isInSet(r)||!r.some((mark=>mark.type.excludes(e)))}const{ranges:o}=r;return o.some((({$from:n,$to:r})=>{let o=0===n.depth&&t.doc.inlineContent&&t.doc.type.allowsMarkType(e);return t.doc.nodesBetween(n.pos,r.pos,((t,n,r)=>{if(o)return!1;if(t.isInline){const n=!r||r.type.allowsMarkType(e),l=!!e.isInSet(t.marks)||!t.marks.some((t=>t.type.excludes(e)));o=n&&l}return!o})),o}))}(n,tr,d)},setMeta:(t,e)=>({tr:tr})=>(tr.setMeta(t,e),!0),setNode:(t,e={})=>({state:n,dispatch:r,chain:o})=>{const l=Z(t,n.schema);return l.isTextblock?o().command((({commands:t})=>!!B(l,e)(n)||t.clearNodes())).command((({state:t})=>B(l,e)(t,r))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:t=>({tr:tr,dispatch:e})=>{if(e){const{doc:e}=tr,n=jt(t,0,e.content.size),o=r.b.create(e,n);tr.setSelection(o)}return!0},setTextSelection:t=>({tr:tr,dispatch:e})=>{if(e){const{doc:e}=tr,{from:n,to:o}="number"==typeof t?{from:t,to:t}:t,l=r.f.atStart(e).from,c=r.f.atEnd(e).to,d=jt(n,l,c),h=jt(o,l,c),f=r.f.create(e,d,h);tr.setSelection(f)}return!0},sinkListItem:t=>({state:e,dispatch:n})=>{const r=Z(t,e.schema);return(o=r,function(t,e){let{$from:n,$to:r}=t.selection,l=n.blockRange(r,(t=>t.childCount>0&&t.firstChild.type==o));if(!l)return!1;let h=l.startIndex;if(0==h)return!1;let f=l.parent,m=f.child(h-1);if(m.type!=o)return!1;if(e){let n=m.lastChild&&m.lastChild.type==f.type,r=c.c.from(n?o.create():null),h=new c.j(c.c.from(o.create(null,c.c.from(f.type.create(null,r)))),n?3:1,0),v=l.start,y=l.end;e(t.tr.step(new d.b(v-(n?3:1),y,v,y,h,1,!0)).scrollIntoView())}return!0})(e,n);var o},splitBlock:({keepMarks:t=!0}={})=>({tr:tr,state:e,dispatch:n,editor:o})=>{const{selection:l,doc:c}=tr,{$from:h,$to:f}=l,m=Qt(o.extensionManager.attributes,h.node().type.name,h.node().attrs);if(l instanceof r.b&&l.node.isBlock)return!(!h.parentOffset||!Object(d.f)(c,h.pos))&&(n&&(t&&re(e,o.extensionManager.splittableMarks),tr.split(h.pos).scrollIntoView()),!0);if(!h.parent.isBlock)return!1;if(n){const n=f.parentOffset===f.parent.content.size;l instanceof r.f&&tr.deleteSelection();const c=0===h.depth?void 0:function(t){for(let i=0;i<t.edgeCount;i+=1){const{type:e}=t.edge(i);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}(h.node(-1).contentMatchAt(h.indexAfter(-1)));let v=n&&c?[{type:c,attrs:m}]:void 0,y=Object(d.f)(tr.doc,tr.mapping.map(h.pos),1,v);if(v||y||!Object(d.f)(tr.doc,tr.mapping.map(h.pos),1,c?[{type:c}]:void 0)||(y=!0,v=c?[{type:c,attrs:m}]:void 0),y&&(tr.split(tr.mapping.map(h.pos),1,v),c&&!n&&!h.parentOffset&&h.parent.type!==c)){const t=tr.mapping.map(h.before()),e=tr.doc.resolve(t);h.node(-1).canReplaceWith(e.index(),e.index()+1,c)&&tr.setNodeMarkup(tr.mapping.map(h.before()),c)}t&&re(e,o.extensionManager.splittableMarks),tr.scrollIntoView()}return!0},splitListItem:t=>({tr:tr,state:e,dispatch:n,editor:o})=>{var l;const h=Z(t,e.schema),{$from:f,$to:m}=e.selection,v=e.selection.node;if(v&&v.isBlock||f.depth<2||!f.sameParent(m))return!1;const y=f.node(-1);if(y.type!==h)return!1;const x=o.extensionManager.attributes;if(0===f.parent.content.size&&f.node(-1).childCount===f.indexAfter(-1)){if(2===f.depth||f.node(-3).type!==h||f.index(-2)!==f.node(-2).childCount-1)return!1;if(n){let t=c.c.empty;const e=f.index(-1)?1:f.index(-2)?2:3;for(let n=f.depth-e;n>=f.depth-3;n-=1)t=c.c.from(f.node(n).copy(t));const n=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,o=Qt(x,f.node().type.name,f.node().attrs),d=(null===(l=h.contentMatch.defaultType)||void 0===l?void 0:l.createAndFill(o))||void 0;t=t.append(c.c.from(h.createAndFill(null,d)||void 0));const m=f.before(f.depth-(e-1));tr.replace(m,f.after(-n),new c.j(t,4-e,0));let v=-1;tr.doc.nodesBetween(m,tr.doc.content.size,((t,e)=>{if(v>-1)return!1;t.isTextblock&&0===t.content.size&&(v=e+1)})),v>-1&&tr.setSelection(r.f.near(tr.doc.resolve(v))),tr.scrollIntoView()}return!0}const w=m.pos===f.end()?y.contentMatchAt(0).defaultType:null,k=Qt(x,y.type.name,y.attrs),_=Qt(x,f.node().type.name,f.node().attrs);tr.delete(f.pos,m.pos);const O=w?[{type:h,attrs:k},{type:w,attrs:_}]:[{type:h,attrs:k}];if(!Object(d.f)(tr.doc,f.pos,2))return!1;if(n){const{selection:t,storedMarks:r}=e,{splittableMarks:l}=o.extensionManager,c=r||t.$to.parentOffset&&t.$from.marks();if(tr.split(f.pos,2,O).scrollIntoView(),!c||!n)return!0;const d=c.filter((mark=>l.includes(mark.type.name)));tr.ensureMarks(d)}return!0},toggleList:(t,e,n,r={})=>({editor:o,tr:tr,state:l,dispatch:c,chain:d,commands:h,can:f})=>{const{extensions:m,splittableMarks:v}=o.extensionManager,y=Z(t,l.schema),x=Z(e,l.schema),{selection:w,storedMarks:k}=l,{$from:_,$to:O}=w,S=_.blockRange(O),M=k||w.$to.parentOffset&&w.$from.marks();if(!S)return!1;const C=Yt((t=>ee(t.type.name,m)))(w);if(S.depth>=1&&C&&S.depth-C.depth<=1){if(C.node.type===y)return h.liftListItem(x);if(ee(C.node.type.name,m)&&y.validContent(C.node.content)&&c)return d().command((()=>(tr.setNodeMarkup(C.pos,y),!0))).command((()=>oe(tr,y))).command((()=>se(tr,y))).run()}return n&&M&&c?d().command((()=>{const t=f().wrapInList(y,r),e=M.filter((mark=>v.includes(mark.type.name)));return tr.ensureMarks(e),!!t||h.clearNodes()})).wrapInList(y,r).command((()=>oe(tr,y))).command((()=>se(tr,y))).run():d().command((()=>!!f().wrapInList(y,r)||h.clearNodes())).wrapInList(y,r).command((()=>oe(tr,y))).command((()=>se(tr,y))).run()},toggleMark:(t,e={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:l=!1}=n,c=Pt(t,r.schema);return te(r,c,e)?o.unsetMark(c,{extendEmptyMarkRange:l}):o.setMark(c,e)},toggleNode:(t,e,n={})=>({state:r,commands:o})=>{const l=Z(t,r.schema),c=Z(e,r.schema);return Lt(r,l,n)?o.setNode(c):o.setNode(l,n)},toggleWrap:(t,e={})=>({state:n,commands:r})=>{const o=Z(t,n.schema);return Lt(n,o,e)?r.lift(o):r.wrapIn(o,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let o;if(r.spec.isInputRules&&(o=r.getState(t))){if(e){const tr=t.tr,e=o.transform;for(let t=e.steps.length-1;t>=0;t-=1)tr.step(e.steps[t].invert(e.docs[t]));if(o.text){const e=tr.doc.resolve(o.from).marks();tr.replaceWith(o.from,o.to,t.schema.text(o.text,e))}else tr.delete(o.from,o.to)}return!0}}return!1},unsetAllMarks:()=>({tr:tr,dispatch:t})=>{const{selection:e}=tr,{empty:n,ranges:r}=e;return n||t&&r.forEach((t=>{tr.removeMark(t.$from.pos,t.$to.pos)})),!0},unsetMark:(t,e={})=>({tr:tr,state:n,dispatch:r})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=tr,d=Pt(t,n.schema),{$from:h,empty:f,ranges:m}=c;if(!r)return!0;if(f&&l){let{from:t,to:e}=c;const n=null===(o=h.marks().find((mark=>mark.type===d)))||void 0===o?void 0:o.attrs,r=Et(h,d,n);r&&(t=r.from,e=r.to),tr.removeMark(t,e,d)}else m.forEach((t=>{tr.removeMark(t.$from.pos,t.$to.pos,d)}));return tr.removeStoredMark(d),!0},updateAttributes:(t,e={})=>({tr:tr,state:n,dispatch:r})=>{let o=null,l=null;const c=zt("string"==typeof t?t:t.name,n.schema);return!!c&&("node"===c&&(o=Z(t,n.schema)),"mark"===c&&(l=Pt(t,n.schema)),r&&tr.selection.ranges.forEach((t=>{const r=t.$from.pos,c=t.$to.pos;n.doc.nodesBetween(r,c,((t,n)=>{o&&o===t.type&&tr.setNodeMarkup(n,void 0,{...t.attrs,...e}),l&&t.marks.length&&t.marks.forEach((mark=>{if(l===mark.type){const o=Math.max(n,r),d=Math.min(n+t.nodeSize,c);tr.addMark(o,d,l.create({...mark.attrs,...e}))}}))}))})),!0)},wrapIn:(t,e={})=>({state:n,dispatch:r})=>function(t,e=null){return function(n,r){let{$from:o,$to:l}=n.selection,c=o.blockRange(l),h=c&&Object(d.h)(c,t,e);return!!h&&(r&&r(n.tr.wrap(c,h).scrollIntoView()),!0)}}(Z(t,n.schema),e)(n,r),wrapInList:(t,e={})=>({state:n,dispatch:r})=>V(Z(t,n.schema),e)(n,r)});const le=kt.create({name:"commands",addCommands:()=>({...ae})}),ce=kt.create({name:"editable",addProseMirrorPlugins(){return[new r.c({key:new r.d("editable"),props:{editable:()=>this.editor.options.editable}})]}}),de=kt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new r.c({key:new r.d("focusEvents"),props:{handleDOMEvents:{focus:(view,e)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:e}).setMeta("addToHistory",!1);return view.dispatch(n),!1},blur:(view,e)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:e}).setMeta("addToHistory",!1);return view.dispatch(n),!1}}}})]}}),ue=kt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first((({commands:t})=>[()=>t.undoInputRule(),()=>t.command((({tr:tr})=>{const{selection:e,doc:n}=tr,{empty:o,$anchor:l}=e,{pos:c,parent:d}=l,h=l.parent.isTextblock&&c>0?tr.doc.resolve(c-1):l,f=h.parent.type.spec.isolating,m=l.pos-l.parentOffset,v=f&&1===h.parent.childCount?m===l.pos:r.e.atStart(n).from===c;return!(!(o&&v&&d.type.isTextblock)||d.textContent.length)&&t.clearNodes()})),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()])),e=()=>this.editor.commands.first((({commands:t})=>[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()])),n={Enter:()=>this.editor.commands.first((({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...n},l={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return It()||Bt()?l:o},addProseMirrorPlugins(){return[new r.c({key:new r.d("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some((t=>t.docChanged))&&!e.doc.eq(n.doc)))return;const{empty:o,from:l,to:c}=e.selection,d=r.e.atStart(e.doc).from,h=r.e.atEnd(e.doc).to;if(o||!(l===d&&c===h))return;if(!(0===n.doc.textBetween(0,n.doc.content.size," "," ").length))return;const tr=n.tr,f=Y({state:n,transaction:tr}),{commands:m}=new U({editor:this.editor,state:f});return m.clearNodes(),tr.steps.length?tr:void 0}})]}}),pe=kt.create({name:"tabindex",addProseMirrorPlugins(){return[new r.c({key:new r.d("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});class he{constructor(t,e,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=t,this.editor=e,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return null!==(t=this.actualDepth)&&void 0!==t?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(content){let t=this.from,e=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1,e=this.to-1}this.editor.commands.insertContentAt({from:t,to:e},content)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),e=this.resolvedPos.doc.resolve(t);return new he(e,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new he(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new he(t,this.editor)}get children(){const t=[];return this.node.content.forEach(((e,n)=>{const r=e.isBlock&&!e.isTextblock,o=this.pos+n+1,l=this.resolvedPos.doc.resolve(o);if(!r&&l.depth<=this.depth)return;const c=new he(l,this.editor,r,r?e:null);r&&(c.actualDepth=this.depth+1),t.push(new he(l,this.editor,r,r?e:null))})),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,e={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===t)if(Object.keys(e).length>0){const t=r.node.attrs,n=Object.keys(e);for(let r=0;r<n.length;r+=1){const o=n[r];if(t[o]!==e[o])break}}else n=r;r=r.parent}return n}querySelector(t,e={}){return this.querySelectorAll(t,e,!0)[0]||null}querySelectorAll(t,e={},n=!1){let r=[];return this.children&&0!==this.children.length?(this.children.forEach((o=>{if(o.node.type.name===t){if(Object.keys(e).length>0){const t=o.node.attrs,n=Object.keys(e);for(let r=0;r<n.length;r+=1){const o=n[r];if(t[o]!==e[o])return}}if(r.push(o),n)return}r=r.concat(o.querySelectorAll(t))})),r):r}setAttribute(t){const e=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,t).setTextSelection(e.from).run()}}class fe extends K{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(style,t,e){const n=document.querySelector(`style[data-tiptap-style${e?`-${e}`:""}]`);if(null!==n)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style"+(e?`-${e}`:""),""),r.innerHTML=style,document.getElementsByTagName("head")[0].appendChild(r),r}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=et(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(t){if(this.isDestroyed)return;const e="string"==typeof t?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((t=>!t.key.startsWith(e)))});this.view.updateState(n)}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[ce,St.configure({blockSeparator:null===(e=null===(t=this.options.coreExtensionOptions)||void 0===t?void 0:t.clipboardTextSerializer)||void 0===e?void 0:e.blockSeparator}),le,de,ue,pe]:[],...this.options.extensions].filter((t=>["extension","node","mark"].includes(null==t?void 0:t.type)));this.extensionManager=new bt(n,this)}createCommandManager(){this.commandManager=new U({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=Ft(this.options.content,this.schema,this.options.parseOptions),e=At(t,this.options.autofocus);this.view=new o.c(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:r.a.create({doc:t,selection:e||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const tr=this.capturedTransaction;return this.capturedTransaction=null,tr}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach((t=>{var e;return null===(e=this.capturedTransaction)||void 0===e?void 0:e.step(t)})):void(this.capturedTransaction=t);const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),o=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return Jt(this.state,t)}isActive(t,e){const n="string"==typeof t?t:null,r="string"==typeof t?e:t;return function(t,e,n={}){if(!e)return Lt(t,null,n)||te(t,null,n);const r=zt(e,t.schema);return"node"===r?Lt(t,e,n):"mark"===r&&te(t,e,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ut(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e="\n\n",textSerializers:n={}}=t||{};return Kt(this.state.doc,{blockSeparator:e,textSerializers:{...Ot(this.schema),...n}})}get isEmpty(){return function(t){var e;const n=null===(e=t.type.createAndFill())||void 0===e?void 0:e.toJSON(),content=t.toJSON();return JSON.stringify(n)===JSON.stringify(content)}(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(null===(t=this.view)||void 0===t?void 0:t.docView)}$node(t,e){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new he(e,this)}get $doc(){return this.$pos(0)}}function me(t){return new pt({find:t.find,handler:({state:e,range:n,match:r})=>{const o=nt(t.getAttributes,void 0,r);if(!1===o||null===o)return null;const{tr:tr}=e,l=r[r.length-1],c=r[0];if(l){const r=c.search(/\S/),d=n.from+c.indexOf(l),h=d+l.length;if(Zt(n.from,n.to,e.doc).filter((e=>e.mark.type.excluded.find((n=>n===t.type&&n!==e.mark.type)))).filter((t=>t.to>d)).length)return null;h<n.to&&tr.delete(h,n.to),d>n.from&&tr.delete(n.from+r,d);const f=n.from+r+l.length;tr.addMark(n.from+r,f,t.type.create(o||{})),tr.removeStoredMark(t.type)}}})}function ge(t){return new pt({find:t.find,handler:({state:e,range:n,match:r})=>{const o=nt(t.getAttributes,void 0,r)||{},{tr:tr}=e,l=n.from;let c=n.to;const d=t.type.create(o);if(r[1]){let t=l+r[0].lastIndexOf(r[1]);t>c?t=c:c=t+r[1].length;const e=r[0][r[0].length-1];tr.insertText(e,l+r[0].length-1),tr.replaceWith(t,c,d)}else r[0]&&tr.insert(l-1,t.type.create(o)).delete(tr.mapping.map(l),tr.mapping.map(c));tr.scrollIntoView()}})}function ve(t){return new pt({find:t.find,handler:({state:e,range:n,match:r})=>{const o=e.doc.resolve(n.from),l=nt(t.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,l)}})}function ye(t){return new pt({find:t.find,handler:({state:e,range:n,match:r,chain:o})=>{const l=nt(t.getAttributes,void 0,r)||{},tr=e.tr.delete(n.from,n.to),c=tr.doc.resolve(n.from).blockRange(),h=c&&Object(d.h)(c,t.type,l);if(!h)return null;if(tr.wrap(c,h),t.keepMarks&&t.editor){const{selection:n,storedMarks:r}=e,{splittableMarks:o}=t.editor.extensionManager,l=r||n.$to.parentOffset&&n.$from.marks();if(l){const t=l.filter((mark=>o.includes(mark.type.name)));tr.ensureMarks(t)}}if(t.keepAttributes){const e="bulletList"===t.type.name||"orderedList"===t.type.name?"listItem":"taskList";o().updateAttributes(e,l).run()}const f=tr.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&Object(d.e)(tr.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&tr.join(n.from-1)}})}class be{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=nt(J(this,"addOptions",{name:this.name}))),this.storage=nt(J(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new be(t)}configure(t={}){const e=this.extend();return e.options=wt(this.options,t),e.storage=nt(J(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new be({...this.config,...t});return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=nt(J(e,"addOptions",{name:e.name})),e.storage=nt(J(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:mark}){const{tr:tr}=t.state,e=t.state.selection.$from;if(e.pos===e.end()){const n=e.marks();if(!!!n.find((t=>(null==t?void 0:t.type.name)===mark.name)))return!1;const r=n.find((t=>(null==t?void 0:t.type.name)===mark.name));return r&&tr.removeStoredMark(r),tr.insertText(" ",e.pos),t.view.dispatch(tr),!0}return!1}}class xe{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=nt(J(this,"addOptions",{name:this.name}))),this.storage=nt(J(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new xe(t)}configure(t={}){const e=this.extend();return e.options=wt(this.options,t),e.storage=nt(J(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new xe({...this.config,...t});return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=nt(J(e,"addOptions",{name:e.name})),e.storage=nt(J(e,"addStorage",{name:e.name,options:e.options})),e}}class we{constructor(component,t,e){this.isDragging=!1,this.component=component,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...e},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,n,o,l,c,d,h;const{view:view}=this.editor,f=t.target,m=3===f.nodeType?null===(e=f.parentElement)||void 0===e?void 0:e.closest("[data-drag-handle]"):f.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(f))||!m)return;let v=0,y=0;if(this.dom!==m){const e=this.dom.getBoundingClientRect(),n=m.getBoundingClientRect(),r=null!==(o=t.offsetX)&&void 0!==o?o:null===(l=t.nativeEvent)||void 0===l?void 0:l.offsetX,h=null!==(c=t.offsetY)&&void 0!==c?c:null===(d=t.nativeEvent)||void 0===d?void 0:d.offsetY;v=n.x-e.x+r,y=n.y-e.y+h}null===(h=t.dataTransfer)||void 0===h||h.setDragImage(this.dom,v,y);const x=r.b.create(view.state.doc,this.getPos()),w=view.state.tr.setSelection(x);view.dispatch(w)}stopEvent(t){var e;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:t});const n=t.target;if(!(this.dom.contains(n)&&!(null===(e=this.contentDOM)||void 0===e?void 0:e.contains(n))))return!1;const o=t.type.startsWith("drag"),l="drop"===t.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!l&&!o)return!0;const{isEditable:c}=this.editor,{isDragging:d}=this,h=!!this.node.type.spec.draggable,f=r.b.isSelectable(this.node),m="copy"===t.type,v="paste"===t.type,y="cut"===t.type,x="mousedown"===t.type;if(!h&&f&&o&&t.preventDefault(),h&&o&&!d)return t.preventDefault(),!1;if(h&&c&&!d&&x){const t=n.closest("[data-drag-handle]");t&&(this.dom===t||this.dom.contains(t))&&(this.isDragging=!0,document.addEventListener("dragend",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("drop",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("mouseup",(()=>{this.isDragging=!1}),{once:!0}))}return!(d||l||m||v||y||x&&f)}ignoreMutation(t){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:t});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===t.type)return!1;if(this.dom.contains(t.target)&&"childList"===t.type&&(It()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&this.editor.isFocused){if([...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every((t=>t.isContentEditable)))return!1}return this.contentDOM===t.target&&"attributes"===t.type||!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command((({tr:tr})=>{const e=this.getPos();return tr.setNodeMarkup(e,void 0,{...this.node.attrs,...t}),!0}))}deleteNode(){const t=this.getPos(),e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}}function ke(t){return new gt({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:o})=>{const l=nt(t.getAttributes,void 0,r,o);if(!1===l||null===l)return null;const{tr:tr}=e,c=r[r.length-1],d=r[0];let h=n.to;if(c){const r=d.search(/\S/),o=n.from+d.indexOf(c),f=o+c.length;if(Zt(n.from,n.to,e.doc).filter((e=>e.mark.type.excluded.find((n=>n===t.type&&n!==e.mark.type)))).filter((t=>t.to>o)).length)return null;f<n.to&&tr.delete(f,n.to),o>n.from&&tr.delete(n.from+r,o),h=n.from+r+c.length,tr.addMark(n.from+r,h,t.type.create(l||{})),tr.removeStoredMark(t.type)}}})}function _e(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Oe(t){return new gt({find:t.find,handler({match:e,chain:n,range:r,pasteEvent:o}){const l=nt(t.getAttributes,void 0,e,o);if(!1===l||null===l)return null;e.input&&n().deleteRange(r).insertContentAt(r.from,{type:t.type.name,attrs:l})}})}},933:function(t,e,n){var content=n(934);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("6674c922",content,!0,{sourceMap:!1})},934:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-badge .v-badge__badge:after{border-color:#fff}.theme--dark.v-badge .v-badge__badge:after{border-color:#1e1e1e}.v-badge{position:relative}.v-badge,.v-badge__badge{display:inline-block;line-height:1}.v-badge__badge{border-radius:10px;color:#fff;font-size:12px;height:20px;letter-spacing:0;min-width:20px;padding:4px 6px;pointer-events:auto;position:absolute;text-align:center;text-indent:0;top:auto;transition:.3s cubic-bezier(.25,.8,.5,1);white-space:nowrap}.v-application--is-ltr .v-badge__badge{right:auto}.v-application--is-rtl .v-badge__badge{left:auto}.v-badge__badge .v-icon{color:inherit;font-size:12px;height:12px;margin:0 -2px;width:12px}.v-badge__badge .v-img{height:12px;width:12px}.v-badge__wrapper{flex:0 1;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.v-badge--avatar .v-badge__badge{padding:0}.v-badge--avatar .v-badge__badge .v-avatar{height:20px!important;max-width:20px!important;min-width:0!important}.v-badge--bordered .v-badge__badge:after{border-radius:inherit;border-style:solid;border-width:2px;bottom:0;content:"";left:0;position:absolute;right:0;top:0;transform:scale(1.15)}.v-badge--dot .v-badge__badge{border-radius:4.5px;height:9px;min-width:0;padding:0;width:9px}.v-badge--dot .v-badge__badge:after{border-width:1.5px}.v-badge--icon .v-badge__badge{padding:4px 6px}.v-badge--inline{align-items:center;display:inline-flex;justify-content:center}.v-badge--inline .v-badge__badge,.v-badge--inline .v-badge__wrapper{position:relative}.v-badge--inline .v-badge__wrapper{margin:0 4px}.v-badge--tile .v-badge__badge{border-radius:0}',""]),v.locals={},t.exports=v},936:function(t,e,n){"use strict";function r(t){var e=null;if("schema"==t.entityType||"schemarow"==t.entityType)e="schemas-rows-id";else if("user"==t.entityType)e="content-users-id";else if("integrationplatform"==t.entityType)e="platforms-id";else if("pool"==t.entityType)e="pools-index-id";else if("file"==t.entityType)e="filesmanager-id";else{if("integration"==t.entityType)return{name:"platforms-id-integrations-integration",params:{id:parseInt(t.item.entity.platform_id),integration:parseInt(t.entityId)}};if("tag"!=t.entityType)return"";e="organisation-tags-id"}return{name:e,params:{id:parseInt(t.entityId)}}}n.d(e,"a",(function(){return r}))},939:function(t,e,n){"use strict";n(10)({target:"Number",stat:!0},{isInteger:n(944)})},940:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.propOptionsGenerator=void 0;const r=n(972);e.propOptionsGenerator=(t,e,...n)=>({optional:{type:t,required:!1,default:void 0,validator:(0,r.vuePropValidator)(e,...n)},nullable:{type:t,required:!1,default:null,validator:(0,r.vuePropValidator)(e,...n)},withDefault:o=>({type:t,required:!1,default:o,validator:(0,r.vuePropValidator)(e,...n)}),required:{type:t,required:!0,validator:(0,r.vuePropValidator)(e,...n)}})},943:function(t,e,n){"use strict";var r=n(345),o=n(316),l={props:{color:{type:String,default:"success"},disabled:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},label:{type:String,default:"Speichern"},type:{type:String,default:"button"},icon:{type:String,default:"icon icon-save"}}},c=n(42),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e(r.a,{attrs:{color:t.color,loading:t.saving,disabled:t.disabled,type:t.type,"data-cy":"saveButton"},on:{click:function(e){return t.$emit("click")}}},[e(o.a,{attrs:{left:""}},[t._v("\n    "+t._s(t.icon)+"\n  ")]),t._v("\n  "+t._s(t.label)+"\n")],1)}),[],!1,null,null,null);e.a=component.exports},944:function(t,e,n){"use strict";var r=n(69),o=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&o(t)===t}},945:function(t,e,n){var content=n(946);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("edae6d5c",content,!0,{sourceMap:!1})},946:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}.v-input--checkbox.v-input--dense{margin-top:4px}',""]),v.locals={},t.exports=v},947:function(t,e,n){"use strict";var r=n(345),o=n(367),l=n(12),c=n(884),d=n(316),h=(n(315),n(9)),f=(n(58),n(45),{components:{ModalToolbar:n(179).a},props:{id:{type:[Number,String]},float:{type:String},small:{type:Boolean,default:!1},label:{type:String,default:""},color:{type:String,default:""}},data:function(){return{hint:!1,isLoading:!1,title:"",text:""}},computed:{isIcon:function(){return 0==this.label.length}},methods:{loadWiki:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios("wiki/"+t.id);case 2:n=e.sent,t.isLoading=!1,t.title=n.data.title,t.text=n.data.text;case 6:case"end":return e.stop()}}),e)})))()}}}),m=n(42),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e(c.a,{attrs:{width:"800"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,l=n.attrs;return[e(r.a,t._g(t._b({class:"float-".concat(t.float),attrs:{icon:t.isIcon,small:t.small,color:t.color},on:{click:t.loadWiki}},"v-btn",l,!1),o),[e(d.a,{attrs:{small:t.small,left:!t.isIcon}},[t._v("\n        icon icon-help\n      ")]),t._v(" "),t.isIcon?t._e():e("span",[t._v(t._s(t.label))])],1)]}}]),model:{value:t.hint,callback:function(e){t.hint=e},expression:"hint"}},[t._v(" "),e(o.a,{attrs:{loading:t.isLoading,width:"800"}},[e("modal-toolbar",{attrs:{title:t.title},on:{close:function(e){t.hint=!1}}}),t._v(" "),e(l.c,{staticClass:"help-container",domProps:{innerHTML:t._s(t.text)}})],1)],1)}),[],!1,null,null,null);e.a=component.exports},953:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(5),n(13);var r=n(142),o=n(2),l=(n(45),n(933),n(316)),c=n(49),d=n(44),h=n(77),f=n(261),m=n(130),v=n(7),y=n(0),x=["aria-atomic","aria-label","aria-live","role","title"];function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=Object(v.a)(c.a,Object(m.b)(["left","bottom"]),d.a,h.a,f.a).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat(Object(y.i)(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,label=this.$attrs["aria-label"]||t.t(this.label),data=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":label,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),e=this.$createElement("span",data,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e},genBadgeContent:function(){if(!this.dot){var slot=Object(y.t)(this,"badge");return slot||(this.content?String(this.content):this.icon?this.$createElement(l.a,this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],n=[Object(y.t)(this)],o=this.$attrs,l=(o["aria-atomic"],o["aria-label"],o["aria-live"],o.role,o.title,Object(r.a)(o,x));return this.inline&&this.left?n.unshift(e):n.push(e),t("span",{staticClass:"v-badge",attrs:l,class:this.classes},n)}})},954:function(t,e,n){var content=n(955);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("322dc390",content,!0,{sourceMap:!1})},955:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.theme--light.v-expansion-panels .v-expansion-panel{background-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-expansion-panels .v-expansion-panel--disabled{color:rgba(0,0,0,.38)}.theme--light.v-expansion-panels .v-expansion-panel:not(:first-child):after{border-color:rgba(0,0,0,.12)}.theme--light.v-expansion-panels .v-expansion-panel-header .v-expansion-panel-header__icon .v-icon{color:rgba(0,0,0,.54)}.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header:hover:before{opacity:.04}.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:before,.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:hover:before,.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header:focus:before{opacity:.12}.theme--light.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:focus:before{opacity:.16}.theme--light.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover:before{opacity:.04}.theme--dark.v-expansion-panels .v-expansion-panel{background-color:#1e1e1e;color:#fff}.theme--dark.v-expansion-panels .v-expansion-panel--disabled{color:hsla(0,0%,100%,.5)}.theme--dark.v-expansion-panels .v-expansion-panel:not(:first-child):after{border-color:hsla(0,0%,100%,.12)}.theme--dark.v-expansion-panels .v-expansion-panel-header .v-expansion-panel-header__icon .v-icon{color:#fff}.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header:hover:before{opacity:.08}.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:before,.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:hover:before,.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header:focus:before{opacity:.24}.theme--dark.v-expansion-panels.v-expansion-panels--focusable .v-expansion-panel-header--active:focus:before{opacity:.32}.theme--dark.v-expansion-panels.v-expansion-panels--hover>.v-expansion-panel>.v-expansion-panel-header:hover:before{opacity:.08}.v-expansion-panels{border-radius:15px;display:flex;flex-wrap:wrap;justify-content:center;list-style-type:none;padding:0;width:100%;z-index:1}.v-expansion-panels>*{cursor:auto}.v-expansion-panels>:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.v-expansion-panels>:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.v-expansion-panels:not(.v-expansion-panels--accordion):not(.v-expansion-panels--tile)>.v-expansion-panel--active{border-radius:15px}.v-expansion-panels:not(.v-expansion-panels--accordion):not(.v-expansion-panels--tile)>.v-expansion-panel--active+.v-expansion-panel{border-top-left-radius:15px;border-top-right-radius:15px}.v-expansion-panels:not(.v-expansion-panels--accordion):not(.v-expansion-panels--tile)>.v-expansion-panel--next-active{border-bottom-left-radius:15px;border-bottom-right-radius:15px}.v-expansion-panels:not(.v-expansion-panels--accordion):not(.v-expansion-panels--tile)>.v-expansion-panel--next-active .v-expansion-panel-header{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.v-expansion-panel{flex:1 0 100%;max-width:100%;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-expansion-panel:before{border-radius:inherit;bottom:0;box-shadow:0 3px 1px -2px rgba(78,78,78,.2),0 2px 2px 0 rgba(53,53,53,.14),0 1px 5px 0 rgba(0,0,0,.12);content:"";left:0;position:absolute;right:0;top:0;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);z-index:-1}.v-expansion-panel:not(:first-child):after{border-top:thin solid;content:"";left:0;position:absolute;right:0;top:0;transition:border-color .2s cubic-bezier(.4,0,.2,1),opacity .2s cubic-bezier(.4,0,.2,1)}.v-expansion-panel--disabled .v-expansion-panel-header{pointer-events:none}.v-expansion-panel--active+.v-expansion-panel,.v-expansion-panel--active:not(:first-child){margin-top:16px}.v-expansion-panel--active+.v-expansion-panel:after,.v-expansion-panel--active:not(:first-child):after{opacity:0}.v-expansion-panel--active>.v-expansion-panel-header{min-height:64px}.v-expansion-panel--active>.v-expansion-panel-header--active .v-expansion-panel-header__icon:not(.v-expansion-panel-header__icon--disable-rotate) .v-icon{transform:rotate(-180deg)}.v-expansion-panel-header__icon{display:inline-flex;margin-bottom:-4px;margin-top:-4px;-webkit-user-select:none;user-select:none}.v-application--is-ltr .v-expansion-panel-header__icon{margin-left:auto}.v-application--is-rtl .v-expansion-panel-header__icon{margin-right:auto}.v-expansion-panel-header{align-items:center;border-top-left-radius:inherit;border-top-right-radius:inherit;display:flex;font-size:.9375rem;line-height:1;min-height:48px;outline:none;padding:16px 24px;position:relative;transition:min-height .3s cubic-bezier(.25,.8,.5,1);width:100%}.v-application--is-ltr .v-expansion-panel-header{text-align:left}.v-application--is-rtl .v-expansion-panel-header{text-align:right}.v-expansion-panel-header:not(.v-expansion-panel-header--mousedown):focus:before{opacity:.12}.v-expansion-panel-header:before{background-color:currentColor;border-radius:inherit;bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s cubic-bezier(.25,.8,.5,1)}.v-expansion-panel-header>:not(.v-expansion-panel-header__icon){flex:1 1 auto}.v-expansion-panel-content{display:flex}.v-expansion-panel-content__wrap{flex:1 1 auto;max-width:100%;padding:20px 24px 16px}.v-expansion-panels--accordion>.v-expansion-panel{margin-top:0}.v-expansion-panels--accordion>.v-expansion-panel:after{opacity:1}.v-expansion-panels--popout>.v-expansion-panel{max-width:calc(100% - 32px)}.v-expansion-panels--popout>.v-expansion-panel--active{max-width:calc(100% + 16px)}.v-expansion-panels--inset>.v-expansion-panel{max-width:100%}.v-expansion-panels--inset>.v-expansion-panel--active{max-width:calc(100% - 32px)}.v-expansion-panels--flat>.v-expansion-panel:after{border-top:none}.v-expansion-panels--flat>.v-expansion-panel:before{box-shadow:0 0 0 0 rgba(78,78,78,.2),0 0 0 0 rgba(53,53,53,.14),0 0 0 0 rgba(0,0,0,.12)}.v-expansion-panels--tile,.v-expansion-panels--tile>.v-expansion-panel:before{border-radius:0}',""]),v.locals={},t.exports=v},958:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return j})),n.d(e,"e",(function(){return N})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return m}));var r=n(959),o=n(962);const l=Object.create(null);class c{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new d(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let i=0;i<t.length;i++)if(t[i].$from.pos!=t[i].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(tr,content=r.j.empty){let t=content.content.lastChild,e=null;for(let i=0;i<content.openEnd;i++)e=t,t=t.lastChild;let n=tr.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:l,$to:c}=o[i],d=tr.mapping.slice(n);tr.replaceRange(d.map(l.pos),d.map(c.pos),i?r.j.empty:content),0==i&&O(tr,n,(t?t.isInline:e&&e.isTextblock)?-1:1)}}replaceWith(tr,t){let e=tr.steps.length,n=this.ranges;for(let i=0;i<n.length;i++){let{$from:r,$to:o}=n[i],l=tr.mapping.slice(e),c=l.map(r.pos),d=l.map(o.pos);i?tr.deleteRange(c,d):(tr.replaceRangeWith(c,d,t),O(tr,e,t.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new m(t):_(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let r=t.depth-1;r>=0;r--){let o=e<0?_(t.node(0),t.node(r),t.before(r+1),t.index(r),e,n):_(t.node(0),t.node(r),t.after(r+1),t.index(r)+1,e,n);if(o)return o}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new w(t.node(0))}static atStart(t){return _(t,t,0,0,1)||new w(t)}static atEnd(t){return _(t,t,t.content.size,t.childCount,-1)||new w(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=l[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in l)throw new RangeError("Duplicate use of selection JSON ID "+t);return l[t]=e,e.prototype.jsonID=t,e}getBookmark(){return m.between(this.$anchor,this.$head).getBookmark()}}c.prototype.visible=!0;class d{constructor(t,e){this.$from=t,this.$to=e}}let h=!1;function f(t){h||t.parent.inlineContent||(h=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class m extends c{constructor(t,e=t){f(t),f(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return c.near(n);let r=t.resolve(e.map(this.anchor));return new m(r.parent.inlineContent?r:n,n)}replace(tr,content=r.j.empty){if(super.replace(tr,content),content==r.j.empty){let t=this.$from.marksAcross(this.$to);t&&tr.ensureMarks(t)}}eq(t){return t instanceof m&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new v(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new m(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,head=e){let n=t.resolve(e);return new this(n,head==e?n:t.resolve(head))}static between(t,e,n){let r=t.pos-e.pos;if(n&&!r||(n=r>=0?1:-1),!e.parent.inlineContent){let t=c.findFrom(e,n,!0)||c.findFrom(e,-n,!0);if(!t)return c.near(e,n);e=t.$head}return t.parent.inlineContent||(0==r||(t=(c.findFrom(t,-n,!0)||c.findFrom(t,n,!0)).$anchor).pos<e.pos!=r<0)&&(t=e),new m(t,e)}}c.jsonID("text",m);class v{constructor(t,head){this.anchor=t,this.head=head}map(t){return new v(t.map(this.anchor),t.map(this.head))}resolve(t){return m.between(t.resolve(this.anchor),t.resolve(this.head))}}class y extends c{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),o=t.resolve(r);return n?c.near(o):new y(o)}content(){return new r.j(r.c.from(this.node),0,0)}eq(t){return t instanceof y&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new x(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new y(t.resolve(e.anchor))}static create(t,e){return new y(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}y.prototype.visible=!1,c.jsonID("node",y);class x{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new v(n,n):new x(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&y.isSelectable(n)?new y(e):c.near(e)}}class w extends c{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(tr,content=r.j.empty){if(content==r.j.empty){tr.delete(0,tr.doc.content.size);let t=c.atStart(tr.doc);t.eq(tr.selection)||tr.setSelection(t)}else super.replace(tr,content)}toJSON(){return{type:"all"}}static fromJSON(t){return new w(t)}map(t){return new w(t)}eq(t){return t instanceof w}getBookmark(){return k}}c.jsonID("all",w);const k={map(){return this},resolve:t=>new w(t)};function _(t,e,n,r,o,text=!1){if(e.inlineContent)return m.create(t,n);for(let i=r-(o>0?0:1);o>0?i<e.childCount:i>=0;i+=o){let r=e.child(i);if(r.isAtom){if(!text&&y.isSelectable(r))return y.create(t,n-(o<0?r.nodeSize:0))}else{let e=_(t,r,n+o,o<0?r.childCount:0,o,text);if(e)return e}n+=r.nodeSize*o}return null}function O(tr,t,e){let n=tr.steps.length-1;if(n<t)return;let r,l=tr.steps[n];(l instanceof o.c||l instanceof o.b)&&(tr.mapping.maps[n].forEach(((t,e,n,o)=>{null==r&&(r=o)})),tr.setSelection(c.near(tr.doc.resolve(r),e)))}class S extends o.d{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return r.d.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(mark){return this.ensureMarks(mark.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(mark){return this.ensureMarks(mark.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(time){return this.time=time,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.d.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(text,t,e){let n=this.doc.type.schema;if(null==t)return text?this.replaceSelectionWith(n.text(text),!0):this.deleteSelection();{if(null==e&&(e=t),e=null==e?t:e,!text)return this.deleteRange(t,e);let r=this.storedMarks;if(!r){let n=this.doc.resolve(t);r=e==t?n.marks():n.marksAcross(this.doc.resolve(e))}return this.replaceRangeWith(t,e,n.text(text,r)),this.selection.empty||this.setSelection(c.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function M(t,e){return e&&t?t.bind(e):t}class C{constructor(t,desc,e){this.name=t,this.init=M(desc.init,e),this.apply=M(desc.apply,e)}}const T=[new C("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:tr=>tr.doc}),new C("selection",{init:(t,e)=>t.selection||c.atStart(e.doc),apply:tr=>tr.selection}),new C("storedMarks",{init:t=>t.storedMarks||null,apply:(tr,t,e,n)=>n.selection.$cursor?tr.storedMarks:null}),new C("scrollToSelection",{init:()=>0,apply:(tr,t)=>tr.scrolledIntoView?t+1:t})];class E{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=T.slice(),e&&e.forEach((t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new C(t.key,t.spec.state,t))}))}}class P{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(tr){return this.applyTransaction(tr).state}filterTransaction(tr,t=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=t){let t=this.config.plugins[i];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,tr,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let l=this.config.plugins[i];if(l.spec.appendTransaction){let c=r?r[i].n:0,d=r?r[i].state:this,tr=c<e.length&&l.spec.appendTransaction.call(l,c?e.slice(c):e,d,n);if(tr&&n.filterTransaction(tr,i)){if(tr.setMeta("appendedTransaction",t),!r){r=[];for(let t=0;t<this.config.plugins.length;t++)r.push(t<i?{state:n,n:e.length}:{state:this,n:0})}e.push(tr),n=n.applyInner(tr),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}}applyInner(tr){if(!tr.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new P(this.config),e=this.config.fields;for(let i=0;i<e.length;i++){let n=e[i];t[n.name]=n.apply(tr,this[n.name],this,t)}return t}get tr(){return new S(this)}static create(t){let e=new E(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new P(e);for(let i=0;i<e.fields.length;i++)n[e.fields[i].name]=e.fields[i].init(t,n);return n}reconfigure(t){let e=new E(this.schema,t.plugins),n=e.fields,r=new P(e);for(let i=0;i<n.length;i++){let e=n[i].name;r[e]=this.hasOwnProperty(e)?this[e]:n[i].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((t=>t.toJSON()))),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new E(t.schema,t.plugins),l=new P(o);return o.fields.forEach((o=>{if("doc"==o.name)l.doc=r.f.fromJSON(t.schema,e.doc);else if("selection"==o.name)l.selection=c.fromJSON(l.doc,e.selection);else if("storedMarks"==o.name)e.storedMarks&&(l.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let r in n){let c=n[r],d=c.spec.state;if(c.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(e,r))return void(l[o.name]=d.fromJSON.call(c,t,e[r],l))}l[o.name]=o.init(t,l)}})),l}}function D(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):"handleDOMEvents"==r&&(o=D(o,e,{})),n[r]=o}return n}class j{constructor(t){this.spec=t,this.props={},t.props&&D(t.props,this,this.props),this.key=t.key?t.key.key:I("plugin")}getState(t){return t[this.key]}}const A=Object.create(null);function I(t){return t in A?t+"$"+ ++A[t]:(A[t]=0,t+"$")}class N{constructor(t="key"){this.key=I(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},959:function(t,e,n){"use strict";function r(content){this.content=content}n.d(e,"a",(function(){return st})),n.d(e,"b",(function(){return vt})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return nt})),n.d(e,"f",(function(){return B})),n.d(e,"g",(function(){return $})),n.d(e,"h",(function(){return y})),n.d(e,"i",(function(){return it})),n.d(e,"j",(function(){return x})),r.prototype={constructor:r,find:function(t){for(var i=0;i<this.content.length;i+=2)if(this.content[i]===t)return i;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,l=o.find(t),content=o.content.slice();return-1==l?content.push(n||t,e):(content[l+1]=e,n&&(content[l]=n)),new r(content)},remove:function(t){var e=this.find(t);if(-1==e)return this;var content=this.content.slice();return content.splice(e,2),new r(content)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var content=this.remove(t).content.slice();return content.push(t,e),new r(content)},addBefore:function(t,e,n){var o=this.remove(e),content=o.content.slice(),l=o.find(t);return content.splice(-1==l?content.length:l,0,e,n),new r(content)},forEach:function(t){for(var i=0;i<this.content.length;i+=2)t(this.content[i],this.content[i+1])},prepend:function(map){return(map=r.from(map)).size?new r(map.content.concat(this.subtract(map).content)):this},append:function(map){return(map=r.from(map)).size?new r(this.subtract(map).content.concat(map.content)):this},subtract:function(map){var t=this;map=r.from(map);for(var i=0;i<map.content.length;i+=2)t=t.remove(map.content[i]);return t},toObject:function(){var t={};return this.forEach((function(e,n){t[e]=n})),t},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var content=[];if(t)for(var e in t)content.push(e,t[e]);return new r(content)};var o=r;function l(a,b,t){for(let i=0;;i++){if(i==a.childCount||i==b.childCount)return a.childCount==b.childCount?null:t;let e=a.child(i),n=b.child(i);if(e!=n){if(!e.sameMarkup(n))return t;if(e.isText&&e.text!=n.text){for(let r=0;e.text[r]==n.text[r];r++)t++;return t}if(e.content.size||n.content.size){let r=l(e.content,n.content,t+1);if(null!=r)return r}t+=e.nodeSize}else t+=e.nodeSize}}function c(a,b,t,e){for(let n=a.childCount,r=b.childCount;;){if(0==n||0==r)return n==r?null:{a:t,b:e};let o=a.child(--n),l=b.child(--r),d=o.nodeSize;if(o!=l){if(!o.sameMarkup(l))return{a:t,b:e};if(o.isText&&o.text!=l.text){let n=0,r=Math.min(o.text.length,l.text.length);for(;n<r&&o.text[o.text.length-n-1]==l.text[l.text.length-n-1];)n++,t--,e--;return{a:t,b:e}}if(o.content.size||l.content.size){let n=c(o.content,l.content,t-1,e-1);if(n)return n}t-=d,e-=d}else t-=d,e-=d}}class d{constructor(content,t){if(this.content=content,this.size=t||0,null==t)for(let i=0;i<content.length;i++)this.size+=content[i].nodeSize}nodesBetween(t,e,n,r=0,o){for(let i=0,l=0;l<e;i++){let c=this.content[i],d=l+c.nodeSize;if(d>t&&!1!==n(c,r+l,o||null,i)&&c.content.size){let o=l+1;c.nodesBetween(Math.max(0,t-o),Math.min(c.content.size,e-o),n,r+o)}l=d}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let text="",o=!0;return this.nodesBetween(t,e,((l,c)=>{let d=l.isText?l.text.slice(Math.max(t,c)-c,e-c):l.isLeaf?r?"function"==typeof r?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&n&&(o?o=!1:text+=n),text+=d}),0),text}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,content=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(content[content.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)content.push(t.content[i]);return new d(content,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let n=[],r=0;if(e>t)for(let i=0,o=0;o<e;i++){let l=this.content[i],c=o+l.nodeSize;c>t&&((o<t||c>e)&&(l=l.isText?l.cut(Math.max(0,t-o),Math.min(l.text.length,e-o)):l.cut(Math.max(0,t-o-1),Math.min(l.content.size,e-o-1))),n.push(l),r+=l.nodeSize),o=c}return new d(n,r)}cutByIndex(t,e){return t==e?d.empty:0==t&&e==this.content.length?this:new d(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new d(r,o)}addToStart(t){return new d([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new d(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let i=0;i<this.content.length;i++)if(!this.content[i].eq(t.content[i]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let i=0,p=0;i<this.content.length;i++){let e=this.content[i];t(e,p,i),p+=e.nodeSize}}findDiffStart(t,e=0){return l(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return c(this,t,e,n)}findIndex(t,e=-1){if(0==t)return f(0,t);if(t==this.size)return f(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let i=0,n=0;;i++){let r=n+this.child(i).nodeSize;if(r>=t)return r==t||e>0?f(i+1,r):f(i,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return d.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new d(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return d.empty;let e,n=0;for(let i=0;i<t.length;i++){let r=t[i];n+=r.nodeSize,i&&r.isText&&t[i-1].sameMarkup(r)?(e||(e=t.slice(0,i)),e[e.length-1]=r.withText(e[e.length-1].text+r.text)):e&&e.push(r)}return new d(e||t,n)}static from(t){if(!t)return d.empty;if(t instanceof d)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new d([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}d.empty=new d([],0);const h={index:0,offset:0};function f(t,e){return h.index=t,h.offset=e,h}function m(a,b){if(a===b)return!0;if(!a||"object"!=typeof a||!b||"object"!=typeof b)return!1;let t=Array.isArray(a);if(Array.isArray(b)!=t)return!1;if(t){if(a.length!=b.length)return!1;for(let i=0;i<a.length;i++)if(!m(a[i],b[i]))return!1}else{for(let p in a)if(!(p in b)||!m(a[p],b[p]))return!1;for(let p in b)if(!(p in a))return!1}return!0}class v{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let i=0;i<t.length;i++){let r=t[i];if(this.eq(r))return t;if(this.type.excludes(r.type))e||(e=t.slice(0,i));else{if(r.type.excludes(this.type))return t;!n&&r.type.rank>this.type.rank&&(e||(e=t.slice(0,i)),e.push(this),n=!0),e&&e.push(r)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let i=0;i<t.length;i++)if(this.eq(t[i]))return t.slice(0,i).concat(t.slice(i+1));return t}isInSet(t){for(let i=0;i<t.length;i++)if(this.eq(t[i]))return!0;return!1}eq(t){return this==t||this.type==t.type&&m(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw new RangeError(`There is no mark type ${e.type} in this schema`);return n.create(e.attrs)}static sameSet(a,b){if(a==b)return!0;if(a.length!=b.length)return!1;for(let i=0;i<a.length;i++)if(!a[i].eq(b[i]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return v.none;if(t instanceof v)return[t];let e=t.slice();return e.sort(((a,b)=>a.type.rank-b.type.rank)),e}}v.none=[];class y extends Error{}class x{constructor(content,t,e){this.content=content,this.openStart=t,this.openEnd=e}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let content=k(this.content,t+this.openStart,e);return content&&new x(content,this.openStart,this.openEnd)}removeBetween(t,e){return new x(w(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return x.empty;let n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new x(d.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let r=t.firstChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=t.lastChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.lastChild)r++;return new x(t,n,r)}}function w(content,t,e){let{index:n,offset:r}=content.findIndex(t),o=content.maybeChild(n),{index:l,offset:c}=content.findIndex(e);if(r==t||o.isText){if(c!=e&&!content.child(l).isText)throw new RangeError("Removing non-flat range");return content.cut(0,t).append(content.cut(e))}if(n!=l)throw new RangeError("Removing non-flat range");return content.replaceChild(n,o.copy(w(o.content,t-r-1,e-r-1)))}function k(content,t,e,n){let{index:r,offset:o}=content.findIndex(t),l=content.maybeChild(r);if(o==t||l.isText)return n&&!n.canReplace(r,r,e)?null:content.cut(0,t).append(e).append(content.cut(t));let c=k(l.content,t-o-1,e);return c&&content.replaceChild(r,l.copy(c))}function _(t,e,n){if(n.openStart>t.depth)throw new y("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new y("Inconsistent open depths");return O(t,e,n,0)}function O(t,e,n,r){let o=t.index(r),l=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let c=O(t,e,n,r+1);return l.copy(l.content.replaceChild(o,c))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:o,end:c}=function(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)r=e.node(i).copy(d.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return E(l,P(t,o,c,e,r))}{let r=t.parent,content=r.content;return E(r,content.cut(0,t.parentOffset).append(n.content).append(content.cut(e.parentOffset)))}}return E(l,D(t,e,r))}function S(main,sub){if(!sub.type.compatibleContent(main.type))throw new y("Cannot join "+sub.type.name+" onto "+main.type.name)}function M(t,e,n){let r=t.node(n);return S(r,e.node(n)),r}function C(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function T(t,e,n,r){let o=(e||t).node(n),l=0,c=e?e.index(n):o.childCount;t&&(l=t.index(n),t.depth>n?l++:t.textOffset&&(C(t.nodeAfter,r),l++));for(let i=l;i<c;i++)C(o.child(i),r);e&&e.depth==n&&e.textOffset&&C(e.nodeBefore,r)}function E(t,content){return t.type.checkContent(content),t.copy(content)}function P(t,e,n,r,o){let l=t.depth>o&&M(t,e,o+1),c=r.depth>o&&M(n,r,o+1),content=[];return T(null,t,o,content),l&&c&&e.index(o)==n.index(o)?(S(l,c),C(E(l,P(t,e,n,r,o+1)),content)):(l&&C(E(l,D(t,e,o+1)),content),T(e,n,o,content),c&&C(E(c,D(n,r,o+1)),content)),T(r,null,o,content),new d(content)}function D(t,e,n){let content=[];if(T(null,t,n,content),t.depth>n){C(E(M(t,e,n+1),D(t,e,n+1)),content)}return T(e,null,n,content),new d(content)}x.empty=new x(d.empty,0,0);class j{constructor(t,path,e){this.pos=t,this.path=path,this.parentOffset=e,this.depth=path.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let i=0;i<t;i++)r+=n.child(i).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return v.none;if(this.textOffset)return t.child(e).marks;let main=t.maybeChild(e-1),n=t.maybeChild(e);if(!main){let t=main;main=n,n=t}let r=main.marks;for(var i=0;i<r.length;i++)!1!==r[i].type.spec.inclusive||n&&r[i].isInSet(n.marks)||(r=r[i--].removeFromSet(r));return r}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new $(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let i=1;i<=this.depth;i++)t+=(t?"/":"")+this.node(i).type.name+"_"+this.index(i-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let path=[],n=0,r=e;for(let e=t;;){let{index:t,offset:o}=e.content.findIndex(r),l=r-o;if(path.push(e,t,n+o),!l)break;if(e=e.child(t),e.isText)break;r=l-1,n+=o+1}return new j(e,path,r)}static resolveCached(t,e){for(let i=0;i<A.length;i++){let n=A[i];if(n.pos==e&&n.doc==t)return n}let n=A[I]=j.resolve(t,e);return I=(I+1)%N,n}}let A=[],I=0,N=12;class ${constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const R=Object.create(null);class B{constructor(t,e,content,n=v.none){this.type=t,this.attrs=e,this.marks=n,this.content=content||d.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&m(this.attrs,e||t.defaultAttrs||R)&&v.sameSet(this.marks,n||v.none)}copy(content=null){return content==this.content?this:new B(this.type,this.attrs,content,this.marks)}mark(t){return t==this.marks?this:new B(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return x.empty;let r=this.resolve(t),o=this.resolve(e),l=n?0:r.sharedDepth(e),c=r.start(l),content=r.node(l).content.cut(r.pos-c,o.pos-c);return new x(content,r.depth-l,o.depth-l)}replace(t,e,n){return _(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return j.resolveCached(this,t)}resolveNoCache(t){return j.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,(t=>(n.isInSet(t.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),z(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=d.empty,r=0,o=n.childCount){let l=this.contentMatchAt(t).matchFragment(n,r,o),c=l&&l.matchFragment(this.content,e);if(!c||!c.validEnd)return!1;for(let i=r;i<o;i++)if(!this.type.allowsMarks(n.child(i).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(n),l=o&&o.matchFragment(this.content,e);return!!l&&l.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=v.none;for(let i=0;i<this.marks.length;i++)t=this.marks[i].addToSet(t);if(!v.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let content=d.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,content,n)}}B.prototype.text=void 0;class L extends B{constructor(t,e,content,n){if(super(t,e,null,n),!content)throw new RangeError("Empty text nodes are not allowed");this.text=content}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):z(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new L(this.type,this.attrs,this.text,t)}withText(text){return text==this.text?this:new L(this.type,this.attrs,text,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let base=super.toJSON();return base.text=this.text,base}}function z(t,e){for(let i=t.length-1;i>=0;i--)e=t[i].type.name+"("+e+")";return e}class H{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new F(t,e);if(null==n.next)return H.empty;let r=V(n);n.next&&n.err("Unexpected trailing text");let o=function(t){let e=Object.create(null);return n(G(t,0));function n(r){let o=[];r.forEach((e=>{t[e].forEach((({term:e,to:n})=>{if(!e)return;let r;for(let i=0;i<o.length;i++)o[i][0]==e&&(r=o[i][1]);G(t,n).forEach((t=>{r||o.push([e,r=[]]),-1==r.indexOf(t)&&r.push(t)}))}))}));let l=e[r.join(",")]=new H(r.indexOf(t.length-1)>-1);for(let i=0;i<o.length;i++){let t=o[i][1].sort(J);l.next.push({type:o[i][0],next:e[t.join(",")]||n(t)})}return l}}(function(t){let e=[[]];return o(l(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((t=>t.to=e))}function l(t,e){if("choice"==t.type)return t.exprs.reduce(((t,n)=>t.concat(l(n,e))),[]);if("seq"!=t.type){if("star"==t.type){let c=n();return r(e,c),o(l(t.expr,c),c),[r(c)]}if("plus"==t.type){let c=n();return o(l(t.expr,e),c),o(l(t.expr,c),c),[r(c)]}if("opt"==t.type)return[r(e)].concat(l(t.expr,e));if("range"==t.type){let c=e;for(let i=0;i<t.min;i++){let e=n();o(l(t.expr,c),e),c=e}if(-1==t.max)o(l(t.expr,c),c);else for(let i=t.min;i<t.max;i++){let e=n();r(c,e),o(l(t.expr,c),e),c=e}return[r(c)]}if("name"==t.type)return[r(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let i=0;;i++){let r=l(t.exprs[i],e);if(i==t.exprs.length-1)return r;o(r,e=n())}}}(r));return function(t,e){for(let i=0,n=[t];i<n.length;i++){let t=n[i],r=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:l,next:c}=t.next[e];o.push(l.name),!r||l.isText||l.hasRequiredAttrs()||(r=!1),-1==n.indexOf(c)&&n.push(c)}r&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(t){for(let i=0;i<this.next.length;i++)if(this.next[i].type==t)return this.next[i].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let i=0;i<this.next.length;i++){let{type:t}=this.next[i];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(t){for(let i=0;i<this.next.length;i++)for(let e=0;e<t.next.length;e++)if(this.next[i].type==t.next[e].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];return function o(l,c){let h=l.matchFragment(t,n);if(h&&(!e||h.validEnd))return d.from(c.map((t=>t.createAndFill())));for(let i=0;i<l.next.length;i++){let{type:t,next:e}=l.next[i];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(e)){r.push(e);let n=o(e,c.concat(t));if(n)return n}}return null}(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let i=0;i<o.next.length;i++){let{type:t,next:l}=o.next[i];t.isLeaf||t.hasRequiredAttrs()||t.name in e||r.type&&!l.validEnd||(n.push({match:t.contentMatch,type:t,via:r}),e[t.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(n){t.push(n);for(let i=0;i<n.next.length;i++)-1==t.indexOf(n.next[i].next)&&e(n.next[i].next)}(this),t.map(((e,i)=>{let n=i+(e.validEnd?"*":" ")+" ";for(let i=0;i<e.next.length;i++)n+=(i?", ":"")+e.next[i].type.name+"->"+t.indexOf(e.next[i].next);return n})).join("\n")}}H.empty=new H(!0);class F{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function V(t){let e=[];do{e.push(W(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function W(t){let e=[];do{e.push(Y(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function Y(t){let e=function(t){if(t.eat("(")){let e=V(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let t in n){let r=n[t];r.groups.indexOf(e)>-1&&o.push(r)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=K(t,e)}return e}function U(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function K(t,e){let n=U(t),r=n;return t.eat(",")&&(r="}"!=t.next?U(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function J(a,b){return b-a}function G(t,e){let n=[];return function e(r){let o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(let i=0;i<o.length;i++){let{term:t,to:r}=o[i];t||-1!=n.indexOf(r)||e(r)}}(e),n.sort(J)}function X(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Z(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(void 0===o){let e=t[r];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=e.default}n[r]=o}return n}function Q(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new et(t[n]);return e}class tt{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Q(n.attrs),this.defaultAttrs=X(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==H.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Z(this.attrs,t)}create(t=null,content,e){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new B(this,this.computeAttrs(t),d.from(content),v.setFrom(e))}createChecked(t=null,content,e){return content=d.from(content),this.checkContent(content),new B(this,this.computeAttrs(t),content,v.setFrom(e))}createAndFill(t=null,content,e){if(t=this.computeAttrs(t),(content=d.from(content)).size){let t=this.contentMatch.fillBefore(content);if(!t)return null;content=t.append(content)}let n=this.contentMatch.matchFragment(content),r=n&&n.fillBefore(d.empty,!0);return r?new B(this,t,content.append(r),v.setFrom(e)):null}validContent(content){let t=this.contentMatch.matchFragment(content);if(!t||!t.validEnd)return!1;for(let i=0;i<content.childCount;i++)if(!this.allowsMarks(content.child(i).marks))return!1;return!0}checkContent(content){if(!this.validContent(content))throw new RangeError(`Invalid content for node ${this.name}: ${content.toString().slice(0,50)}`)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let i=0;i<t.length;i++)if(!this.allowsMarkType(t[i].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?e&&e.push(t[i]):e||(e=t.slice(0,i));return e?e.length?e:v.none:t}static compile(t,e){let n=Object.create(null);t.forEach(((t,r)=>n[t]=new tt(t,e,r)));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let t in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class et{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class nt{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=Q(r.attrs),this.excluded=null;let o=X(this.attrs);this.instance=o?new v(this,o):null}create(t=null){return!t&&this.instance?this.instance:new v(this,Z(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach(((t,o)=>n[t]=new nt(t,r++,e,o))),n}removeFromSet(t){for(var i=0;i<t.length;i++)t[i].type==this&&(t=t.slice(0,i).concat(t.slice(i+1)),i--);return t}isInSet(t){for(let i=0;i<t.length;i++)if(t[i].type==this)return t[i]}excludes(t){return this.excluded.indexOf(t)>-1}}class it{constructor(t){this.cached=Object.create(null);let e=this.spec={};for(let n in t)e[n]=t[n];e.nodes=o.from(t.nodes),e.marks=o.from(t.marks||{}),this.nodes=tt.compile(this.spec.nodes,this),this.marks=nt.compile(this.spec.marks,this);let n=Object.create(null);for(let t in this.nodes){if(t in this.marks)throw new RangeError(t+" can not be both a node and a mark");let e=this.nodes[t],r=e.spec.content||"",o=e.spec.marks;e.contentMatch=n[r]||(n[r]=H.parse(r,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.markSet="_"==o?null:o?ot(this,o.split(" ")):""!=o&&e.inlineContent?null:[]}for(let t in this.marks){let e=this.marks[t],n=e.spec.excludes;e.excluded=null==n?[e]:""==n?[]:ot(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,content,n){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof tt))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,content,n)}text(text,t){let e=this.nodes.text;return new L(e,e.defaultAttrs,text,v.setFrom(t))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return B.fromJSON(this,t)}markFromJSON(t){return v.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function ot(t,e){let n=[];for(let i=0;i<e.length;i++){let r=e[i],mark=t.marks[r],o=mark;if(mark)n.push(mark);else for(let e in t.marks){let mark=t.marks[e];("_"==r||mark.spec.group&&mark.spec.group.split(" ").indexOf(r)>-1)&&n.push(o=mark)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}class st{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((t=>{!function(t){return null!=t.tag}(t)?function(t){return null!=t.style}(t)&&this.styles.push(t):this.tags.push(t)})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}parse(t,e={}){let n=new ht(this,e,!1);return n.addAll(t,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new ht(this,e,!0);return n.addAll(t,e.from,e.to),x.maxOpen(n.finish())}matchTag(t,e,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let n=this.tags[i];if(ft(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t);if(!1===e)continue;n.attrs=e||void 0}return n}}}matchStyle(t,e,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],style=r.style;if(!(0!=style.indexOf(t)||r.context&&!n.matchesContext(r.context)||style.length>t.length&&(61!=style.charCodeAt(t.length)||style.slice(t.length+1)!=e))){if(r.getAttrs){let t=r.getAttrs(e);if(!1===t)continue;r.attrs=t||void 0}return r}}}static schemaRules(t){let e=[];function n(t){let n=null==t.priority?50:t.priority,i=0;for(;i<e.length;i++){let t=e[i];if((null==t.priority?50:t.priority)<n)break}e.splice(i,0,t)}for(let e in t.marks){let r=t.marks[e].spec.parseDOM;r&&r.forEach((t=>{n(t=mt(t)),t.mark||t.ignore||t.clearMark||(t.mark=e)}))}for(let e in t.nodes){let r=t.nodes[e].spec.parseDOM;r&&r.forEach((t=>{n(t=mt(t)),t.node||t.ignore||t.mark||(t.node=e)}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new st(t,st.schemaRules(t)))}}const at={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},lt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ct={ol:!0,ul:!0};function ut(t,e,base){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&base}class pt{constructor(t,e,n,r,o,l,c){this.type=t,this.attrs=e,this.marks=n,this.pendingMarks=r,this.solid=o,this.options=c,this.content=[],this.activeMarks=v.none,this.stashMarks=[],this.match=l||(4&c?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(d.from(t));if(!e){let e,n=this.type.contentMatch;return(e=n.findWrapping(t.type))?(this.match=n,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let text=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=text.withText(text.text.slice(0,text.text.length-t[0].length))}}let content=d.from(this.content);return!t&&this.match&&(content=content.append(this.match.fillBefore(d.empty,!0))),this.type?this.type.create(this.attrs,content,this.marks):content}popFromStashMark(mark){for(let i=this.stashMarks.length-1;i>=0;i--)if(mark.eq(this.stashMarks[i]))return this.stashMarks.splice(i,1)[0]}applyPending(t){for(let i=0,e=this.pendingMarks;i<e.length;i++){let mark=e[i];(this.type?this.type.allowsMarkType(mark.type):gt(mark.type,t))&&!mark.isInSet(this.activeMarks)&&(this.activeMarks=mark.addToSet(this.activeMarks),this.pendingMarks=mark.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!at.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class ht{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0;let r,o=e.topNode,l=ut(null,e.preserveWhitespace,0)|(n?4:0);r=o?new pt(o.type,o.attrs,v.none,v.none,!0,e.topMatch||o.type.contentMatch,l):new pt(n?null:t.schema.topNodeType,null,v.none,v.none,!0,null,l),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){3==t.nodeType?this.addTextNode(t):1==t.nodeType&&this.addElement(t)}withStyleRules(t,e){let style=t.getAttribute("style");if(!style)return e();let n=this.readStyles(function(style){let t,e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n=[];for(;t=e.exec(style);)n.push(t[1],t[2].trim());return n}(style));if(!n)return;let[r,o]=n,l=this.top;for(let i=0;i<o.length;i++)this.removePendingMark(o[i],l);for(let i=0;i<r.length;i++)this.addPendingMark(r[i]);e();for(let i=0;i<r.length;i++)this.removePendingMark(r[i],l);for(let i=0;i<o.length;i++)this.addPendingMark(o[i])}addTextNode(t){let e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let n,r=t.nodeName.toLowerCase();ct.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&ct.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:lt.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let e,n=this.top,l=this.needsBlock;if(at.hasOwnProperty(r))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),e=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);o&&o.skip?this.addAll(t):this.withStyleRules(t,(()=>this.addAll(t))),e&&this.sync(n),this.needsBlock=l}else this.withStyleRules(t,(()=>{this.addElementByRule(t,o,!1===o.consuming?n:void 0)}))}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=v.none,n=v.none;for(let i=0;i<t.length;i+=2)for(let r;;){let o=this.parser.matchStyle(t[i],t[i+1],this,r);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach((t=>{o.clearMark(t)&&(n=t.addToSet(n))})):e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return[e,n]}addElementByRule(t,e,n){let r,o,mark;if(e.node)o=this.parser.schema.nodes[e.node],o.isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs||null,e.preserveWhitespace);else{mark=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(mark)}let l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t)));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n)}r&&this.sync(l)&&this.open--,mark&&this.removePendingMark(mark,l)}addAll(t,e,n){let r=e||0;for(let o=e?t.childNodes[e]:t.firstChild,l=null==n?null:t.childNodes[n];o!=l;o=o.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(o);this.findAtPoint(t,r)}findPlace(t){let e,n;for(let r=this.open;r>=0;r--){let o=this.nodes[r],l=o.findWrapping(t);if(l&&(!e||e.length>l.length)&&(e=l,n=o,!l.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(let i=0;i<e.length;i++)this.enterInner(e[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let n=e.activeMarks;for(let i=0;i<t.marks.length;i++)e.type&&!e.type.allowsMarkType(t.marks[i].type)||(n=t.marks[i].addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,n){let r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r}enterInner(t,e=null,n=!1,r){this.closeExtra();let o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t);let l=ut(t,r,o.options);4&o.options&&0==o.content.length&&(l|=4),this.nodes.push(new pt(t,e,o.activeMarks,o.pendingMarks,n,null,l)),this.open++}closeExtra(t=!1){let i=this.nodes.length-1;if(i>this.open){for(;i>this.open;i--)this.nodes[i-1].content.push(this.nodes[i].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let i=this.open;i>=0;i--)if(this.nodes[i]==t)return this.open=i,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let i=this.open;i>=0;i--){let content=this.nodes[i].content;for(let e=content.length-1;e>=0;e--)t+=content[e].nodeSize;i&&t++}return t}findAtPoint(t,e){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==e&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)&&(this.find[i].pos=this.currentPos)}findAround(t,content,e){if(t!=content&&this.find)for(let i=0;i<this.find.length;i++)if(null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)){content.compareDocumentPosition(this.find[i].node)&(e?2:4)&&(this.find[i].pos=this.currentPos)}}findInText(t){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&(this.find[i].pos=this.currentPos-(t.nodeValue.length-this.find[i].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),option=this.options.context,n=!(this.isOpen||option&&option.parent.type!=this.nodes[0].type),r=-(option?option.depth+1:0)+(n?0:1),o=(i,t)=>{for(;i>=0;i--){let l=e[i];if(""==l){if(i==e.length-1||0==i)continue;for(;t>=r;t--)if(o(i-1,t))return!0;return!1}{let e=t>0||0==t&&n?this.nodes[t].type:option&&t>=r?option.node(t-r).type:null;if(!e||e.name!=l&&-1==e.groups.indexOf(l))return!1;t--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(mark){let t=function(mark,t){for(let i=0;i<t.length;i++)if(mark.eq(t[i]))return t[i]}(mark,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=mark.addToSet(this.top.pendingMarks)}removePendingMark(mark,t){for(let e=this.open;e>=0;e--){let n=this.nodes[e];if(n.pendingMarks.lastIndexOf(mark)>-1)n.pendingMarks=mark.removeFromSet(n.pendingMarks);else{n.activeMarks=mark.removeFromSet(n.activeMarks);let t=n.popFromStashMark(mark);t&&n.type&&n.type.allowsMarkType(t.type)&&(n.activeMarks=t.addToSet(n.activeMarks))}if(n==t)break}}}function ft(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function mt(t){let e={};for(let n in t)e[n]=t[n];return e}function gt(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let l=[],c=t=>{l.push(t);for(let i=0;i<t.edgeCount;i++){let{type:n,next:r}=t.edge(i);if(n==e)return!0;if(l.indexOf(r)<0&&c(r))return!0}};if(c(o.contentMatch))return!0}}class vt{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=bt(e).createDocumentFragment());let r=n,o=[];return t.forEach((t=>{if(o.length||t.marks.length){let n=0,l=0;for(;n<o.length&&l<t.marks.length;){let e=t.marks[l];if(this.marks[e.type.name]){if(!e.eq(o[n][0])||!1===e.type.spec.spanning)break;n++,l++}else l++}for(;n<o.length;)r=o.pop()[1];for(;l<t.marks.length;){let n=t.marks[l++],c=this.serializeMark(n,t.isInline,e);c&&(o.push([n,r]),r.appendChild(c.dom),r=c.contentDOM||c.dom)}}r.appendChild(this.serializeNodeInner(t,e))})),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=vt.renderSpec(bt(e),this.nodes[t.type.name](t));if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let i=t.marks.length-1;i>=0;i--){let r=this.serializeMark(t.marks[i],t.isInline,e);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n}serializeMark(mark,t,e={}){let n=this.marks[mark.type.name];return n&&vt.renderSpec(bt(e),n(mark,t))}static renderSpec(t,e,n=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let r,o=e[0],l=o.indexOf(" ");l>0&&(n=o.slice(0,l),o=o.slice(l+1));let c=n?t.createElementNS(n,o):t.createElement(o),d=e[1],h=1;if(d&&"object"==typeof d&&null==d.nodeType&&!Array.isArray(d)){h=2;for(let t in d)if(null!=d[t]){let e=t.indexOf(" ");e>0?c.setAttributeNS(t.slice(0,e),t.slice(e+1),d[t]):c.setAttribute(t,d[t])}}for(let i=h;i<e.length;i++){let o=e[i];if(0===o){if(i<e.length-1||i>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}{let{dom:e,contentDOM:l}=vt.renderSpec(t,o,n);if(c.appendChild(e),l){if(r)throw new RangeError("Multiple content holes");r=l}}}return{dom:c,contentDOM:r}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new vt(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=yt(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return yt(t.marks)}}function yt(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function bt(t){return t.document||window.document}},962:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return G})),n.d(e,"e",(function(){return j})),n.d(e,"f",(function(){return D})),n.d(e,"g",(function(){return N})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return I})),n.d(e,"j",(function(){return T})),n.d(e,"k",(function(){return $}));var r=n(959);const o=Math.pow(2,16);function l(t){return 65535&t}class c{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class d{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&d.empty)return d.empty}recover(t){let e=0,n=l(t);if(!this.inverted)for(let i=0;i<n;i++)e+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/o}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,l=this.inverted?2:1,d=this.inverted?1:2;for(let i=0;i<this.ranges.length;i+=3){let h=this.ranges[i]-(this.inverted?r:0);if(h>t)break;let f=this.ranges[i+l],m=this.ranges[i+d],v=h+f;if(t<=v){let l=h+r+((f?t==h?-1:t==v?1:e:e)<0?0:m);if(n)return l;let d=t==(e<0?h:v)?null:i/3+(t-h)*o,del=t==h?2:t==v?1:4;return(e<0?t!=h:t!=v)&&(del|=8),new c(l,del,d)}r+=m-f}return n?t+r:new c(t+r,0,null)}touches(t,e){let n=0,r=l(e),o=this.inverted?2:1,c=this.inverted?1:2;for(let i=0;i<this.ranges.length;i+=3){let e=this.ranges[i]-(this.inverted?n:0);if(e>t)break;let l=this.ranges[i+o];if(t<=e+l&&i==3*r)return!0;n+=this.ranges[i+c]-l}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,r=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?r:0),c=o+(this.inverted?0:r),d=this.ranges[i+e],h=this.ranges[i+n];t(l,l+d,c,c+h),r+=h-d}}invert(){return new d(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?d.empty:new d(t<0?[0,-t,0]:[0,0,t])}}d.empty=new d([]);class h{constructor(t=[],e,n=0,r=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=r}slice(t=0,e=this.maps.length){return new h(this.maps,this.mirror,t,e)}copy(){return new h(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(map,t){this.to=this.maps.push(map),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(t){for(let i=0,e=this.maps.length;i<t.maps.length;i++){let n=t.getMirror(i);this.appendMap(t.maps[i],null!=n&&n<i?e+n:void 0)}}getMirror(t){if(this.mirror)for(let i=0;i<this.mirror.length;i++)if(this.mirror[i]==t)return this.mirror[i+(i%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let i=t.maps.length-1,e=this.maps.length+t.maps.length;i>=0;i--){let n=t.getMirror(i);this.appendMap(t.maps[i].invert(),null!=n&&n>i?e-n-1:void 0)}}invert(){let t=new h;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let i=this.from;i<this.to;i++)t=this.maps[i].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let i=this.from;i<this.to;i++){let n=this.maps[i].mapResult(t,e);if(null!=n.recover){let e=this.getMirror(i);if(null!=e&&e>i&&e<this.to){i=e,t=this.maps[e].recover(n.recover);continue}}r|=n.delInfo,t=n.pos}return n?t:new c(t,r,null)}}const f=Object.create(null);class m{getMap(){return d.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=f[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in f)throw new RangeError("Duplicate use of step JSON ID "+t);return f[t]=e,e.prototype.jsonID=t,e}}class v{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new v(t,null)}static fail(t){return new v(null,t)}static fromReplace(t,e,n,o){try{return v.ok(t.replace(e,n,o))}catch(t){if(t instanceof r.h)return v.fail(t.message);throw t}}}function y(t,e,n){let o=[];for(let i=0;i<t.childCount;i++){let r=t.child(i);r.content.size&&(r=r.copy(y(r.content,e,r))),r.isInline&&(r=e(r,n,i)),o.push(r)}return r.c.fromArray(o)}class x extends m{constructor(t,e,mark){super(),this.from=t,this.to=e,this.mark=mark}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),o=n.node(n.sharedDepth(this.to)),l=new r.j(y(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),o),e.openStart,e.openEnd);return v.fromReplace(t,this.from,this.to,l)}invert(){return new w(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new x(e.pos,n.pos,this.mark)}merge(t){return t instanceof x&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new x(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new x(e.from,e.to,t.markFromJSON(e.mark))}}m.jsonID("addMark",x);class w extends m{constructor(t,e,mark){super(),this.from=t,this.to=e,this.mark=mark}apply(t){let e=t.slice(this.from,this.to),n=new r.j(y(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return v.fromReplace(t,this.from,this.to,n)}invert(){return new x(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new w(e.pos,n.pos,this.mark)}merge(t){return t instanceof w&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new w(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new w(e.from,e.to,t.markFromJSON(e.mark))}}m.jsonID("removeMark",w);class k extends m{constructor(t,mark){super(),this.pos=t,this.mark=mark}apply(t){let e=t.nodeAt(this.pos);if(!e)return v.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return v.fromReplace(t,this.pos,this.pos+1,new r.j(r.c.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let i=0;i<e.marks.length;i++)if(!e.marks[i].isInSet(t))return new k(this.pos,e.marks[i]);return new k(this.pos,this.mark)}}return new _(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new k(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new k(e.pos,t.markFromJSON(e.mark))}}m.jsonID("addNodeMark",k);class _ extends m{constructor(t,mark){super(),this.pos=t,this.mark=mark}apply(t){let e=t.nodeAt(this.pos);if(!e)return v.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return v.fromReplace(t,this.pos,this.pos+1,new r.j(r.c.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new k(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new _(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _(e.pos,t.markFromJSON(e.mark))}}m.jsonID("removeNodeMark",_);class O extends m{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&M(t,this.from,this.to)?v.fail("Structure replace would overwrite content"):v.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new d([this.from,this.to-this.from,this.slice.size])}invert(t){return new O(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new O(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof O)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?r.j.empty:new r.j(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new O(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?r.j.empty:new r.j(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new O(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new O(e.from,e.to,r.j.fromJSON(t,e.slice),!!e.structure)}}m.jsonID("replace",O);class S extends m{constructor(t,e,n,r,o,l,c=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=l,this.structure=c}apply(t){if(this.structure&&(M(t,this.from,this.gapFrom)||M(t,this.gapTo,this.to)))return v.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return v.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?v.fromReplace(t,this.from,this.to,n):v.fail("Content does not fit in gap")}getMap(){return new d([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new S(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||o>n.pos?null:new S(e.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new S(e.from,e.to,e.gapFrom,e.gapTo,r.j.fromJSON(t,e.slice),e.insert,!!e.structure)}}function M(t,e,n){let r=t.resolve(e),o=n-e,l=r.depth;for(;o>0&&l>0&&r.indexAfter(l)==r.node(l).childCount;)l--,o--;if(o>0){let t=r.node(l).maybeChild(r.indexAfter(l));for(;o>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,o--}}return!1}function C(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function T(t){let content=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let e=t.depth;;--e){let n=t.$from.node(e),r=t.$from.index(e),o=t.$to.indexAfter(e);if(e<t.depth&&n.canReplace(r,o,content))return e;if(0==e||n.type.spec.isolating||!C(n,r,o))break}return null}function E(t,e,n=null,r=t){let o=function(t,e){let{parent:n,startIndex:r,endIndex:o}=t,l=n.contentMatchAt(r).findWrapping(e);if(!l)return null;let c=l.length?l[0]:e;return n.canReplaceWith(r,o,c)?l:null}(t,e),l=o&&function(t,e){let{parent:n,startIndex:r,endIndex:o}=t,l=n.child(r),c=e.contentMatch.findWrapping(l.type);if(!c)return null;let d=(c.length?c[c.length-1]:e).contentMatch;for(let i=r;d&&i<o;i++)d=d.matchType(n.child(i).type);return d&&d.validEnd?c:null}(r,e);return l?o.map(P).concat({type:e,attrs:n}).concat(l.map(P)):null}function P(t){return{type:t,attrs:null}}function D(t,e,n=1,r){let o=t.resolve(e),base=o.depth-n,l=r&&r[r.length-1]||o.parent;if(base<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!l.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let t=o.depth-1,i=n-2;t>base;t--,i--){let e=o.node(t),n=o.index(t);if(e.type.spec.isolating)return!1;let l=e.content.cutByIndex(n,e.childCount),c=r&&r[i+1];c&&(l=l.replaceChild(0,c.type.create(c.attrs)));let d=r&&r[i]||e;if(!e.canReplace(n+1,e.childCount)||!d.type.validContent(l))return!1}let c=o.indexAfter(base),d=r&&r[0];return o.node(base).canReplaceWith(c,c,d?d.type:o.node(base+1).type)}function j(t,e){let n=t.resolve(e),r=n.index();return A(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function A(a,b){return!(!a||!b||a.isLeaf||!a.canAppend(b))}function I(t,e,n=-1){let r=t.resolve(e);for(let t=r.depth;;t--){let o,l,c=r.index(t);if(t==r.depth?(o=r.nodeBefore,l=r.nodeAfter):n>0?(o=r.node(t+1),c++,l=r.node(t).maybeChild(c)):(o=r.node(t).maybeChild(c-1),l=r.node(t+1)),o&&!o.isTextblock&&A(o,l)&&r.node(t).canReplace(c,c+1))return e;if(0==t)break;e=n<0?r.before(t):r.after(t)}}function N(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let content=n.content;for(let i=0;i<n.openStart;i++)content=content.firstChild.content;for(let t=1;t<=(0==n.openStart&&n.size?2:1);t++)for(let e=r.depth;e>=0;e--){let n=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,o=r.index(e)+(n>0?1:0),l=r.node(e),c=!1;if(1==t)c=l.canReplace(o,o,content);else{let t=l.contentMatchAt(o).findWrapping(content.firstChild.type);c=t&&l.canReplaceWith(o,o,t[0])}if(c)return 0==n?r.pos:n<0?r.before(e+1):r.after(e+1)}return null}function $(t,e,n=e,o=r.j.empty){if(e==n&&!o.size)return null;let l=t.resolve(e),c=t.resolve(n);return R(l,c,o)?new O(e,n,o):new B(l,c,o).fit()}function R(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}m.jsonID("replaceAround",S);class B{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=r.c.empty;for(let i=0;i<=t.depth;i++){let e=t.node(i);this.frontier.push({type:e.type,match:e.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=r.c.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(t<0?this.$to:n.doc.resolve(t));if(!o)return null;let content=this.placed,l=n.depth,c=o.depth;for(;l&&c&&1==content.childCount;)content=content.firstChild.content,l--,c--;let d=new r.j(content,l,c);return t>-1?new S(n.pos,t,this.$to.pos,this.$to.end(),d,e):d.size||n.pos!=this.$to.pos?new O(n.pos,o.pos,d):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<t;n++){let o=e.firstChild;if(e.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){t=n;break}e=o.content}for(let e=1;e<=2;e++)for(let n=1==e?t:this.unplaced.openStart;n>=0;n--){let t,o=null;n?(o=H(this.unplaced.content,n-1).firstChild,t=o.content):t=this.unplaced.content;let l=t.firstChild;for(let t=this.depth;t>=0;t--){let c,{type:d,match:h}=this.frontier[t],f=null;if(1==e&&(l?h.matchType(l.type)||(f=h.fillBefore(r.c.from(l),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:t,parent:o,inject:f};if(2==e&&l&&(c=h.findWrapping(l.type)))return{sliceDepth:n,frontierDepth:t,parent:o,wrap:c};if(o&&h.matchType(o.type))break}}}openMore(){let{content:content,openStart:t,openEnd:e}=this.unplaced,n=H(content,t);return!(!n.childCount||n.firstChild.isLeaf)&&(this.unplaced=new r.j(content,t+1,Math.max(e,n.size+t>=content.size-e?t+1:0)),!0)}dropNode(){let{content:content,openStart:t,openEnd:e}=this.unplaced,n=H(content,t);if(n.childCount<=1&&t>0){let o=content.size-t<=t+n.size;this.unplaced=new r.j(L(content,t-1,1),t-1,o?t-1:e)}else this.unplaced=new r.j(L(content,t,1),t,e)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:o,wrap:l}){for(;this.depth>e;)this.closeFrontierNode();if(l)for(let i=0;i<l.length;i++)this.openFrontierNode(l[i]);let c=this.unplaced,d=n?n.content:c.content,h=c.openStart-t,f=0,m=[],{match:v,type:y}=this.frontier[e];if(o){for(let i=0;i<o.childCount;i++)m.push(o.child(i));v=v.matchFragment(o)}let x=d.size+t-(c.content.size-c.openEnd);for(;f<d.childCount;){let t=d.child(f),e=v.matchType(t.type);if(!e)break;f++,(f>1||0==h||t.content.size)&&(v=e,m.push(F(t.mark(y.allowedMarks(t.marks)),1==f?h:0,f==d.childCount?x:-1)))}let w=f==d.childCount;w||(x=-1),this.placed=z(this.placed,e,r.c.from(m)),this.frontier[e].match=v,w&&x<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let i=0,t=d;i<x;i++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=w?0==t?r.j.empty:new r.j(L(c.content,t-1,1),t-1,x<0?c.openEnd:t-1):new r.j(L(c.content,t,f),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!V(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){t:for(let i=Math.min(this.depth,t.depth);i>=0;i--){let{match:e,type:n}=this.frontier[i],r=i<t.depth&&t.end(i+1)==t.pos+(t.depth-(i+1)),o=V(t,i,n,e,r);if(o){for(let e=i-1;e>=0;e--){let{match:n,type:r}=this.frontier[e],o=V(t,e,r,n,!0);if(!o||o.childCount)continue t}return{depth:i,fit:o,move:r?t.doc.resolve(t.after(i+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=z(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),r=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,r)}return t}openFrontierNode(t,e=null,content){let n=this.frontier[this.depth];n.match=n.match.matchType(t),this.placed=z(this.placed,this.depth,r.c.from(t.create(e,content))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(r.c.empty,!0);t.childCount&&(this.placed=z(this.placed,this.frontier.length,t))}}function L(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(L(t.firstChild.content,e-1,n)))}function z(t,e,content){return 0==e?t.append(content):t.replaceChild(t.childCount-1,t.lastChild.copy(z(t.lastChild.content,e-1,content)))}function H(t,e){for(let i=0;i<e;i++)t=t.firstChild.content;return t}function F(t,e,n){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,F(o.firstChild,e-1,1==o.childCount?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(r.c.empty,!0)))),t.copy(o)}function V(t,e,n,r,o){let l=t.node(e),c=o?t.indexAfter(e):t.index(e);if(c==l.childCount&&!n.compatibleContent(l.type))return null;let d=r.fillBefore(l.content,!0,c);return d&&!function(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}(n,l.content,c)?d:null}function W(t,e,n,o,l){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(W(r.content,e+1,n,o,r)))}if(e>o){let e=l.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(r.c.empty,!0))}return t}function Y(t,e){let n=[];for(let r=Math.min(t.depth,e.depth);r>=0;r--){let o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(o==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==o-1)&&n.push(r)}return n}class U extends m{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return v.fail("No node at attribute step's position");let n=Object.create(null);for(let t in e.attrs)n[t]=e.attrs[t];n[this.attr]=this.value;let o=e.type.create(n,null,e.marks);return v.fromReplace(t,this.pos,this.pos+1,new r.j(r.c.from(o),0,e.isLeaf?0:1))}getMap(){return d.empty}invert(t){return new U(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new U(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new U(e.pos,e.attr,e.value)}}m.jsonID("attr",U);class K extends m{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let n in t.attrs)e[n]=t.attrs[n];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return v.ok(n)}getMap(){return d.empty}invert(t){return new K(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new K(e.attr,e.value)}}m.jsonID("docAttr",K);let J=class extends Error{};J=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},(J.prototype=Object.create(Error.prototype)).constructor=J,J.prototype.name="TransformError";class G{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new h}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new J(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=r.j.empty){let o=$(this.doc,t,e,n);return o&&this.step(o),this}replaceWith(t,e,content){return this.replace(t,e,new r.j(r.c.from(content),0,0))}delete(t,e){return this.replace(t,e,r.j.empty)}insert(t,content){return this.replaceWith(t,t,content)}replaceRange(t,e,n){return function(tr,t,e,n){if(!n.size)return tr.deleteRange(t,e);let o=tr.doc.resolve(t),l=tr.doc.resolve(e);if(R(o,l,n))return tr.step(new O(t,e,n));let c=Y(o,tr.doc.resolve(e));0==c[c.length-1]&&c.pop();let d=-(o.depth+1);c.unshift(d);for(let t=o.depth,e=o.pos-1;t>0;t--,e--){let n=o.node(t).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;c.indexOf(t)>-1?d=t:o.before(t)==e&&c.splice(1,0,-t)}let h=c.indexOf(d),f=[],m=n.openStart;for(let content=n.content,i=0;;i++){let t=content.firstChild;if(f.push(t),i==n.openStart)break;content=t.content}for(let t=m-1;t>=0;t--){let e=f[t],n=(v=e.type).spec.defining||v.spec.definingForContent;if(n&&!e.sameMarkup(o.node(Math.abs(d)-1)))m=t;else if(n||!e.type.isTextblock)break}var v;for(let t=n.openStart;t>=0;t--){let d=(t+m+1)%(n.openStart+1),v=f[d];if(v)for(let i=0;i<c.length;i++){let t=c[(i+h)%c.length],f=!0;t<0&&(f=!1,t=-t);let m=o.node(t-1),y=o.index(t-1);if(m.canReplaceWith(y,y,v.type,v.marks))return tr.replace(o.before(t),f?l.after(t):e,new r.j(W(n.content,0,n.openStart,d),d,n.openEnd))}}let y=tr.steps.length;for(let i=c.length-1;i>=0&&(tr.replace(t,e,n),!(tr.steps.length>y));i--){let n=c[i];n<0||(t=o.before(n),e=l.after(n))}}(this,t,e,n),this}replaceRangeWith(t,e,n){return function(tr,t,e,n){if(!n.isInline&&t==e&&tr.doc.resolve(t).parent.content.size){let r=function(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let t=r.depth-1;t>=0;t--){let e=r.index(t);if(r.node(t).canReplaceWith(e,e,n))return r.before(t+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let t=r.depth-1;t>=0;t--){let e=r.indexAfter(t);if(r.node(t).canReplaceWith(e,e,n))return r.after(t+1);if(e<r.node(t).childCount)return null}return null}(tr.doc,t,n.type);null!=r&&(t=e=r)}tr.replaceRange(t,e,new r.j(r.c.from(n),0,0))}(this,t,e,n),this}deleteRange(t,e){return function(tr,t,e){let n=tr.doc.resolve(t),r=tr.doc.resolve(e),o=Y(n,r);for(let i=0;i<o.length;i++){let t=o[i],e=i==o.length-1;if(e&&0==t||n.node(t).type.contentMatch.validEnd)return tr.delete(n.start(t),r.end(t));if(t>0&&(e||n.node(t-1).canReplace(n.index(t-1),r.indexAfter(t-1))))return tr.delete(n.before(t),r.after(t))}for(let o=1;o<=n.depth&&o<=r.depth;o++)if(t-n.start(o)==n.depth-o&&e>n.end(o)&&r.end(o)-e!=r.depth-o)return tr.delete(n.before(o),e);tr.delete(t,e)}(this,t,e),this}lift(t,e){return function(tr,t,e){let{$from:n,$to:o,depth:l}=t,c=n.before(l+1),d=o.after(l+1),h=c,f=d,m=r.c.empty,v=0;for(let t=l,o=!1;t>e;t--)o||n.index(t)>0?(o=!0,m=r.c.from(n.node(t).copy(m)),v++):h--;let y=r.c.empty,x=0;for(let t=l,n=!1;t>e;t--)n||o.after(t+1)<o.end(t)?(n=!0,y=r.c.from(o.node(t).copy(y)),x++):f++;tr.step(new S(h,f,c,d,new r.j(m.append(y),v,x),m.size-v,!0))}(this,t,e),this}join(t,e=1){return function(tr,t,e){let n=new O(t-e,t+e,r.j.empty,!0);tr.step(n)}(this,t,e),this}wrap(t,e){return function(tr,t,e){let content=r.c.empty;for(let i=e.length-1;i>=0;i--){if(content.size){let t=e[i].type.contentMatch.matchFragment(content);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}content=r.c.from(e[i].type.create(e[i].attrs,content))}let n=t.start,o=t.end;tr.step(new S(n,o,n,o,new r.j(content,0,0),e.length,!0))}(this,t,e),this}setBlockType(t,e=t,n,o=null){return function(tr,t,e,n,o){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=tr.steps.length;tr.doc.nodesBetween(t,e,((t,e)=>{if(t.isTextblock&&!t.hasMarkup(n,o)&&function(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(tr.doc,tr.mapping.slice(l).map(e),n)){tr.clearIncompatible(tr.mapping.slice(l).map(e,1),n);let c=tr.mapping.slice(l),d=c.map(e,1),h=c.map(e+t.nodeSize,1);return tr.step(new S(d,h,d+1,h-1,new r.j(r.c.from(n.create(o,null,t.marks)),0,0),1,!0)),!1}}))}(this,t,e,n,o),this}setNodeMarkup(t,e,n=null,o){return function(tr,t,e,n,o){let l=tr.doc.nodeAt(t);if(!l)throw new RangeError("No node at given position");e||(e=l.type);let c=e.create(n,null,o||l.marks);if(l.isLeaf)return tr.replaceWith(t,t+l.nodeSize,c);if(!e.validContent(l.content))throw new RangeError("Invalid content for node type "+e.name);tr.step(new S(t,t+l.nodeSize,t+1,t+l.nodeSize-1,new r.j(r.c.from(c),0,0),1,!0))}(this,t,e,n,o),this}setNodeAttribute(t,e,n){return this.step(new U(t,e,n)),this}setDocAttribute(t,e){return this.step(new K(t,e)),this}addNodeMark(t,mark){return this.step(new k(t,mark)),this}removeNodeMark(t,mark){if(!(mark instanceof r.d)){let e=this.doc.nodeAt(t);if(!e)throw new RangeError("No node at position "+t);if(!(mark=mark.isInSet(e.marks)))return this}return this.step(new _(t,mark)),this}split(t,e=1,n){return function(tr,t,e=1,n){let o=tr.doc.resolve(t),l=r.c.empty,c=r.c.empty;for(let t=o.depth,d=o.depth-e,i=e-1;t>d;t--,i--){l=r.c.from(o.node(t).copy(l));let e=n&&n[i];c=r.c.from(e?e.type.create(e.attrs,c):o.node(t).copy(c))}tr.step(new O(t,t,new r.j(l.append(c),e,e),!0))}(this,t,e,n),this}addMark(t,e,mark){return function(tr,t,e,mark){let n,r,o=[],l=[];tr.doc.nodesBetween(t,e,((c,d,h)=>{if(!c.isInline)return;let f=c.marks;if(!mark.isInSet(f)&&h.type.allowsMarkType(mark.type)){let h=Math.max(d,t),m=Math.min(d+c.nodeSize,e),v=mark.addToSet(f);for(let i=0;i<f.length;i++)f[i].isInSet(v)||(n&&n.to==h&&n.mark.eq(f[i])?n.to=m:o.push(n=new w(h,m,f[i])));r&&r.to==h?r.to=m:l.push(r=new x(h,m,mark))}})),o.forEach((s=>tr.step(s))),l.forEach((s=>tr.step(s)))}(this,t,e,mark),this}removeMark(t,e,mark){return function(tr,t,e,mark){let n=[],o=0;tr.doc.nodesBetween(t,e,((l,c)=>{if(!l.isInline)return;o++;let d=null;if(mark instanceof r.e){let t,e=l.marks;for(;t=mark.isInSet(e);)(d||(d=[])).push(t),e=t.removeFromSet(e)}else mark?mark.isInSet(l.marks)&&(d=[mark]):d=l.marks;if(d&&d.length){let r=Math.min(c+l.nodeSize,e);for(let i=0;i<d.length;i++){let e,style=d[i];for(let t=0;t<n.length;t++){let r=n[t];r.step==o-1&&style.eq(n[t].style)&&(e=r)}e?(e.to=r,e.step=o):n.push({style:style,from:Math.max(c,t),to:r,step:o})}}})),n.forEach((t=>tr.step(new w(t.from,t.to,t.style))))}(this,t,e,mark),this}clearIncompatible(t,e,n){return function(tr,t,e,n=e.contentMatch){let o=tr.doc.nodeAt(t),l=[],c=t+1;for(let i=0;i<o.childCount;i++){let t=o.child(i),d=c+t.nodeSize,h=n.matchType(t.type);if(h){n=h;for(let n=0;n<t.marks.length;n++)e.allowsMarkType(t.marks[n].type)||tr.step(new w(c,d,t.marks[n]));if(t.isText&&!e.spec.code){let n,o,d=/\r?\n|\r/g;for(;n=d.exec(t.text);)o||(o=new r.j(r.c.from(e.schema.text(" ",e.allowedMarks(t.marks))),0,0)),l.push(new O(c+n.index,c+n.index+n[0].length,o))}}else l.push(new O(c,d,r.j.empty));c=d}if(!n.validEnd){let t=n.fillBefore(r.c.empty,!0);tr.replace(c,c,new r.j(t,0,0))}for(let i=l.length-1;i>=0;i--)tr.step(l[i])}(this,t,e,n),this}}},963:function(t,e,n){var content=n(964);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("32d85da6",content,!0,{sourceMap:!1})},964:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.v-autocomplete.v-input>.v-input__control>.v-input__slot{cursor:text}.v-autocomplete input{align-self:center}.v-autocomplete.v-select.v-input--is-focused input{min-width:64px}.v-autocomplete:not(.v-input--is-focused).v-select--chips input{max-height:0;padding:0}.v-autocomplete--is-selecting-index input{opacity:0}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined) .v-select__slot>input{margin-top:24px}.v-autocomplete.v-text-field--enclosed:not(.v-text-field--solo):not(.v-text-field--single-line):not(.v-text-field--outlined).v-input--dense .v-select__slot>input{margin-top:20px}.v-autocomplete__content.v-menu__content,.v-autocomplete__content.v-menu__content .v-card{border-radius:0}',""]),v.locals={},t.exports=v},966:function(t,e,n){var content=n(967);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("2376a393",content,!0,{sourceMap:!1})},967:function(t,e,n){var r=n(25),o=n(29),l=n(33),c=n(34),d=n(35),h=n(36),f=n(37),m=n(38),v=r((function(i){return i[1]})),y=o(l),x=o(c),w=o(d),k=o(h),_=o(f),O=o(m);v.push([t.i,'.focus-point{position:relative}.focus-point-pin{position:absolute}.focus-point *{pointer-events:none;-webkit-user-select:none;user-select:none}@font-face{font-family:"Roboto";font-style:normal;font-weight:100;src:url('+y+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:300;src:url('+x+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;src:url('+w+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;src:url('+k+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;src:url('+_+') format("truetype")}@font-face{font-family:"Roboto";font-style:normal;font-weight:900;src:url('+O+') format("truetype")}.v-card--link:before{background:none}.backdrop{backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px)}.nooutline{outline:0}.inner-icon-margin-dense{margin-top:-2px!important}.inner-icon-margin{margin-top:-6px!important}.comment .mention{color:#51608c}.comment p{margin-bottom:4px;padding-bottom:0}.ProseMirror{font-size:17px;padding:8px 8px 0}.ProseMirror p{margin-bottom:16px}.ProseMirror ol,.ProseMirror ul{margin-bottom:12px}.ProseMirror li>p{margin-bottom:4px}.ProseMirror h1,.ProseMirror h2,.ProseMirror h3,.ProseMirror h4,.ProseMirror h5,.ProseMirror h6{margin-bottom:14px}.ProseMirror img{display:block;height:auto;margin-bottom:16px;max-width:50%}.ProseMirror blockquote{border-left:5px solid #ccc;font-size:20px;font-style:italic;line-height:22px;margin-bottom:16px;margin-left:2px;padding-left:10px}.ProseMirror:focus{outline:none}[v-cloak]{display:none}.bottom-sheet-transition-enter,.bottom-sheet-transition-leave-to{transform:translateY(100%)}.v-bottom-sheet.v-dialog{align-self:flex-end;border-radius:0;flex:0 1 auto;margin:0;overflow:visible}.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:70%}@media only screen and (max-width:599.98px){.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:none}}',""]),v.locals={},t.exports=v},968:function(t,e,n){"use strict";var r=n(345),o=n(12),l=n(316),c=n(900),d={props:{disabled:{type:Boolean,default:!1}}},h=n(42),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e(o.a,{staticClass:"pb-5 px-5"},[e(r.a,{attrs:{text:"",small:""},nativeOn:{click:function(e){return t.$emit("close")}}},[e(l.a,{attrs:{left:""}},[t._v("\n      icon icon-close\n    ")]),t._v(" "+t._s(t.$vuetify.lang.t("$vuetify.close"))+"\n  ")],1),t._v(" "),e(c.a),t._v(" "),e(r.a,{attrs:{color:"success",small:"",disabled:t.disabled,"data-cy":"modalUseCloseFooterButton"},on:{click:function(e){return t.$emit("use")}}},[e(l.a,{attrs:{left:""}},[t._v("\n      icon icon-check-full\n    ")]),t._v("\n    "+t._s(t.$vuetify.lang.t("$vuetify.use"))+"\n  ")],1)],1)}),[],!1,null,null,null);e.a=component.exports},972:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isSymbol=e.isOneOf=e.isInteger=e.isInstanceOf=e.vuePropValidator=void 0;const o=r(n(3));e.vuePropValidator=function(t,...e){const n=t?[...e,t]:e;if(0!==n.length)return t=>{for(const e of n){const n=e(t);if(n)return"object"==typeof o.default&&"util"in o.default?o.default.util.warn(`${n} (received: '${String(t)}')`):console.warn(`${n} (received: '${String(t)}')`),!1}return!0}};var l=n(1113);Object.defineProperty(e,"isInstanceOf",{enumerable:!0,get:function(){return l.isInstanceOf}});var c=n(1114);Object.defineProperty(e,"isInteger",{enumerable:!0,get:function(){return c.isInteger}});var d=n(1115);Object.defineProperty(e,"isOneOf",{enumerable:!0,get:function(){return d.isOneOf}});var h=n(1116);Object.defineProperty(e,"isSymbol",{enumerable:!0,get:function(){return h.isSymbol}})},982:function(t,e,n){"use strict";var r=n(345),o=n(316),l=(n(315),n(9)),c=(n(58),n(167),n(45),{props:{id:[String,Number],type:String,inactive:{type:String,default:"grey"},fab:{type:Boolean,default:!0},small:{type:Boolean,default:!1},block:{type:Boolean,default:!1}},data:function(){return{isLoading:!1}},computed:{pinIndex:function(){var t=this;return this.$store.state.me.pins.findIndex((function(e){return e.entity_id==t.id&&e.entity_type==t.type}))}},methods:{togglePin:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoading=!0,-1!=(n=t.pinIndex)){e.next=7;break}return e.next=5,t.savePin();case 5:e.next=9;break;case 7:return e.next=9,t.removePin(n);case 9:t.isLoading=!1;case 10:case"end":return e.stop()}}),e)})))()},savePin:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("me/pin",{id:t.id,type:t.type});case 2:return t.$store.dispatch("snackbar/success","Eintrag wurde gepinnt."),e.next=5,t.$store.dispatch("me/fetch");case 5:case"end":return e.stop()}}),e)})))()},removePin:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("me/removePin",{index:t,id:e.$store.state.me.pins[t].id});case 2:return e.$store.dispatch("snackbar/success","Pin wurde entfernt"),n.next=5,e.$store.dispatch("me/fetch");case 5:case"end":return n.stop()}}),n)})))()}}}),d=n(42),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e(r.a,{attrs:{color:-1==t.pinIndex?t.inactive:"skyblue",dark:"",absolute:t.fab,top:t.fab,right:t.fab,fab:t.fab,loading:t.isLoading,icon:!t.fab&&!t.block,small:t.small,block:t.block},on:{click:function(e){return e.preventDefault(),t.togglePin.apply(null,arguments)}}},[e(o.a,{attrs:{small:t.small,left:t.block}},[t._v("\n    icon icon-pin\n  ")]),t._v(" "),t.block?e("span",[t._v("Anpinnen")]):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},986:function(t,e,n){"use strict";var r=n(387),o=n(77),l=n(7),c=n(16);e.a=Object(l.a)(r.a,o.a).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(element=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(element)&&1===element.length&&(element=element[0]),element&&!Array.isArray(element)&&element.tag?(this.disabled||(element.data=element.data||{},this._g(element.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),element):(Object(c.c)("v-hover should only contain a single element",this),element)):(Object(c.c)("v-hover is missing a default scopedSlot or bound value",this),null);var element}})},987:function(t,e,n){var r;"undefined"!=typeof self&&self,r=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){"use strict";var r=n("2d00"),o=n("5ca1"),l=n("2aba"),c=n("32e9"),d=n("84f2"),h=n("41a0"),f=n("7f20"),m=n("38fd"),v=n("2b4c")("iterator"),y=!([].keys&&"next"in[].keys()),x="keys",w="values",k=function(){return this};t.exports=function(t,e,n,_,O,S,M){h(n,e,_);var C,T,E,P=function(t){if(!y&&t in I)return I[t];switch(t){case x:case w:return function(){return new n(this,t)}}return function(){return new n(this,t)}},D=e+" Iterator",j=O==w,A=!1,I=t.prototype,N=I[v]||I["@@iterator"]||O&&I[O],$=N||P(O),R=O?j?P("entries"):$:void 0,B="Array"==e&&I.entries||N;if(B&&(E=m(B.call(new t)))!==Object.prototype&&E.next&&(f(E,D,!0),r||"function"==typeof E[v]||c(E,v,k)),j&&N&&N.name!==w&&(A=!0,$=function(){return N.call(this)}),r&&!M||!y&&!A&&I[v]||c(I,v,$),d[e]=$,d[D]=k,O)if(C={values:j?$:P(w),keys:S?$:P(x),entries:R},M)for(T in C)T in I||l(I,T,C[T]);else o(o.P+o.F*(y||A),e,C);return C}},"02f4":function(t,e,n){var r=n("4588"),o=n("be13");t.exports=function(t){return function(e,n){var a,b,s=String(o(e)),i=r(n),l=s.length;return i<0||i>=l?t?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?t?s.charAt(i):a:t?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var r=n("ce10"),o=n("e11e");t.exports=Object.keys||function(t){return r(t,o)}},1495:function(t,e,n){var r=n("86cc"),o=n("cb7c"),l=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){o(t);for(var n,c=l(e),d=c.length,i=0;d>i;)r.f(t,n=c[i++],e[n]);return t}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),o=n("32e9"),l=n("79e5"),c=n("be13"),d=n("2b4c"),h=n("520a"),f=d("species"),m=!l((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),v=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var y=d(t),x=!l((function(){var e={};return e[y]=function(){return 7},7!=""[t](e)})),w=x?!l((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[f]=function(){return n}),n[y](""),!e})):void 0;if(!x||!w||"replace"===t&&!m||"split"===t&&!v){var k=/./[y],_=n(c,y,""[t],(function(t,e,n,r,o){return e.exec===h?x&&!o?{done:!0,value:k.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),O=_[0],S=_[1];r(String.prototype,t,O),o(RegExp.prototype,y,2==e?function(t,e){return S.call(t,this,e)}:function(t){return S.call(t,this)})}}},"230e":function(t,e,n){var r=n("d3f4"),o=n("7726").document,l=r(o)&&r(o.createElement);t.exports=function(t){return l?o.createElement(t):{}}},"23c6":function(t,e,n){var r=n("2d95"),o=n("2b4c")("toStringTag"),l="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:l?r(e):"Object"==(c=r(e))&&"function"==typeof e.callee?"Arguments":c}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"2aba":function(t,e,n){var r=n("7726"),o=n("32e9"),l=n("69a8"),c=n("ca5a")("src"),d=n("fa5b"),h="toString",f=(""+d).split(h);n("8378").inspectSource=function(t){return d.call(t)},(t.exports=function(t,e,n,d){var h="function"==typeof n;h&&(l(n,"name")||o(n,"name",e)),t[e]!==n&&(h&&(l(n,c)||o(n,c,t[e]?""+t[e]:f.join(String(e)))),t===r?t[e]=n:d?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,h,(function(){return"function"==typeof this&&this[c]||d.call(this)}))},"2aeb":function(t,e,n){var r=n("cb7c"),o=n("1495"),l=n("e11e"),c=n("613b")("IE_PROTO"),d=function(){},h="prototype",f=function(){var t,iframe=n("230e")("iframe"),i=l.length;for(iframe.style.display="none",n("fab2").appendChild(iframe),iframe.src="javascript:",(t=iframe.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;i--;)delete f[h][l[i]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(d[h]=r(t),n=new d,d[h]=null,n[c]=t):n=f(),void 0===e?n:o(n,e)}},"2b4c":function(t,e,n){var r=n("5537")("wks"),o=n("ca5a"),l=n("7726").Symbol,c="function"==typeof l;(t.exports=function(t){return r[t]||(r[t]=c&&l[t]||(c?l:o)("Symbol."+t))}).store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),o=n("d2c8"),l="includes";r(r.P+r.F*n("5147")(l),"String",{includes:function(t){return!!~o(this,t,l).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(t,e,n){var r=n("86cc"),o=n("4630");t.exports=n("9e1e")?function(object,t,e){return r.f(object,t,o(1,e))}:function(object,t,e){return object[t]=e,object}},"38fd":function(t,e,n){var r=n("69a8"),o=n("4bf8"),l=n("613b")("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,l)?t[l]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),o=n("4630"),l=n("7f20"),c={};n("32e9")(c,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(c,{next:o(1,n)}),l(t,e+" Iterator")}},"456d":function(t,e,n){var r=n("4bf8"),o=n("0d58");n("5eda")("keys",(function(){return function(t){return o(r(t))}}))},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},"520a":function(t,e,n){"use strict";var r,o,l=n("0bfb"),c=RegExp.prototype.exec,d=String.prototype.replace,h=c,f="lastIndex",m=(r=/a/,o=/b*/g,c.call(r,"a"),c.call(o,"a"),0!==r[f]||0!==o[f]),v=void 0!==/()??/.exec("")[1];(m||v)&&(h=function(t){var e,n,r,i,o=this;return v&&(n=new RegExp("^"+o.source+"$(?!\\s)",l.call(o))),m&&(e=o[f]),r=c.call(o,t),m&&r&&(o[f]=o.global?r.index+r[0].length:e),v&&r&&r.length>1&&d.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=h},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var r=n("8378"),o=n("7726"),l="__core-js_shared__",c=o[l]||(o[l]={});(t.exports=function(t,e){return c[t]||(c[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,n){var r=n("7726"),o=n("8378"),l=n("32e9"),c=n("2aba"),d=n("9b43"),h="prototype",f=function(t,e,source){var n,m,v,y,x=t&f.F,w=t&f.G,k=t&f.S,_=t&f.P,O=t&f.B,S=w?r:k?r[e]||(r[e]={}):(r[e]||{})[h],M=w?o:o[e]||(o[e]={}),C=M[h]||(M[h]={});for(n in w&&(source=e),source)v=((m=!x&&S&&void 0!==S[n])?S:source)[n],y=O&&m?d(v,r):_&&"function"==typeof v?d(Function.call,v):v,S&&c(S,n,v,t&f.U),M[n]!=v&&l(M,n,y),_&&C[n]!=v&&(C[n]=v)};r.core=o,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},"5eda":function(t,e,n){var r=n("5ca1"),o=n("8378"),l=n("79e5");t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],c={};c[t]=e(n),r(r.S+r.F*l((function(){n(1)})),"Object",c)}},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var l=n.call(t,e);if("object"!=typeof l)throw new TypeError("RegExp exec method returned something other than an Object or null");return l}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"613b":function(t,e,n){var r=n("5537")("keys"),o=n("ca5a");t.exports=function(t){return r[t]||(r[t]=o(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6762:function(t,e,n){"use strict";var r=n("5ca1"),o=n("c366")(!0);r(r.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var r=n("626a"),o=n("be13");t.exports=function(t){return r(o(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},7333:function(t,e,n){"use strict";var r=n("0d58"),o=n("2621"),l=n("52a7"),c=n("4bf8"),d=n("626a"),h=Object.assign;t.exports=!h||n("79e5")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||Object.keys(h({},e)).join("")!=r}))?function(t,source){for(var e=c(t),n=arguments.length,h=1,f=o.f,m=l.f;n>h;)for(var v,y=d(arguments[h++]),x=f?r(y).concat(f(y)):r(y),w=x.length,k=0;w>k;)m.call(y,v=x[k++])&&(e[v]=y[v]);return e}:h},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),o=Math.max,l=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):l(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"7f20":function(t,e,n){var r=n("86cc").f,o=n("69a8"),l=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,l)&&r(t,l,{configurable:!0,value:e})}},8378:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),o=n("c69a"),l=n("6a99"),c=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=l(e,!0),r(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(a){return t.call(e,a)};case 2:return function(a,b){return t.call(e,a,b)};case 3:return function(a,b,n){return t.call(e,a,b,n)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),o=Array.prototype;null==o[r]&&n("32e9")(o,r,{}),t.exports=function(t){o[r][t]=!0}},"9def":function(t,e,n){var r=n("4588"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(e,n){e.exports=t},a481:function(t,e,n){"use strict";var r=n("cb7c"),o=n("4bf8"),l=n("9def"),c=n("4588"),d=n("0390"),h=n("5f1b"),f=Math.max,m=Math.min,v=Math.floor,y=/\$([$&`']|\d\d?|<[^>]*>)/g,x=/\$([$&`']|\d\d?)/g;n("214f")("replace",2,(function(t,e,n,w){return[function(r,o){var l=t(this),c=null==r?void 0:r[e];return void 0!==c?c.call(r,l,o):n.call(String(l),r,o)},function(t,e){var o=w(n,t,this,e);if(o.done)return o.value;var v=r(t),y=String(this),x="function"==typeof e;x||(e=String(e));var _=v.global;if(_){var O=v.unicode;v.lastIndex=0}for(var S=[];;){var M=h(v,y);if(null===M)break;if(S.push(M),!_)break;""===String(M[0])&&(v.lastIndex=d(y,l(v.lastIndex),O))}for(var C,T="",E=0,i=0;i<S.length;i++){M=S[i];for(var P=String(M[0]),D=f(m(c(M.index),y.length),0),j=[],A=1;A<M.length;A++)j.push(void 0===(C=M[A])?C:String(C));var I=M.groups;if(x){var N=[P].concat(j,D,y);void 0!==I&&N.push(I);var $=String(e.apply(void 0,N))}else $=k(P,y,D,j,I,e);D>=E&&(T+=y.slice(E,D)+$,E=D+P.length)}return T+y.slice(E)}];function k(t,e,r,l,c,d){var h=r+t.length,f=l.length,m=x;return void 0!==c&&(c=o(c),m=y),n.call(d,m,(function(n,o){var d;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(h);case"<":d=c[o.slice(1,-1)];break;default:var m=+o;if(0===m)return n;if(m>f){var y=v(m/10);return 0===y?n:y<=f?void 0===l[y-1]?o.charAt(1):l[y-1]+o.charAt(1):n}d=l[m-1]}return void 0===d?"":d}))}}))},aae3:function(t,e,n){var r=n("d3f4"),o=n("2d95"),l=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[l])?!!e:"RegExp"==o(t))}},ac6a:function(t,e,n){for(var r=n("cadf"),o=n("0d58"),l=n("2aba"),c=n("7726"),d=n("32e9"),h=n("84f2"),f=n("2b4c"),m=f("iterator"),v=f("toStringTag"),y=h.Array,x={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},w=o(x),i=0;i<w.length;i++){var k,_=w[i],O=x[_],S=c[_],M=S&&S.prototype;if(M&&(M[m]||d(M,m,y),M[v]||d(M,v,_),h[_]=y,O))for(k in r)M[k]||l(M,k,r[k],!0)}},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),o=n("9def"),l=n("77f1");t.exports=function(t){return function(e,n,c){var d,h=r(e),f=o(h.length),m=l(c,f);if(t&&n!=n){for(;f>m;)if((d=h[m++])!=d)return!0}else for(;f>m;m++)if((t||m in h)&&h[m]===n)return t||m||0;return!t&&-1}}},c649:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return h})),n("a481");var r,o,l="undefined"!=typeof window?window.console:t.console,c=/-(\w)/g,d=(r=function(t){return t.replace(c,(function(t,e){return e?e.toUpperCase():""}))},o=Object.create(null),function(t){return o[t]||(o[t]=r(t))});function h(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function f(t,e,n){var r=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,r)}}).call(this,n("c8ba"))},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(t,e){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(t){"object"==typeof window&&(g=window)}t.exports=g},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),o=n("d53b"),l=n("84f2"),c=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=c(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),l.Arguments=l.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,n){var r=n("69a8"),o=n("6821"),l=n("c366")(!1),c=n("613b")("IE_PROTO");t.exports=function(object,t){var e,n=o(object),i=0,d=[];for(e in n)e!=c&&r(n,e)&&d.push(e);for(;t.length>i;)r(n,e=t[i++])&&(~l(d,e)||d.push(e));return d}},d2c8:function(t,e,n){var r=n("aae3"),o=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},d3f4:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(t,e,n){"use strict";var r=n("5ca1"),o=n("9def"),l=n("d2c8"),c="startsWith",d=""[c];r(r.P+r.F*n("5147")(c),"String",{startsWith:function(t){var e=l(this,t,c),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return d?d.call(e,r,n):e.slice(n,n+r.length)===r}})},f6fd:function(t,e){!function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(e){var i,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(e.stack)||[!1])[1];for(i in n)if(n[i].src==t||"interactive"==n[i].readyState)return n[i];return null}}})}(document)},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,n){"use strict";var r;function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function l(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function c(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],n=!0,r=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done)&&(e.push(l.value),!i||e.length!==i);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return e}}(t,i)||l(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e),"undefined"!=typeof window&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1])),n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d"),n("6762"),n("2fdb");var h=n("a352"),f=n.n(h),m=n("c649");function v(t,e){var n=this;this.$nextTick((function(){return n.$emit(t.toLowerCase(),e)}))}function y(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),v.call(e,t,n)}}function x(t){return["transition-group","TransitionGroup"].includes(t)}function w(slot,t,e){return slot[e]||(t[e]?t[e]():void 0)}var k=["Start","Add","Remove","Update","End"],_=["Choose","Unchoose","Sort","Filter","Clone"],O=["Move"].concat(k,_).map((function(t){return"on"+t})),S=null,M={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=function(t){if(!t||1!==t.length)return!1;var e=c(t,1)[0].componentOptions;return!!e&&x(e.tag)}(e);var n=function(t,slot,e){var n=0,r=0,header=w(slot,e,"header");header&&(n=header.length,t=t?[].concat(d(header),d(t)):d(header));var footer=w(slot,e,"footer");return footer&&(r=footer.length,t=t?[].concat(d(t),d(footer)):d(footer)),{children:t,headerOffset:n,footerOffset:r}}(e,this.$slots,this.$scopedSlots),r=n.children,o=n.headerOffset,l=n.footerOffset;this.headerOffset=o,this.footerOffset=l;var h=function(t,e){var n=null,r=function(t,e){n=function(object,t,e){return void 0===e||((object=object||{})[t]=e),object}(n,t,e)};if(r("attrs",Object.keys(t).filter((function(t){return"id"===t||t.startsWith("data-")})).reduce((function(e,n){return e[n]=t[n],e}),{})),!e)return n;var o=e.on,l=e.props,c=e.attrs;return r("on",o),r("props",l),Object.assign(n.attrs,c),n}(this.$attrs,this.componentData);return t(this.getTag(),h,r)},created:function(){null!==this.list&&null!==this.value&&m.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&m.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&m.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};k.forEach((function(n){e["on"+n]=y.call(t,n)})),_.forEach((function(n){e["on"+n]=v.bind(t,n)}));var n=Object.keys(this.$attrs).reduce((function(e,n){return e[Object(m.a)(n)]=t.$attrs[n],e}),{}),r=Object.assign({},this.options,n,e,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new f.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var n=Object(m.a)(e);-1===O.indexOf(n)&&this._sortable.option(n,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick((function(){t.visibleIndexes=function(t,e,n,r){if(!t)return[];var o=t.map((function(t){return t.elm})),l=e.length-r,c=d(e).map((function(t,e){return e>=l?o.length:o.indexOf(t)}));return n?c.filter((function(t){return-1!==t})):c}(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)}))},getUnderlyingVm:function(t){var e=function(t,element){return t.map((function(t){return t.elm})).indexOf(element)}(this.getChildrenNodes()||[],t);return-1===e?null:{index:e,element:this.realList[e]}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&x(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},alterList:function(t){if(this.list)t(this.list);else{var e=d(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,d(t))};this.alterList(e)},updatePosition:function(t,e){var n=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,component=this.getUnderlyingPotencialDraggableComponent(e);if(!component)return{component:component};var r=component.realList,o={list:r,component:component};if(e!==n&&r&&component.getUnderlyingVm){var l=component.getUnderlyingVm(n);if(l)return Object.assign(l,o)}return o},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[t].data=null;var e=this.getComponent();e.children=[],e.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),S=t.item},onDragAdd:function(t){var element=t.item._underlying_vm_;if(void 0!==element){Object(m.d)(t.item);var e=this.getVmIndex(t.newIndex);this.spliceList(e,0,element),this.computeIndexes();var n={element:element,newIndex:e};this.emitChanges({added:n})}},onDragRemove:function(t){if(Object(m.c)(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})}else Object(m.d)(t.clone)},onDragUpdate:function(t){Object(m.d)(t.item),Object(m.c)(t.from,t.item,t.oldIndex);var e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);var r={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=d(e.to.children).filter((function(t){return"none"!==t.style.display})),r=n.indexOf(e.related),o=t.component.getVmIndex(r);return-1===n.indexOf(S)&&e.willInsertAfter?o+1:o},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(t),o=this.context,l=this.computeFutureIndex(r,t);return Object.assign(o,{futureIndex:l}),n(Object.assign({},t,{relatedContext:r,draggedContext:o}),e)},onDragEnd:function(){this.computeIndexes(),S=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",M);var C=M;e.default=C}}).default},t.exports=r(n(1045))},992:function(t,e,n){"use strict";var r=n(958);n.d(e,"a",(function(){return r.b})),n.d(e,"b",(function(){return r.c})),n.d(e,"c",(function(){return r.d})),n.d(e,"d",(function(){return r.e})),n.d(e,"e",(function(){return r.f})),n.d(e,"f",(function(){return r.g}))},994:function(t,e,n){"use strict";n(17),n(14),n(20),n(21),n(15),n(13);var r=n(142),o=n(2),l=(n(5),n(72),n(945),n(554),n(54)),c=n(100),d=n(389),h=["title"];function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.a=d.a.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return m(m({},c.a.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var t=this.attrs$,e=(t.title,Object(r.a)(t,h));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(l.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",m(m({},e),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},996:function(t,e,n){"use strict";var r=n(953),o=n(345),l=n(367),c=n(12),d=n(884),h=n(316),f=(n(315),n(45),{components:{ModalToolbar:n(179).a},props:{small:{type:Boolean,default:!1},title:{type:String,default:"Löschen"},label:{type:String,default:"Unwiderruflich löschen"},icon:{type:String,default:"icon icon-delete"},buttonIcon:{type:Boolean,default:!0},text:{type:Boolean,default:!1},block:{type:Boolean,default:!1},color:{type:String,default:""},dark:{type:Boolean,default:!1},badge:{type:Number,default:0},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},classes:{type:String,default:""}},data:function(){return{dialog:!1}},methods:{confirmDelete:function(){this.$emit("delete"),this.dialog=!1}}}),m=n(42),component=Object(m.a)(f,(function(){var t=this,e=t._self._c;return e(d.a,{attrs:{width:"480"},scopedSlots:t._u([{key:"activator",fn:function(n){var l=n.on;return[e(r.a,{class:{"d-block":t.block},attrs:{value:t.badge>0,content:t.badge,overlap:"",color:"red"}},[e(o.a,t._g({class:t.classes,attrs:{icon:t.buttonIcon,small:t.small,text:t.text,block:t.block,color:t.color,dark:t.dark,disabled:t.disabled,loading:t.loading,"data-cy":"deleteConfirmButton"},on:{click:function(e){e.preventDefault(),t.dialog=!0}}},l),[t._t("button",(function(){return[e(h.a,{attrs:{small:t.small}},[t._v("\n            icon icon-delete\n          ")])]}))],2)],1)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),e(l.a,{attrs:{color:"error",dark:""}},[e("modal-toolbar",{attrs:{colored:!0,color:"error",dark:"",title:t.title},on:{close:function(e){t.dialog=!1}}}),t._v(" "),t._t("default"),t._v(" "),e(c.a,[e(o.a,{attrs:{dark:"","data-cy":"entitieConfirmDeleteButton",block:""},on:{click:function(e){return t.confirmDelete()}}},[e(h.a,{attrs:{left:""}},[t._v("\n          "+t._s(t.icon)+"\n        ")]),t._v("\n        "+t._s(t.label)+"\n      ")],1)],1)],2)],1)}),[],!1,null,null,null);e.a=component.exports}}]);
//# sourceMappingURL=8b9d0ea.js.map
//# debugId=975562ad-0ead-5de9-84fe-65cd183e77bc
